var wT=Object.defineProperty;var ET=(i,e,t)=>e in i?wT(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var z=(i,e,t)=>(ET(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function Fl(i,e){const t=Object.create(null),n=i.split(",");for(let s=0;s<n.length;s++)t[n[s]]=!0;return e?s=>!!t[s.toLowerCase()]:s=>!!t[s]}const mt={},bi=[],Ln=()=>{},AT=()=>!1,kT=/^on[^a-z]/,xo=i=>kT.test(i),Dl=i=>i.startsWith("onUpdate:"),zt=Object.assign,Ml=(i,e)=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)},xT=Object.prototype.hasOwnProperty,Qe=(i,e)=>xT.call(i,e),Le=Array.isArray,Ti=i=>Co(i)==="[object Map]",Cf=i=>Co(i)==="[object Set]",Ue=i=>typeof i=="function",Pt=i=>typeof i=="string",zl=i=>typeof i=="symbol",St=i=>i!==null&&typeof i=="object",Rf=i=>St(i)&&Ue(i.then)&&Ue(i.catch),Nf=Object.prototype.toString,Co=i=>Nf.call(i),CT=i=>Co(i).slice(8,-1),If=i=>Co(i)==="[object Object]",Bl=i=>Pt(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,co=Fl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ro=i=>{const e=Object.create(null);return t=>e[t]||(e[t]=i(t))},RT=/-(\w)/g,$n=Ro(i=>i.replace(RT,(e,t)=>t?t.toUpperCase():"")),NT=/\B([A-Z])/g,ki=Ro(i=>i.replace(NT,"-$1").toLowerCase()),No=Ro(i=>i.charAt(0).toUpperCase()+i.slice(1)),ol=Ro(i=>i?`on${No(i)}`:""),rs=(i,e)=>!Object.is(i,e),ho=(i,e)=>{for(let t=0;t<i.length;t++)i[t](e)},mo=(i,e,t)=>{Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value:t})},ml=i=>{const e=parseFloat(i);return isNaN(e)?i:e};let Dh;const _l=()=>Dh||(Dh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xi(i){if(Le(i)){const e={};for(let t=0;t<i.length;t++){const n=i[t],s=Pt(n)?PT(n):xi(n);if(s)for(const o in s)e[o]=s[o]}return e}else{if(Pt(i))return i;if(St(i))return i}}const IT=/;(?![^(]*\))/g,LT=/:([^]+)/,OT=/\/\*[^]*?\*\//g;function PT(i){const e={};return i.replace(OT,"").split(IT).forEach(t=>{if(t){const n=t.split(LT);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function tr(i){let e="";if(Pt(i))e=i;else if(Le(i))for(let t=0;t<i.length;t++){const n=tr(i[t]);n&&(e+=n+" ")}else if(St(i))for(const t in i)i[t]&&(e+=t+" ");return e.trim()}const FT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",DT=Fl(FT);function Lf(i){return!!i||i===""}const nr=i=>Pt(i)?i:i==null?"":Le(i)||St(i)&&(i.toString===Nf||!Ue(i.toString))?JSON.stringify(i,Of,2):String(i),Of=(i,e)=>e&&e.__v_isRef?Of(i,e.value):Ti(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,s])=>(t[`${n} =>`]=s,t),{})}:Cf(e)?{[`Set(${e.size})`]:[...e.values()]}:St(e)&&!Le(e)&&!If(e)?String(e):e;let cn;class Pf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=cn,!e&&cn&&(this.index=(cn.scopes||(cn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=cn;try{return cn=this,e()}finally{cn=t}}}on(){cn=this}off(){cn=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Ff(i){return new Pf(i)}function MT(i,e=cn){e&&e.active&&e.effects.push(i)}function Df(){return cn}function zT(i){cn&&cn.cleanups.push(i)}const Ul=i=>{const e=new Set(i);return e.w=0,e.n=0,e},Mf=i=>(i.w&Nr)>0,zf=i=>(i.n&Nr)>0,BT=({deps:i})=>{if(i.length)for(let e=0;e<i.length;e++)i[e].w|=Nr},UT=i=>{const{deps:e}=i;if(e.length){let t=0;for(let n=0;n<e.length;n++){const s=e[n];Mf(s)&&!zf(s)?s.delete(i):e[t++]=s,s.w&=~Nr,s.n&=~Nr}e.length=t}},_o=new WeakMap;let Zi=0,Nr=1;const vl=30;let Cn;const Yr=Symbol(""),bl=Symbol("");class jl{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,MT(this,n)}run(){if(!this.active)return this.fn();let e=Cn,t=Ar;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Cn,Cn=this,Ar=!0,Nr=1<<++Zi,Zi<=vl?BT(this):Mh(this),this.fn()}finally{Zi<=vl&&UT(this),Nr=1<<--Zi,Cn=this.parent,Ar=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Cn===this?this.deferStop=!0:this.active&&(Mh(this),this.onStop&&this.onStop(),this.active=!1)}}function Mh(i){const{deps:e}=i;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(i);e.length=0}}let Ar=!0;const Bf=[];function Ci(){Bf.push(Ar),Ar=!1}function Ri(){const i=Bf.pop();Ar=i===void 0?!0:i}function nn(i,e,t){if(Ar&&Cn){let n=_o.get(i);n||_o.set(i,n=new Map);let s=n.get(t);s||n.set(t,s=Ul()),Uf(s)}}function Uf(i,e){let t=!1;Zi<=vl?zf(i)||(i.n|=Nr,t=!Mf(i)):t=!i.has(Cn),t&&(i.add(Cn),Cn.deps.push(i))}function ir(i,e,t,n,s,o){const l=_o.get(i);if(!l)return;let u=[];if(e==="clear")u=[...l.values()];else if(t==="length"&&Le(i)){const h=Number(n);l.forEach((f,v)=>{(v==="length"||v>=h)&&u.push(f)})}else switch(t!==void 0&&u.push(l.get(t)),e){case"add":Le(i)?Bl(t)&&u.push(l.get("length")):(u.push(l.get(Yr)),Ti(i)&&u.push(l.get(bl)));break;case"delete":Le(i)||(u.push(l.get(Yr)),Ti(i)&&u.push(l.get(bl)));break;case"set":Ti(i)&&u.push(l.get(Yr));break}if(u.length===1)u[0]&&Tl(u[0]);else{const h=[];for(const f of u)f&&h.push(...f);Tl(Ul(h))}}function Tl(i,e){const t=Le(i)?i:[...i];for(const n of t)n.computed&&zh(n);for(const n of t)n.computed||zh(n)}function zh(i,e){(i!==Cn||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}function jT(i,e){var t;return(t=_o.get(i))==null?void 0:t.get(e)}const $T=Fl("__proto__,__v_isRef,__isVue"),jf=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(zl)),HT=$l(),WT=$l(!1,!0),GT=$l(!0),Bh=KT();function KT(){const i={};return["includes","indexOf","lastIndexOf"].forEach(e=>{i[e]=function(...t){const n=et(this);for(let o=0,l=this.length;o<l;o++)nn(n,"get",o+"");const s=n[e](...t);return s===-1||s===!1?n[e](...t.map(et)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{i[e]=function(...t){Ci();const n=et(this)[e].apply(this,t);return Ri(),n}}),i}function qT(i){const e=et(this);return nn(e,"has",i),e.hasOwnProperty(i)}function $l(i=!1,e=!1){return function(n,s,o){if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&o===(i?e?uS:Kf:e?Gf:Wf).get(n))return n;const l=Le(n);if(!i){if(l&&Qe(Bh,s))return Reflect.get(Bh,s,o);if(s==="hasOwnProperty")return qT}const u=Reflect.get(n,s,o);return(zl(s)?jf.has(s):$T(s))||(i||nn(n,"get",s),e)?u:Nt(u)?l&&Bl(s)?u:u.value:St(u)?i?qf(u):Lo(u):u}}const ZT=$f(),YT=$f(!0);function $f(i=!1){return function(t,n,s,o){let l=t[n];if(yi(l)&&Nt(l)&&!Nt(s))return!1;if(!i&&(!vo(s)&&!yi(s)&&(l=et(l),s=et(s)),!Le(t)&&Nt(l)&&!Nt(s)))return l.value=s,!0;const u=Le(t)&&Bl(n)?Number(n)<t.length:Qe(t,n),h=Reflect.set(t,n,s,o);return t===et(o)&&(u?rs(s,l)&&ir(t,"set",n,s):ir(t,"add",n,s)),h}}function VT(i,e){const t=Qe(i,e);i[e];const n=Reflect.deleteProperty(i,e);return n&&t&&ir(i,"delete",e,void 0),n}function XT(i,e){const t=Reflect.has(i,e);return(!zl(e)||!jf.has(e))&&nn(i,"has",e),t}function JT(i){return nn(i,"iterate",Le(i)?"length":Yr),Reflect.ownKeys(i)}const Hf={get:HT,set:ZT,deleteProperty:VT,has:XT,ownKeys:JT},QT={get:GT,set(i,e){return!0},deleteProperty(i,e){return!0}},eS=zt({},Hf,{get:WT,set:YT}),Hl=i=>i,Io=i=>Reflect.getPrototypeOf(i);function to(i,e,t=!1,n=!1){i=i.__v_raw;const s=et(i),o=et(e);t||(e!==o&&nn(s,"get",e),nn(s,"get",o));const{has:l}=Io(s),u=n?Hl:t?Kl:is;if(l.call(s,e))return u(i.get(e));if(l.call(s,o))return u(i.get(o));i!==s&&i.get(e)}function no(i,e=!1){const t=this.__v_raw,n=et(t),s=et(i);return e||(i!==s&&nn(n,"has",i),nn(n,"has",s)),i===s?t.has(i):t.has(i)||t.has(s)}function ro(i,e=!1){return i=i.__v_raw,!e&&nn(et(i),"iterate",Yr),Reflect.get(i,"size",i)}function Uh(i){i=et(i);const e=et(this);return Io(e).has.call(e,i)||(e.add(i),ir(e,"add",i,i)),this}function jh(i,e){e=et(e);const t=et(this),{has:n,get:s}=Io(t);let o=n.call(t,i);o||(i=et(i),o=n.call(t,i));const l=s.call(t,i);return t.set(i,e),o?rs(e,l)&&ir(t,"set",i,e):ir(t,"add",i,e),this}function $h(i){const e=et(this),{has:t,get:n}=Io(e);let s=t.call(e,i);s||(i=et(i),s=t.call(e,i)),n&&n.call(e,i);const o=e.delete(i);return s&&ir(e,"delete",i,void 0),o}function Hh(){const i=et(this),e=i.size!==0,t=i.clear();return e&&ir(i,"clear",void 0,void 0),t}function io(i,e){return function(n,s){const o=this,l=o.__v_raw,u=et(l),h=e?Hl:i?Kl:is;return!i&&nn(u,"iterate",Yr),l.forEach((f,v)=>n.call(s,h(f),h(v),o))}}function so(i,e,t){return function(...n){const s=this.__v_raw,o=et(s),l=Ti(o),u=i==="entries"||i===Symbol.iterator&&l,h=i==="keys"&&l,f=s[i](...n),v=t?Hl:e?Kl:is;return!e&&nn(o,"iterate",h?bl:Yr),{next(){const{value:g,done:b}=f.next();return b?{value:g,done:b}:{value:u?[v(g[0]),v(g[1])]:v(g),done:b}},[Symbol.iterator](){return this}}}}function _r(i){return function(...e){return i==="delete"?!1:this}}function tS(){const i={get(o){return to(this,o)},get size(){return ro(this)},has:no,add:Uh,set:jh,delete:$h,clear:Hh,forEach:io(!1,!1)},e={get(o){return to(this,o,!1,!0)},get size(){return ro(this)},has:no,add:Uh,set:jh,delete:$h,clear:Hh,forEach:io(!1,!0)},t={get(o){return to(this,o,!0)},get size(){return ro(this,!0)},has(o){return no.call(this,o,!0)},add:_r("add"),set:_r("set"),delete:_r("delete"),clear:_r("clear"),forEach:io(!0,!1)},n={get(o){return to(this,o,!0,!0)},get size(){return ro(this,!0)},has(o){return no.call(this,o,!0)},add:_r("add"),set:_r("set"),delete:_r("delete"),clear:_r("clear"),forEach:io(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{i[o]=so(o,!1,!1),t[o]=so(o,!0,!1),e[o]=so(o,!1,!0),n[o]=so(o,!0,!0)}),[i,t,e,n]}const[nS,rS,iS,sS]=tS();function Wl(i,e){const t=e?i?sS:iS:i?rS:nS;return(n,s,o)=>s==="__v_isReactive"?!i:s==="__v_isReadonly"?i:s==="__v_raw"?n:Reflect.get(Qe(t,s)&&s in n?t:n,s,o)}const oS={get:Wl(!1,!1)},aS={get:Wl(!1,!0)},lS={get:Wl(!0,!1)},Wf=new WeakMap,Gf=new WeakMap,Kf=new WeakMap,uS=new WeakMap;function cS(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hS(i){return i.__v_skip||!Object.isExtensible(i)?0:cS(CT(i))}function Lo(i){return yi(i)?i:Gl(i,!1,Hf,oS,Wf)}function fS(i){return Gl(i,!1,eS,aS,Gf)}function qf(i){return Gl(i,!0,QT,lS,Kf)}function Gl(i,e,t,n,s){if(!St(i)||i.__v_raw&&!(e&&i.__v_isReactive))return i;const o=s.get(i);if(o)return o;const l=hS(i);if(l===0)return i;const u=new Proxy(i,l===2?n:t);return s.set(i,u),u}function kr(i){return yi(i)?kr(i.__v_raw):!!(i&&i.__v_isReactive)}function yi(i){return!!(i&&i.__v_isReadonly)}function vo(i){return!!(i&&i.__v_isShallow)}function Zf(i){return kr(i)||yi(i)}function et(i){const e=i&&i.__v_raw;return e?et(e):i}function Oo(i){return mo(i,"__v_skip",!0),i}const is=i=>St(i)?Lo(i):i,Kl=i=>St(i)?qf(i):i;function Yf(i){Ar&&Cn&&(i=et(i),Uf(i.dep||(i.dep=Ul())))}function Vf(i,e){i=et(i);const t=i.dep;t&&Tl(t)}function Nt(i){return!!(i&&i.__v_isRef===!0)}function Xf(i){return dS(i,!1)}function dS(i,e){return Nt(i)?i:new pS(i,e)}class pS{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:et(e),this._value=t?e:is(e)}get value(){return Yf(this),this._value}set value(e){const t=this.__v_isShallow||vo(e)||yi(e);e=t?e:et(e),rs(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:is(e),Vf(this))}}function gS(i){return Nt(i)?i.value:i}const mS={get:(i,e,t)=>gS(Reflect.get(i,e,t)),set:(i,e,t,n)=>{const s=i[e];return Nt(s)&&!Nt(t)?(s.value=t,!0):Reflect.set(i,e,t,n)}};function Jf(i){return kr(i)?i:new Proxy(i,mS)}function _S(i){const e=Le(i)?new Array(i.length):{};for(const t in i)e[t]=bS(i,t);return e}class vS{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return jT(et(this._object),this._key)}}function bS(i,e,t){const n=i[e];return Nt(n)?n:new vS(i,e,t)}class TS{constructor(e,t,n,s){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new jl(e,()=>{this._dirty||(this._dirty=!0,Vf(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const e=et(this);return Yf(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function SS(i,e,t=!1){let n,s;const o=Ue(i);return o?(n=i,s=Ln):(n=i.get,s=i.set),new TS(n,s,o||!s,t)}function xr(i,e,t,n){let s;try{s=n?i(...n):i()}catch(o){Po(o,e,t)}return s}function On(i,e,t,n){if(Ue(i)){const o=xr(i,e,t,n);return o&&Rf(o)&&o.catch(l=>{Po(l,e,t)}),o}const s=[];for(let o=0;o<i.length;o++)s.push(On(i[o],e,t,n));return s}function Po(i,e,t,n=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const l=e.proxy,u=t;for(;o;){const f=o.ec;if(f){for(let v=0;v<f.length;v++)if(f[v](i,l,u)===!1)return}o=o.parent}const h=e.appContext.config.errorHandler;if(h){xr(h,null,10,[i,l,u]);return}}yS(i,t,s,n)}function yS(i,e,t,n=!0){console.error(i)}let ss=!1,Sl=!1;const Gt=[];let Un=0;const Si=[];let er=null,Kr=0;const Qf=Promise.resolve();let ql=null;function ed(i){const e=ql||Qf;return i?e.then(this?i.bind(this):i):e}function wS(i){let e=Un+1,t=Gt.length;for(;e<t;){const n=e+t>>>1;os(Gt[n])<i?e=n+1:t=n}return e}function Zl(i){(!Gt.length||!Gt.includes(i,ss&&i.allowRecurse?Un+1:Un))&&(i.id==null?Gt.push(i):Gt.splice(wS(i.id),0,i),td())}function td(){!ss&&!Sl&&(Sl=!0,ql=Qf.then(rd))}function ES(i){const e=Gt.indexOf(i);e>Un&&Gt.splice(e,1)}function AS(i){Le(i)?Si.push(...i):(!er||!er.includes(i,i.allowRecurse?Kr+1:Kr))&&Si.push(i),td()}function Wh(i,e=ss?Un+1:0){for(;e<Gt.length;e++){const t=Gt[e];t&&t.pre&&(Gt.splice(e,1),e--,t())}}function nd(i){if(Si.length){const e=[...new Set(Si)];if(Si.length=0,er){er.push(...e);return}for(er=e,er.sort((t,n)=>os(t)-os(n)),Kr=0;Kr<er.length;Kr++)er[Kr]();er=null,Kr=0}}const os=i=>i.id==null?1/0:i.id,kS=(i,e)=>{const t=os(i)-os(e);if(t===0){if(i.pre&&!e.pre)return-1;if(e.pre&&!i.pre)return 1}return t};function rd(i){Sl=!1,ss=!0,Gt.sort(kS);const e=Ln;try{for(Un=0;Un<Gt.length;Un++){const t=Gt[Un];t&&t.active!==!1&&xr(t,null,14)}}finally{Un=0,Gt.length=0,nd(),ss=!1,ql=null,(Gt.length||Si.length)&&rd()}}function xS(i,e,...t){if(i.isUnmounted)return;const n=i.vnode.props||mt;let s=t;const o=e.startsWith("update:"),l=o&&e.slice(7);if(l&&l in n){const v=`${l==="modelValue"?"model":l}Modifiers`,{number:g,trim:b}=n[v]||mt;b&&(s=t.map(m=>Pt(m)?m.trim():m)),g&&(s=t.map(ml))}let u,h=n[u=ol(e)]||n[u=ol($n(e))];!h&&o&&(h=n[u=ol(ki(e))]),h&&On(h,i,6,s);const f=n[u+"Once"];if(f){if(!i.emitted)i.emitted={};else if(i.emitted[u])return;i.emitted[u]=!0,On(f,i,6,s)}}function id(i,e,t=!1){const n=e.emitsCache,s=n.get(i);if(s!==void 0)return s;const o=i.emits;let l={},u=!1;if(!Ue(i)){const h=f=>{const v=id(f,e,!0);v&&(u=!0,zt(l,v))};!t&&e.mixins.length&&e.mixins.forEach(h),i.extends&&h(i.extends),i.mixins&&i.mixins.forEach(h)}return!o&&!u?(St(i)&&n.set(i,null),null):(Le(o)?o.forEach(h=>l[h]=null):zt(l,o),St(i)&&n.set(i,l),l)}function Fo(i,e){return!i||!xo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qe(i,e[0].toLowerCase()+e.slice(1))||Qe(i,ki(e))||Qe(i,e))}let jt=null,Do=null;function bo(i){const e=jt;return jt=i,Do=i&&i.type.__scopeId||null,e}function Mo(i){Do=i}function zo(){Do=null}function br(i,e=jt,t){if(!e||i._n)return i;const n=(...s)=>{n._d&&tf(-1);const o=bo(e);let l;try{l=i(...s)}finally{bo(o),n._d&&tf(1)}return l};return n._n=!0,n._c=!0,n._d=!0,n}function al(i){const{type:e,vnode:t,proxy:n,withProxy:s,props:o,propsOptions:[l],slots:u,attrs:h,emit:f,render:v,renderCache:g,data:b,setupState:m,ctx:A,inheritAttrs:_}=i;let E,w;const S=bo(i);try{if(t.shapeFlag&4){const I=s||n;E=Bn(v.call(I,I,g,o,m,b,A)),w=h}else{const I=e;E=Bn(I.length>1?I(o,{attrs:h,slots:u,emit:f}):I(o,null)),w=e.props?h:CS(h)}}catch(I){es.length=0,Po(I,i,1),E=We(Ir)}let k=E;if(w&&_!==!1){const I=Object.keys(w),{shapeFlag:L}=k;I.length&&L&7&&(l&&I.some(Dl)&&(w=RS(w,l)),k=wi(k,w))}return t.dirs&&(k=wi(k),k.dirs=k.dirs?k.dirs.concat(t.dirs):t.dirs),t.transition&&(k.transition=t.transition),E=k,bo(S),E}const CS=i=>{let e;for(const t in i)(t==="class"||t==="style"||xo(t))&&((e||(e={}))[t]=i[t]);return e},RS=(i,e)=>{const t={};for(const n in i)(!Dl(n)||!(n.slice(9)in e))&&(t[n]=i[n]);return t};function NS(i,e,t){const{props:n,children:s,component:o}=i,{props:l,children:u,patchFlag:h}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&h>=0){if(h&1024)return!0;if(h&16)return n?Gh(n,l,f):!!l;if(h&8){const v=e.dynamicProps;for(let g=0;g<v.length;g++){const b=v[g];if(l[b]!==n[b]&&!Fo(f,b))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:n===l?!1:n?l?Gh(n,l,f):!0:!!l;return!1}function Gh(i,e,t){const n=Object.keys(e);if(n.length!==Object.keys(i).length)return!0;for(let s=0;s<n.length;s++){const o=n[s];if(e[o]!==i[o]&&!Fo(t,o))return!0}return!1}function IS({vnode:i,parent:e},t){for(;e&&e.subTree===i;)(i=e.vnode).el=t,e=e.parent}const LS=i=>i.__isSuspense;function OS(i,e){e&&e.pendingBranch?Le(i)?e.effects.push(...i):e.effects.push(i):AS(i)}const oo={};function fo(i,e,t){return sd(i,e,t)}function sd(i,e,{immediate:t,deep:n,flush:s,onTrack:o,onTrigger:l}=mt){var u;const h=Df()===((u=Mt)==null?void 0:u.scope)?Mt:null;let f,v=!1,g=!1;if(Nt(i)?(f=()=>i.value,v=vo(i)):kr(i)?(f=()=>i,n=!0):Le(i)?(g=!0,v=i.some(I=>kr(I)||vo(I)),f=()=>i.map(I=>{if(Nt(I))return I.value;if(kr(I))return Zr(I);if(Ue(I))return xr(I,h,2)})):Ue(i)?e?f=()=>xr(i,h,2):f=()=>{if(!(h&&h.isUnmounted))return b&&b(),On(i,h,3,[m])}:f=Ln,e&&n){const I=f;f=()=>Zr(I())}let b,m=I=>{b=S.onStop=()=>{xr(I,h,4)}},A;if(cs)if(m=Ln,e?t&&On(e,h,3,[f(),g?[]:void 0,m]):f(),s==="sync"){const I=R1();A=I.__watcherHandles||(I.__watcherHandles=[])}else return Ln;let _=g?new Array(i.length).fill(oo):oo;const E=()=>{if(S.active)if(e){const I=S.run();(n||v||(g?I.some((L,j)=>rs(L,_[j])):rs(I,_)))&&(b&&b(),On(e,h,3,[I,_===oo?void 0:g&&_[0]===oo?[]:_,m]),_=I)}else S.run()};E.allowRecurse=!!e;let w;s==="sync"?w=E:s==="post"?w=()=>tn(E,h&&h.suspense):(E.pre=!0,h&&(E.id=h.uid),w=()=>Zl(E));const S=new jl(f,w);e?t?E():_=S.run():s==="post"?tn(S.run.bind(S),h&&h.suspense):S.run();const k=()=>{S.stop(),h&&h.scope&&Ml(h.scope.effects,S)};return A&&A.push(k),k}function PS(i,e,t){const n=this.proxy,s=Pt(i)?i.includes(".")?od(n,i):()=>n[i]:i.bind(n,n);let o;Ue(e)?o=e:(o=e.handler,t=e);const l=Mt;Ei(this);const u=sd(s,o.bind(n),t);return l?Ei(l):Vr(),u}function od(i,e){const t=e.split(".");return()=>{let n=i;for(let s=0;s<t.length&&n;s++)n=n[t[s]];return n}}function Zr(i,e){if(!St(i)||i.__v_skip||(e=e||new Set,e.has(i)))return i;if(e.add(i),Nt(i))Zr(i.value,e);else if(Le(i))for(let t=0;t<i.length;t++)Zr(i[t],e);else if(Cf(i)||Ti(i))i.forEach(t=>{Zr(t,e)});else if(If(i))for(const t in i)Zr(i[t],e);return i}function Vi(i,e){const t=jt;if(t===null)return i;const n=$o(t)||t.proxy,s=i.dirs||(i.dirs=[]);for(let o=0;o<e.length;o++){let[l,u,h,f=mt]=e[o];l&&(Ue(l)&&(l={mounted:l,updated:l}),l.deep&&Zr(u),s.push({dir:l,instance:n,value:u,oldValue:void 0,arg:h,modifiers:f}))}return i}function Wr(i,e,t,n){const s=i.dirs,o=e&&e.dirs;for(let l=0;l<s.length;l++){const u=s[l];o&&(u.oldValue=o[l].value);let h=u.dir[n];h&&(Ci(),On(h,t,8,[i.el,u,i,e]),Ri())}}function sr(i,e){return Ue(i)?(()=>zt({name:i.name},e,{setup:i}))():i}const Xi=i=>!!i.type.__asyncLoader,ad=i=>i.type.__isKeepAlive;function FS(i,e){ld(i,"a",e)}function DS(i,e){ld(i,"da",e)}function ld(i,e,t=Mt){const n=i.__wdc||(i.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return i()});if(Bo(e,n,t),t){let s=t.parent;for(;s&&s.parent;)ad(s.parent.vnode)&&MS(n,e,t,s),s=s.parent}}function MS(i,e,t,n){const s=Bo(e,i,n,!0);ud(()=>{Ml(n[e],s)},t)}function Bo(i,e,t=Mt,n=!1){if(t){const s=t[i]||(t[i]=[]),o=e.__weh||(e.__weh=(...l)=>{if(t.isUnmounted)return;Ci(),Ei(t);const u=On(e,t,i,l);return Vr(),Ri(),u});return n?s.unshift(o):s.push(o),o}}const or=i=>(e,t=Mt)=>(!cs||i==="sp")&&Bo(i,(...n)=>e(...n),t),zS=or("bm"),BS=or("m"),US=or("bu"),jS=or("u"),$S=or("bum"),ud=or("um"),HS=or("sp"),WS=or("rtg"),GS=or("rtc");function KS(i,e=Mt){Bo("ec",i,e)}const cd="components";function yn(i,e){return ZS(cd,i,!0,e)||i}const qS=Symbol.for("v-ndc");function ZS(i,e,t=!0,n=!1){const s=jt||Mt;if(s){const o=s.type;if(i===cd){const u=k1(o,!1);if(u&&(u===e||u===$n(e)||u===No($n(e))))return o}const l=Kh(s[i]||o[i],e)||Kh(s.appContext[i],e);return!l&&n?o:l}}function Kh(i,e){return i&&(i[e]||i[$n(e)]||i[No($n(e))])}function Yl(i,e,t,n){let s;const o=t&&t[n];if(Le(i)||Pt(i)){s=new Array(i.length);for(let l=0,u=i.length;l<u;l++)s[l]=e(i[l],l,void 0,o&&o[l])}else if(typeof i=="number"){s=new Array(i);for(let l=0;l<i;l++)s[l]=e(l+1,l,void 0,o&&o[l])}else if(St(i))if(i[Symbol.iterator])s=Array.from(i,(l,u)=>e(l,u,void 0,o&&o[u]));else{const l=Object.keys(i);s=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const f=l[u];s[u]=e(i[f],f,u,o&&o[u])}}else s=[];return t&&(t[n]=s),s}function YS(i,e,t={},n,s){if(jt.isCE||jt.parent&&Xi(jt.parent)&&jt.parent.isCE)return e!=="default"&&(t.name=e),We("slot",t,n&&n());let o=i[e];o&&o._c&&(o._d=!1),Je();const l=o&&hd(o(t)),u=Jl(Wt,{key:t.key||l&&l.key||`_${e}`},l||(n?n():[]),l&&i._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function hd(i){return i.some(e=>So(e)?!(e.type===Ir||e.type===Wt&&!hd(e.children)):!0)?i:null}const yl=i=>i?wd(i)?$o(i)||i.proxy:yl(i.parent):null,Ji=zt(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>yl(i.parent),$root:i=>yl(i.root),$emit:i=>i.emit,$options:i=>Vl(i),$forceUpdate:i=>i.f||(i.f=()=>Zl(i.update)),$nextTick:i=>i.n||(i.n=ed.bind(i.proxy)),$watch:i=>PS.bind(i)}),ll=(i,e)=>i!==mt&&!i.__isScriptSetup&&Qe(i,e),VS={get({_:i},e){const{ctx:t,setupState:n,data:s,props:o,accessCache:l,type:u,appContext:h}=i;let f;if(e[0]!=="$"){const m=l[e];if(m!==void 0)switch(m){case 1:return n[e];case 2:return s[e];case 4:return t[e];case 3:return o[e]}else{if(ll(n,e))return l[e]=1,n[e];if(s!==mt&&Qe(s,e))return l[e]=2,s[e];if((f=i.propsOptions[0])&&Qe(f,e))return l[e]=3,o[e];if(t!==mt&&Qe(t,e))return l[e]=4,t[e];wl&&(l[e]=0)}}const v=Ji[e];let g,b;if(v)return e==="$attrs"&&nn(i,"get",e),v(i);if((g=u.__cssModules)&&(g=g[e]))return g;if(t!==mt&&Qe(t,e))return l[e]=4,t[e];if(b=h.config.globalProperties,Qe(b,e))return b[e]},set({_:i},e,t){const{data:n,setupState:s,ctx:o}=i;return ll(s,e)?(s[e]=t,!0):n!==mt&&Qe(n,e)?(n[e]=t,!0):Qe(i.props,e)||e[0]==="$"&&e.slice(1)in i?!1:(o[e]=t,!0)},has({_:{data:i,setupState:e,accessCache:t,ctx:n,appContext:s,propsOptions:o}},l){let u;return!!t[l]||i!==mt&&Qe(i,l)||ll(e,l)||(u=o[0])&&Qe(u,l)||Qe(n,l)||Qe(Ji,l)||Qe(s.config.globalProperties,l)},defineProperty(i,e,t){return t.get!=null?i._.accessCache[e]=0:Qe(t,"value")&&this.set(i,e,t.value,null),Reflect.defineProperty(i,e,t)}};function qh(i){return Le(i)?i.reduce((e,t)=>(e[t]=null,e),{}):i}let wl=!0;function XS(i){const e=Vl(i),t=i.proxy,n=i.ctx;wl=!1,e.beforeCreate&&Zh(e.beforeCreate,i,"bc");const{data:s,computed:o,methods:l,watch:u,provide:h,inject:f,created:v,beforeMount:g,mounted:b,beforeUpdate:m,updated:A,activated:_,deactivated:E,beforeDestroy:w,beforeUnmount:S,destroyed:k,unmounted:I,render:L,renderTracked:j,renderTriggered:W,errorCaptured:Y,serverPrefetch:B,expose:te,inheritAttrs:de,components:D,directives:ne,filters:y}=e;if(f&&JS(f,n,null),l)for(const ie in l){const ge=l[ie];Ue(ge)&&(n[ie]=ge.bind(t))}if(s){const ie=s.call(t,t);St(ie)&&(i.data=Lo(ie))}if(wl=!0,o)for(const ie in o){const ge=o[ie],ce=Ue(ge)?ge.bind(t,t):Ue(ge.get)?ge.get.bind(t,t):Ln,Ee=!Ue(ge)&&Ue(ge.set)?ge.set.bind(t):Ln,J=Hn({get:ce,set:Ee});Object.defineProperty(n,ie,{enumerable:!0,configurable:!0,get:()=>J.value,set:X=>J.value=X})}if(u)for(const ie in u)fd(u[ie],n,t,ie);if(h){const ie=Ue(h)?h.call(t):h;Reflect.ownKeys(ie).forEach(ge=>{i1(ge,ie[ge])})}v&&Zh(v,i,"c");function Te(ie,ge){Le(ge)?ge.forEach(ce=>ie(ce.bind(t))):ge&&ie(ge.bind(t))}if(Te(zS,g),Te(BS,b),Te(US,m),Te(jS,A),Te(FS,_),Te(DS,E),Te(KS,Y),Te(GS,j),Te(WS,W),Te($S,S),Te(ud,I),Te(HS,B),Le(te))if(te.length){const ie=i.exposed||(i.exposed={});te.forEach(ge=>{Object.defineProperty(ie,ge,{get:()=>t[ge],set:ce=>t[ge]=ce})})}else i.exposed||(i.exposed={});L&&i.render===Ln&&(i.render=L),de!=null&&(i.inheritAttrs=de),D&&(i.components=D),ne&&(i.directives=ne)}function JS(i,e,t=Ln){Le(i)&&(i=El(i));for(const n in i){const s=i[n];let o;St(s)?"default"in s?o=Qi(s.from||n,s.default,!0):o=Qi(s.from||n):o=Qi(s),Nt(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[n]=o}}function Zh(i,e,t){On(Le(i)?i.map(n=>n.bind(e.proxy)):i.bind(e.proxy),e,t)}function fd(i,e,t,n){const s=n.includes(".")?od(t,n):()=>t[n];if(Pt(i)){const o=e[i];Ue(o)&&fo(s,o)}else if(Ue(i))fo(s,i.bind(t));else if(St(i))if(Le(i))i.forEach(o=>fd(o,e,t,n));else{const o=Ue(i.handler)?i.handler.bind(t):e[i.handler];Ue(o)&&fo(s,o,i)}}function Vl(i){const e=i.type,{mixins:t,extends:n}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=i.appContext,u=o.get(e);let h;return u?h=u:!s.length&&!t&&!n?h=e:(h={},s.length&&s.forEach(f=>To(h,f,l,!0)),To(h,e,l)),St(e)&&o.set(e,h),h}function To(i,e,t,n=!1){const{mixins:s,extends:o}=e;o&&To(i,o,t,!0),s&&s.forEach(l=>To(i,l,t,!0));for(const l in e)if(!(n&&l==="expose")){const u=QS[l]||t&&t[l];i[l]=u?u(i[l],e[l]):e[l]}return i}const QS={data:Yh,props:Vh,emits:Vh,methods:Yi,computed:Yi,beforeCreate:Vt,created:Vt,beforeMount:Vt,mounted:Vt,beforeUpdate:Vt,updated:Vt,beforeDestroy:Vt,beforeUnmount:Vt,destroyed:Vt,unmounted:Vt,activated:Vt,deactivated:Vt,errorCaptured:Vt,serverPrefetch:Vt,components:Yi,directives:Yi,watch:t1,provide:Yh,inject:e1};function Yh(i,e){return e?i?function(){return zt(Ue(i)?i.call(this,this):i,Ue(e)?e.call(this,this):e)}:e:i}function e1(i,e){return Yi(El(i),El(e))}function El(i){if(Le(i)){const e={};for(let t=0;t<i.length;t++)e[i[t]]=i[t];return e}return i}function Vt(i,e){return i?[...new Set([].concat(i,e))]:e}function Yi(i,e){return i?zt(Object.create(null),i,e):e}function Vh(i,e){return i?Le(i)&&Le(e)?[...new Set([...i,...e])]:zt(Object.create(null),qh(i),qh(e??{})):e}function t1(i,e){if(!i)return e;if(!e)return i;const t=zt(Object.create(null),i);for(const n in e)t[n]=Vt(i[n],e[n]);return t}function dd(){return{app:null,config:{isNativeTag:AT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let n1=0;function r1(i,e){return function(n,s=null){Ue(n)||(n=zt({},n)),s!=null&&!St(s)&&(s=null);const o=dd(),l=new Set;let u=!1;const h=o.app={_uid:n1++,_component:n,_props:s,_container:null,_context:o,_instance:null,version:N1,get config(){return o.config},set config(f){},use(f,...v){return l.has(f)||(f&&Ue(f.install)?(l.add(f),f.install(h,...v)):Ue(f)&&(l.add(f),f(h,...v))),h},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),h},component(f,v){return v?(o.components[f]=v,h):o.components[f]},directive(f,v){return v?(o.directives[f]=v,h):o.directives[f]},mount(f,v,g){if(!u){const b=We(n,s);return b.appContext=o,v&&e?e(b,f):i(b,f,g),u=!0,h._container=f,f.__vue_app__=h,$o(b.component)||b.component.proxy}},unmount(){u&&(i(null,h._container),delete h._container.__vue_app__)},provide(f,v){return o.provides[f]=v,h},runWithContext(f){as=h;try{return f()}finally{as=null}}};return h}}let as=null;function i1(i,e){if(Mt){let t=Mt.provides;const n=Mt.parent&&Mt.parent.provides;n===t&&(t=Mt.provides=Object.create(n)),t[i]=e}}function Qi(i,e,t=!1){const n=Mt||jt;if(n||as){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:as._context.provides;if(s&&i in s)return s[i];if(arguments.length>1)return t&&Ue(e)?e.call(n&&n.proxy):e}}function s1(){return!!(Mt||jt||as)}function o1(i,e,t,n=!1){const s={},o={};mo(o,jo,1),i.propsDefaults=Object.create(null),pd(i,e,s,o);for(const l in i.propsOptions[0])l in s||(s[l]=void 0);t?i.props=n?s:fS(s):i.type.props?i.props=s:i.props=o,i.attrs=o}function a1(i,e,t,n){const{props:s,attrs:o,vnode:{patchFlag:l}}=i,u=et(s),[h]=i.propsOptions;let f=!1;if((n||l>0)&&!(l&16)){if(l&8){const v=i.vnode.dynamicProps;for(let g=0;g<v.length;g++){let b=v[g];if(Fo(i.emitsOptions,b))continue;const m=e[b];if(h)if(Qe(o,b))m!==o[b]&&(o[b]=m,f=!0);else{const A=$n(b);s[A]=Al(h,u,A,m,i,!1)}else m!==o[b]&&(o[b]=m,f=!0)}}}else{pd(i,e,s,o)&&(f=!0);let v;for(const g in u)(!e||!Qe(e,g)&&((v=ki(g))===g||!Qe(e,v)))&&(h?t&&(t[g]!==void 0||t[v]!==void 0)&&(s[g]=Al(h,u,g,void 0,i,!0)):delete s[g]);if(o!==u)for(const g in o)(!e||!Qe(e,g))&&(delete o[g],f=!0)}f&&ir(i,"set","$attrs")}function pd(i,e,t,n){const[s,o]=i.propsOptions;let l=!1,u;if(e)for(let h in e){if(co(h))continue;const f=e[h];let v;s&&Qe(s,v=$n(h))?!o||!o.includes(v)?t[v]=f:(u||(u={}))[v]=f:Fo(i.emitsOptions,h)||(!(h in n)||f!==n[h])&&(n[h]=f,l=!0)}if(o){const h=et(t),f=u||mt;for(let v=0;v<o.length;v++){const g=o[v];t[g]=Al(s,h,g,f[g],i,!Qe(f,g))}}return l}function Al(i,e,t,n,s,o){const l=i[t];if(l!=null){const u=Qe(l,"default");if(u&&n===void 0){const h=l.default;if(l.type!==Function&&!l.skipFactory&&Ue(h)){const{propsDefaults:f}=s;t in f?n=f[t]:(Ei(s),n=f[t]=h.call(null,e),Vr())}else n=h}l[0]&&(o&&!u?n=!1:l[1]&&(n===""||n===ki(t))&&(n=!0))}return n}function gd(i,e,t=!1){const n=e.propsCache,s=n.get(i);if(s)return s;const o=i.props,l={},u=[];let h=!1;if(!Ue(i)){const v=g=>{h=!0;const[b,m]=gd(g,e,!0);zt(l,b),m&&u.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(v),i.extends&&v(i.extends),i.mixins&&i.mixins.forEach(v)}if(!o&&!h)return St(i)&&n.set(i,bi),bi;if(Le(o))for(let v=0;v<o.length;v++){const g=$n(o[v]);Xh(g)&&(l[g]=mt)}else if(o)for(const v in o){const g=$n(v);if(Xh(g)){const b=o[v],m=l[g]=Le(b)||Ue(b)?{type:b}:zt({},b);if(m){const A=ef(Boolean,m.type),_=ef(String,m.type);m[0]=A>-1,m[1]=_<0||A<_,(A>-1||Qe(m,"default"))&&u.push(g)}}}const f=[l,u];return St(i)&&n.set(i,f),f}function Xh(i){return i[0]!=="$"}function Jh(i){const e=i&&i.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:i===null?"null":""}function Qh(i,e){return Jh(i)===Jh(e)}function ef(i,e){return Le(e)?e.findIndex(t=>Qh(t,i)):Ue(e)&&Qh(e,i)?0:-1}const md=i=>i[0]==="_"||i==="$stable",Xl=i=>Le(i)?i.map(Bn):[Bn(i)],l1=(i,e,t)=>{if(e._n)return e;const n=br((...s)=>Xl(e(...s)),t);return n._c=!1,n},_d=(i,e,t)=>{const n=i._ctx;for(const s in i){if(md(s))continue;const o=i[s];if(Ue(o))e[s]=l1(s,o,n);else if(o!=null){const l=Xl(o);e[s]=()=>l}}},vd=(i,e)=>{const t=Xl(e);i.slots.default=()=>t},u1=(i,e)=>{if(i.vnode.shapeFlag&32){const t=e._;t?(i.slots=et(e),mo(e,"_",t)):_d(e,i.slots={})}else i.slots={},e&&vd(i,e);mo(i.slots,jo,1)},c1=(i,e,t)=>{const{vnode:n,slots:s}=i;let o=!0,l=mt;if(n.shapeFlag&32){const u=e._;u?t&&u===1?o=!1:(zt(s,e),!t&&u===1&&delete s._):(o=!e.$stable,_d(e,s)),l=e}else e&&(vd(i,e),l={default:1});if(o)for(const u in s)!md(u)&&!(u in l)&&delete s[u]};function kl(i,e,t,n,s=!1){if(Le(i)){i.forEach((b,m)=>kl(b,e&&(Le(e)?e[m]:e),t,n,s));return}if(Xi(n)&&!s)return;const o=n.shapeFlag&4?$o(n.component)||n.component.proxy:n.el,l=s?null:o,{i:u,r:h}=i,f=e&&e.r,v=u.refs===mt?u.refs={}:u.refs,g=u.setupState;if(f!=null&&f!==h&&(Pt(f)?(v[f]=null,Qe(g,f)&&(g[f]=null)):Nt(f)&&(f.value=null)),Ue(h))xr(h,u,12,[l,v]);else{const b=Pt(h),m=Nt(h);if(b||m){const A=()=>{if(i.f){const _=b?Qe(g,h)?g[h]:v[h]:h.value;s?Le(_)&&Ml(_,o):Le(_)?_.includes(o)||_.push(o):b?(v[h]=[o],Qe(g,h)&&(g[h]=v[h])):(h.value=[o],i.k&&(v[i.k]=h.value))}else b?(v[h]=l,Qe(g,h)&&(g[h]=l)):m&&(h.value=l,i.k&&(v[i.k]=l))};l?(A.id=-1,tn(A,t)):A()}}}const tn=OS;function h1(i){return f1(i)}function f1(i,e){const t=_l();t.__VUE__=!0;const{insert:n,remove:s,patchProp:o,createElement:l,createText:u,createComment:h,setText:f,setElementText:v,parentNode:g,nextSibling:b,setScopeId:m=Ln,insertStaticContent:A}=i,_=(M,K,p,U=null,F=null,R=null,C=!1,O=null,q=!!K.dynamicChildren)=>{if(M===K)return;M&&!Ki(M,K)&&(U=ut(M),X(M,F,R,!0),M=null),K.patchFlag===-2&&(q=!1,K.dynamicChildren=null);const{type:G,ref:$,shapeFlag:Q}=K;switch(G){case Uo:E(M,K,p,U);break;case Ir:w(M,K,p,U);break;case po:M==null&&S(K,p,U,C);break;case Wt:D(M,K,p,U,F,R,C,O,q);break;default:Q&1?L(M,K,p,U,F,R,C,O,q):Q&6?ne(M,K,p,U,F,R,C,O,q):(Q&64||Q&128)&&G.process(M,K,p,U,F,R,C,O,q,Oe)}$!=null&&F&&kl($,M&&M.ref,R,K||M,!K)},E=(M,K,p,U)=>{if(M==null)n(K.el=u(K.children),p,U);else{const F=K.el=M.el;K.children!==M.children&&f(F,K.children)}},w=(M,K,p,U)=>{M==null?n(K.el=h(K.children||""),p,U):K.el=M.el},S=(M,K,p,U)=>{[M.el,M.anchor]=A(M.children,K,p,U,M.el,M.anchor)},k=({el:M,anchor:K},p,U)=>{let F;for(;M&&M!==K;)F=b(M),n(M,p,U),M=F;n(K,p,U)},I=({el:M,anchor:K})=>{let p;for(;M&&M!==K;)p=b(M),s(M),M=p;s(K)},L=(M,K,p,U,F,R,C,O,q)=>{C=C||K.type==="svg",M==null?j(K,p,U,F,R,C,O,q):B(M,K,F,R,C,O,q)},j=(M,K,p,U,F,R,C,O)=>{let q,G;const{type:$,props:Q,shapeFlag:oe,transition:re,dirs:me}=M;if(q=M.el=l(M.type,R,Q&&Q.is,Q),oe&8?v(q,M.children):oe&16&&Y(M.children,q,null,U,F,R&&$!=="foreignObject",C,O),me&&Wr(M,null,U,"created"),W(q,M,M.scopeId,C,U),Q){for(const ye in Q)ye!=="value"&&!co(ye)&&o(q,ye,null,Q[ye],R,M.children,U,F,Me);"value"in Q&&o(q,"value",null,Q.value),(G=Q.onVnodeBeforeMount)&&Mn(G,U,M)}me&&Wr(M,null,U,"beforeMount");const ke=(!F||F&&!F.pendingBranch)&&re&&!re.persisted;ke&&re.beforeEnter(q),n(q,K,p),((G=Q&&Q.onVnodeMounted)||ke||me)&&tn(()=>{G&&Mn(G,U,M),ke&&re.enter(q),me&&Wr(M,null,U,"mounted")},F)},W=(M,K,p,U,F)=>{if(p&&m(M,p),U)for(let R=0;R<U.length;R++)m(M,U[R]);if(F){let R=F.subTree;if(K===R){const C=F.vnode;W(M,C,C.scopeId,C.slotScopeIds,F.parent)}}},Y=(M,K,p,U,F,R,C,O,q=0)=>{for(let G=q;G<M.length;G++){const $=M[G]=O?yr(M[G]):Bn(M[G]);_(null,$,K,p,U,F,R,C,O)}},B=(M,K,p,U,F,R,C)=>{const O=K.el=M.el;let{patchFlag:q,dynamicChildren:G,dirs:$}=K;q|=M.patchFlag&16;const Q=M.props||mt,oe=K.props||mt;let re;p&&Gr(p,!1),(re=oe.onVnodeBeforeUpdate)&&Mn(re,p,K,M),$&&Wr(K,M,p,"beforeUpdate"),p&&Gr(p,!0);const me=F&&K.type!=="foreignObject";if(G?te(M.dynamicChildren,G,O,p,U,me,R):C||ge(M,K,O,null,p,U,me,R,!1),q>0){if(q&16)de(O,K,Q,oe,p,U,F);else if(q&2&&Q.class!==oe.class&&o(O,"class",null,oe.class,F),q&4&&o(O,"style",Q.style,oe.style,F),q&8){const ke=K.dynamicProps;for(let ye=0;ye<ke.length;ye++){const Ge=ke[ye],Et=Q[Ge],At=oe[Ge];(At!==Et||Ge==="value")&&o(O,Ge,Et,At,F,M.children,p,U,Me)}}q&1&&M.children!==K.children&&v(O,K.children)}else!C&&G==null&&de(O,K,Q,oe,p,U,F);((re=oe.onVnodeUpdated)||$)&&tn(()=>{re&&Mn(re,p,K,M),$&&Wr(K,M,p,"updated")},U)},te=(M,K,p,U,F,R,C)=>{for(let O=0;O<K.length;O++){const q=M[O],G=K[O],$=q.el&&(q.type===Wt||!Ki(q,G)||q.shapeFlag&70)?g(q.el):p;_(q,G,$,null,U,F,R,C,!0)}},de=(M,K,p,U,F,R,C)=>{if(p!==U){if(p!==mt)for(const O in p)!co(O)&&!(O in U)&&o(M,O,p[O],null,C,K.children,F,R,Me);for(const O in U){if(co(O))continue;const q=U[O],G=p[O];q!==G&&O!=="value"&&o(M,O,G,q,C,K.children,F,R,Me)}"value"in U&&o(M,"value",p.value,U.value)}},D=(M,K,p,U,F,R,C,O,q)=>{const G=K.el=M?M.el:u(""),$=K.anchor=M?M.anchor:u("");let{patchFlag:Q,dynamicChildren:oe,slotScopeIds:re}=K;re&&(O=O?O.concat(re):re),M==null?(n(G,p,U),n($,p,U),Y(K.children,p,$,F,R,C,O,q)):Q>0&&Q&64&&oe&&M.dynamicChildren?(te(M.dynamicChildren,oe,p,F,R,C,O),(K.key!=null||F&&K===F.subTree)&&bd(M,K,!0)):ge(M,K,p,$,F,R,C,O,q)},ne=(M,K,p,U,F,R,C,O,q)=>{K.slotScopeIds=O,M==null?K.shapeFlag&512?F.ctx.activate(K,p,U,C,q):y(K,p,U,F,R,C,q):ae(M,K,q)},y=(M,K,p,U,F,R,C)=>{const O=M.component=S1(M,U,F);if(ad(M)&&(O.ctx.renderer=Oe),y1(O),O.asyncDep){if(F&&F.registerDep(O,Te),!M.el){const q=O.subTree=We(Ir);w(null,q,K,p)}return}Te(O,M,K,p,F,R,C)},ae=(M,K,p)=>{const U=K.component=M.component;if(NS(M,K,p))if(U.asyncDep&&!U.asyncResolved){ie(U,K,p);return}else U.next=K,ES(U.update),U.update();else K.el=M.el,U.vnode=K},Te=(M,K,p,U,F,R,C)=>{const O=()=>{if(M.isMounted){let{next:$,bu:Q,u:oe,parent:re,vnode:me}=M,ke=$,ye;Gr(M,!1),$?($.el=me.el,ie(M,$,C)):$=me,Q&&ho(Q),(ye=$.props&&$.props.onVnodeBeforeUpdate)&&Mn(ye,re,$,me),Gr(M,!0);const Ge=al(M),Et=M.subTree;M.subTree=Ge,_(Et,Ge,g(Et.el),ut(Et),M,F,R),$.el=Ge.el,ke===null&&IS(M,Ge.el),oe&&tn(oe,F),(ye=$.props&&$.props.onVnodeUpdated)&&tn(()=>Mn(ye,re,$,me),F)}else{let $;const{el:Q,props:oe}=K,{bm:re,m:me,parent:ke}=M,ye=Xi(K);if(Gr(M,!1),re&&ho(re),!ye&&($=oe&&oe.onVnodeBeforeMount)&&Mn($,ke,K),Gr(M,!0),Q&&Ye){const Ge=()=>{M.subTree=al(M),Ye(Q,M.subTree,M,F,null)};ye?K.type.__asyncLoader().then(()=>!M.isUnmounted&&Ge()):Ge()}else{const Ge=M.subTree=al(M);_(null,Ge,p,U,M,F,R),K.el=Ge.el}if(me&&tn(me,F),!ye&&($=oe&&oe.onVnodeMounted)){const Ge=K;tn(()=>Mn($,ke,Ge),F)}(K.shapeFlag&256||ke&&Xi(ke.vnode)&&ke.vnode.shapeFlag&256)&&M.a&&tn(M.a,F),M.isMounted=!0,K=p=U=null}},q=M.effect=new jl(O,()=>Zl(G),M.scope),G=M.update=()=>q.run();G.id=M.uid,Gr(M,!0),G()},ie=(M,K,p)=>{K.component=M;const U=M.vnode.props;M.vnode=K,M.next=null,a1(M,K.props,U,p),c1(M,K.children,p),Ci(),Wh(),Ri()},ge=(M,K,p,U,F,R,C,O,q=!1)=>{const G=M&&M.children,$=M?M.shapeFlag:0,Q=K.children,{patchFlag:oe,shapeFlag:re}=K;if(oe>0){if(oe&128){Ee(G,Q,p,U,F,R,C,O,q);return}else if(oe&256){ce(G,Q,p,U,F,R,C,O,q);return}}re&8?($&16&&Me(G,F,R),Q!==G&&v(p,Q)):$&16?re&16?Ee(G,Q,p,U,F,R,C,O,q):Me(G,F,R,!0):($&8&&v(p,""),re&16&&Y(Q,p,U,F,R,C,O,q))},ce=(M,K,p,U,F,R,C,O,q)=>{M=M||bi,K=K||bi;const G=M.length,$=K.length,Q=Math.min(G,$);let oe;for(oe=0;oe<Q;oe++){const re=K[oe]=q?yr(K[oe]):Bn(K[oe]);_(M[oe],re,p,null,F,R,C,O,q)}G>$?Me(M,F,R,!0,!1,Q):Y(K,p,U,F,R,C,O,q,Q)},Ee=(M,K,p,U,F,R,C,O,q)=>{let G=0;const $=K.length;let Q=M.length-1,oe=$-1;for(;G<=Q&&G<=oe;){const re=M[G],me=K[G]=q?yr(K[G]):Bn(K[G]);if(Ki(re,me))_(re,me,p,null,F,R,C,O,q);else break;G++}for(;G<=Q&&G<=oe;){const re=M[Q],me=K[oe]=q?yr(K[oe]):Bn(K[oe]);if(Ki(re,me))_(re,me,p,null,F,R,C,O,q);else break;Q--,oe--}if(G>Q){if(G<=oe){const re=oe+1,me=re<$?K[re].el:U;for(;G<=oe;)_(null,K[G]=q?yr(K[G]):Bn(K[G]),p,me,F,R,C,O,q),G++}}else if(G>oe)for(;G<=Q;)X(M[G],F,R,!0),G++;else{const re=G,me=G,ke=new Map;for(G=me;G<=oe;G++){const kt=K[G]=q?yr(K[G]):Bn(K[G]);kt.key!=null&&ke.set(kt.key,G)}let ye,Ge=0;const Et=oe-me+1;let At=!1,fn=0;const nt=new Array(Et);for(G=0;G<Et;G++)nt[G]=0;for(G=re;G<=Q;G++){const kt=M[G];if(Ge>=Et){X(kt,F,R,!0);continue}let vt;if(kt.key!=null)vt=ke.get(kt.key);else for(ye=me;ye<=oe;ye++)if(nt[ye-me]===0&&Ki(kt,K[ye])){vt=ye;break}vt===void 0?X(kt,F,R,!0):(nt[vt-me]=G+1,vt>=fn?fn=vt:At=!0,_(kt,K[vt],p,null,F,R,C,O,q),Ge++)}const wn=At?d1(nt):bi;for(ye=wn.length-1,G=Et-1;G>=0;G--){const kt=me+G,vt=K[kt],Wn=kt+1<$?K[kt+1].el:U;nt[G]===0?_(null,vt,p,Wn,F,R,C,O,q):At&&(ye<0||G!==wn[ye]?J(vt,p,Wn,2):ye--)}}},J=(M,K,p,U,F=null)=>{const{el:R,type:C,transition:O,children:q,shapeFlag:G}=M;if(G&6){J(M.component.subTree,K,p,U);return}if(G&128){M.suspense.move(K,p,U);return}if(G&64){C.move(M,K,p,Oe);return}if(C===Wt){n(R,K,p);for(let Q=0;Q<q.length;Q++)J(q[Q],K,p,U);n(M.anchor,K,p);return}if(C===po){k(M,K,p);return}if(U!==2&&G&1&&O)if(U===0)O.beforeEnter(R),n(R,K,p),tn(()=>O.enter(R),F);else{const{leave:Q,delayLeave:oe,afterLeave:re}=O,me=()=>n(R,K,p),ke=()=>{Q(R,()=>{me(),re&&re()})};oe?oe(R,me,ke):ke()}else n(R,K,p)},X=(M,K,p,U=!1,F=!1)=>{const{type:R,props:C,ref:O,children:q,dynamicChildren:G,shapeFlag:$,patchFlag:Q,dirs:oe}=M;if(O!=null&&kl(O,null,p,M,!0),$&256){K.ctx.deactivate(M);return}const re=$&1&&oe,me=!Xi(M);let ke;if(me&&(ke=C&&C.onVnodeBeforeUnmount)&&Mn(ke,K,M),$&6)pe(M.component,p,U);else{if($&128){M.suspense.unmount(p,U);return}re&&Wr(M,null,K,"beforeUnmount"),$&64?M.type.remove(M,K,p,F,Oe,U):G&&(R!==Wt||Q>0&&Q&64)?Me(G,K,p,!1,!0):(R===Wt&&Q&384||!F&&$&16)&&Me(q,K,p),U&&xe(M)}(me&&(ke=C&&C.onVnodeUnmounted)||re)&&tn(()=>{ke&&Mn(ke,K,M),re&&Wr(M,null,K,"unmounted")},p)},xe=M=>{const{type:K,el:p,anchor:U,transition:F}=M;if(K===Wt){ve(p,U);return}if(K===po){I(M);return}const R=()=>{s(p),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(M.shapeFlag&1&&F&&!F.persisted){const{leave:C,delayLeave:O}=F,q=()=>C(p,R);O?O(M.el,R,q):q()}else R()},ve=(M,K)=>{let p;for(;M!==K;)p=b(M),s(M),M=p;s(K)},pe=(M,K,p)=>{const{bum:U,scope:F,update:R,subTree:C,um:O}=M;U&&ho(U),F.stop(),R&&(R.active=!1,X(C,M,K,p)),O&&tn(O,K),tn(()=>{M.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},Me=(M,K,p,U=!1,F=!1,R=0)=>{for(let C=R;C<M.length;C++)X(M[C],K,p,U,F)},ut=M=>M.shapeFlag&6?ut(M.component.subTree):M.shapeFlag&128?M.suspense.next():b(M.anchor||M.el),Ie=(M,K,p)=>{M==null?K._vnode&&X(K._vnode,null,null,!0):_(K._vnode||null,M,K,null,null,null,p),Wh(),nd(),K._vnode=M},Oe={p:_,um:X,m:J,r:xe,mt:y,mc:Y,pc:ge,pbc:te,n:ut,o:i};let ct,Ye;return e&&([ct,Ye]=e(Oe)),{render:Ie,hydrate:ct,createApp:r1(Ie,ct)}}function Gr({effect:i,update:e},t){i.allowRecurse=e.allowRecurse=t}function bd(i,e,t=!1){const n=i.children,s=e.children;if(Le(n)&&Le(s))for(let o=0;o<n.length;o++){const l=n[o];let u=s[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[o]=yr(s[o]),u.el=l.el),t||bd(l,u)),u.type===Uo&&(u.el=l.el)}}function d1(i){const e=i.slice(),t=[0];let n,s,o,l,u;const h=i.length;for(n=0;n<h;n++){const f=i[n];if(f!==0){if(s=t[t.length-1],i[s]<f){e[n]=s,t.push(n);continue}for(o=0,l=t.length-1;o<l;)u=o+l>>1,i[t[u]]<f?o=u+1:l=u;f<i[t[o]]&&(o>0&&(e[n]=t[o-1]),t[o]=n)}}for(o=t.length,l=t[o-1];o-- >0;)t[o]=l,l=e[l];return t}const p1=i=>i.__isTeleport,Wt=Symbol.for("v-fgt"),Uo=Symbol.for("v-txt"),Ir=Symbol.for("v-cmt"),po=Symbol.for("v-stc"),es=[];let In=null;function Je(i=!1){es.push(In=i?null:[])}function g1(){es.pop(),In=es[es.length-1]||null}let ls=1;function tf(i){ls+=i}function Td(i){return i.dynamicChildren=ls>0?In||bi:null,g1(),ls>0&&In&&In.push(i),i}function tt(i,e,t,n,s,o){return Td(be(i,e,t,n,s,o,!0))}function Jl(i,e,t,n,s){return Td(We(i,e,t,n,s,!0))}function So(i){return i?i.__v_isVNode===!0:!1}function Ki(i,e){return i.type===e.type&&i.key===e.key}const jo="__vInternal",Sd=({key:i})=>i??null,go=({ref:i,ref_key:e,ref_for:t})=>(typeof i=="number"&&(i=""+i),i!=null?Pt(i)||Nt(i)||Ue(i)?{i:jt,r:i,k:e,f:!!t}:i:null);function be(i,e=null,t=null,n=0,s=null,o=i===Wt?0:1,l=!1,u=!1){const h={__v_isVNode:!0,__v_skip:!0,type:i,props:e,key:e&&Sd(e),ref:e&&go(e),scopeId:Do,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:jt};return u?(eu(h,t),o&128&&i.normalize(h)):t&&(h.shapeFlag|=Pt(t)?8:16),ls>0&&!l&&In&&(h.patchFlag>0||o&6)&&h.patchFlag!==32&&In.push(h),h}const We=m1;function m1(i,e=null,t=null,n=0,s=null,o=!1){if((!i||i===qS)&&(i=Ir),So(i)){const u=wi(i,e,!0);return t&&eu(u,t),ls>0&&!o&&In&&(u.shapeFlag&6?In[In.indexOf(i)]=u:In.push(u)),u.patchFlag|=-2,u}if(x1(i)&&(i=i.__vccOpts),e){e=_1(e);let{class:u,style:h}=e;u&&!Pt(u)&&(e.class=tr(u)),St(h)&&(Zf(h)&&!Le(h)&&(h=zt({},h)),e.style=xi(h))}const l=Pt(i)?1:LS(i)?128:p1(i)?64:St(i)?4:Ue(i)?2:0;return be(i,e,t,n,s,l,o,!0)}function _1(i){return i?Zf(i)||jo in i?zt({},i):i:null}function wi(i,e,t=!1){const{props:n,ref:s,patchFlag:o,children:l}=i,u=e?v1(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:u,key:u&&Sd(u),ref:e&&e.ref?t&&s?Le(s)?s.concat(go(e)):[s,go(e)]:go(e):s,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:l,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:e&&i.type!==Wt?o===-1?16:o|16:o,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&wi(i.ssContent),ssFallback:i.ssFallback&&wi(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce}}function yd(i=" ",e=0){return We(Uo,null,i,e)}function Ql(i,e){const t=We(po,null,i);return t.staticCount=e,t}function us(i="",e=!1){return e?(Je(),Jl(Ir,null,i)):We(Ir,null,i)}function Bn(i){return i==null||typeof i=="boolean"?We(Ir):Le(i)?We(Wt,null,i.slice()):typeof i=="object"?yr(i):We(Uo,null,String(i))}function yr(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:wi(i)}function eu(i,e){let t=0;const{shapeFlag:n}=i;if(e==null)e=null;else if(Le(e))t=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),eu(i,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!(jo in e)?e._ctx=jt:s===3&&jt&&(jt.slots._===1?e._=1:(e._=2,i.patchFlag|=1024))}else Ue(e)?(e={default:e,_ctx:jt},t=32):(e=String(e),n&64?(t=16,e=[yd(e)]):t=8);i.children=e,i.shapeFlag|=t}function v1(...i){const e={};for(let t=0;t<i.length;t++){const n=i[t];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=tr([e.class,n.class]));else if(s==="style")e.style=xi([e.style,n.style]);else if(xo(s)){const o=e[s],l=n[s];l&&o!==l&&!(Le(o)&&o.includes(l))&&(e[s]=o?[].concat(o,l):l)}else s!==""&&(e[s]=n[s])}return e}function Mn(i,e,t,n=null){On(i,e,7,[t,n])}const b1=dd();let T1=0;function S1(i,e,t){const n=i.type,s=(e?e.appContext:i.appContext)||b1,o={uid:T1++,vnode:i,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Pf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gd(n,s),emitsOptions:id(n,s),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:n.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=xS.bind(null,o),i.ce&&i.ce(o),o}let Mt=null,tu,mi,nf="__VUE_INSTANCE_SETTERS__";(mi=_l()[nf])||(mi=_l()[nf]=[]),mi.push(i=>Mt=i),tu=i=>{mi.length>1?mi.forEach(e=>e(i)):mi[0](i)};const Ei=i=>{tu(i),i.scope.on()},Vr=()=>{Mt&&Mt.scope.off(),tu(null)};function wd(i){return i.vnode.shapeFlag&4}let cs=!1;function y1(i,e=!1){cs=e;const{props:t,children:n}=i.vnode,s=wd(i);o1(i,t,s,e),u1(i,n);const o=s?w1(i,e):void 0;return cs=!1,o}function w1(i,e){const t=i.type;i.accessCache=Object.create(null),i.proxy=Oo(new Proxy(i.ctx,VS));const{setup:n}=t;if(n){const s=i.setupContext=n.length>1?A1(i):null;Ei(i),Ci();const o=xr(n,i,0,[i.props,s]);if(Ri(),Vr(),Rf(o)){if(o.then(Vr,Vr),e)return o.then(l=>{rf(i,l,e)}).catch(l=>{Po(l,i,0)});i.asyncDep=o}else rf(i,o,e)}else Ed(i,e)}function rf(i,e,t){Ue(e)?i.type.__ssrInlineRender?i.ssrRender=e:i.render=e:St(e)&&(i.setupState=Jf(e)),Ed(i,t)}let sf;function Ed(i,e,t){const n=i.type;if(!i.render){if(!e&&sf&&!n.render){const s=n.template||Vl(i).template;if(s){const{isCustomElement:o,compilerOptions:l}=i.appContext.config,{delimiters:u,compilerOptions:h}=n,f=zt(zt({isCustomElement:o,delimiters:u},l),h);n.render=sf(s,f)}}i.render=n.render||Ln}Ei(i),Ci(),XS(i),Ri(),Vr()}function E1(i){return i.attrsProxy||(i.attrsProxy=new Proxy(i.attrs,{get(e,t){return nn(i,"get","$attrs"),e[t]}}))}function A1(i){const e=t=>{i.exposed=t||{}};return{get attrs(){return E1(i)},slots:i.slots,emit:i.emit,expose:e}}function $o(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(Jf(Oo(i.exposed)),{get(e,t){if(t in e)return e[t];if(t in Ji)return Ji[t](i)},has(e,t){return t in e||t in Ji}}))}function k1(i,e=!0){return Ue(i)?i.displayName||i.name:i.name||e&&i.__name}function x1(i){return Ue(i)&&"__vccOpts"in i}const Hn=(i,e)=>SS(i,e,cs);function Tr(i,e,t){const n=arguments.length;return n===2?St(e)&&!Le(e)?So(e)?We(i,null,[e]):We(i,e):We(i,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&So(t)&&(t=[t]),We(i,e,t))}const C1=Symbol.for("v-scx"),R1=()=>Qi(C1),N1="3.3.4",I1="http://www.w3.org/2000/svg",qr=typeof document<"u"?document:null,of=qr&&qr.createElement("template"),L1={insert:(i,e,t)=>{e.insertBefore(i,t||null)},remove:i=>{const e=i.parentNode;e&&e.removeChild(i)},createElement:(i,e,t,n)=>{const s=e?qr.createElementNS(I1,i):qr.createElement(i,t?{is:t}:void 0);return i==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:i=>qr.createTextNode(i),createComment:i=>qr.createComment(i),setText:(i,e)=>{i.nodeValue=e},setElementText:(i,e)=>{i.textContent=e},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>qr.querySelector(i),setScopeId(i,e){i.setAttribute(e,"")},insertStaticContent(i,e,t,n,s,o){const l=t?t.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===o||!(s=s.nextSibling)););else{of.innerHTML=n?`<svg>${i}</svg>`:i;const u=of.content;if(n){const h=u.firstChild;for(;h.firstChild;)u.appendChild(h.firstChild);u.removeChild(h)}e.insertBefore(u,t)}return[l?l.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function O1(i,e,t){const n=i._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?i.removeAttribute("class"):t?i.setAttribute("class",e):i.className=e}function P1(i,e,t){const n=i.style,s=Pt(t);if(t&&!s){if(e&&!Pt(e))for(const o in e)t[o]==null&&xl(n,o,"");for(const o in t)xl(n,o,t[o])}else{const o=n.display;s?e!==t&&(n.cssText=t):e&&i.removeAttribute("style"),"_vod"in i&&(n.display=o)}}const af=/\s*!important$/;function xl(i,e,t){if(Le(t))t.forEach(n=>xl(i,e,n));else if(t==null&&(t=""),e.startsWith("--"))i.setProperty(e,t);else{const n=F1(i,e);af.test(t)?i.setProperty(ki(n),t.replace(af,""),"important"):i[n]=t}}const lf=["Webkit","Moz","ms"],ul={};function F1(i,e){const t=ul[e];if(t)return t;let n=$n(e);if(n!=="filter"&&n in i)return ul[e]=n;n=No(n);for(let s=0;s<lf.length;s++){const o=lf[s]+n;if(o in i)return ul[e]=o}return e}const uf="http://www.w3.org/1999/xlink";function D1(i,e,t,n,s){if(n&&e.startsWith("xlink:"))t==null?i.removeAttributeNS(uf,e.slice(6,e.length)):i.setAttributeNS(uf,e,t);else{const o=DT(e);t==null||o&&!Lf(t)?i.removeAttribute(e):i.setAttribute(e,o?"":t)}}function M1(i,e,t,n,s,o,l){if(e==="innerHTML"||e==="textContent"){n&&l(n,s,o),i[e]=t??"";return}const u=i.tagName;if(e==="value"&&u!=="PROGRESS"&&!u.includes("-")){i._value=t;const f=u==="OPTION"?i.getAttribute("value"):i.value,v=t??"";f!==v&&(i.value=v),t==null&&i.removeAttribute(e);return}let h=!1;if(t===""||t==null){const f=typeof i[e];f==="boolean"?t=Lf(t):t==null&&f==="string"?(t="",h=!0):f==="number"&&(t=0,h=!0)}try{i[e]=t}catch{}h&&i.removeAttribute(e)}function vi(i,e,t,n){i.addEventListener(e,t,n)}function z1(i,e,t,n){i.removeEventListener(e,t,n)}function B1(i,e,t,n,s=null){const o=i._vei||(i._vei={}),l=o[e];if(n&&l)l.value=n;else{const[u,h]=U1(e);if(n){const f=o[e]=H1(n,s);vi(i,u,f,h)}else l&&(z1(i,u,l,h),o[e]=void 0)}}const cf=/(?:Once|Passive|Capture)$/;function U1(i){let e;if(cf.test(i)){e={};let n;for(;n=i.match(cf);)i=i.slice(0,i.length-n[0].length),e[n[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):ki(i.slice(2)),e]}let cl=0;const j1=Promise.resolve(),$1=()=>cl||(j1.then(()=>cl=0),cl=Date.now());function H1(i,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;On(W1(n,t.value),e,5,[n])};return t.value=i,t.attached=$1(),t}function W1(i,e){if(Le(e)){const t=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{t.call(i),i._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const hf=/^on[a-z]/,G1=(i,e,t,n,s=!1,o,l,u,h)=>{e==="class"?O1(i,n,s):e==="style"?P1(i,t,n):xo(e)?Dl(e)||B1(i,e,t,n,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):K1(i,e,n,s))?M1(i,e,n,o,l,u,h):(e==="true-value"?i._trueValue=n:e==="false-value"&&(i._falseValue=n),D1(i,e,n,s))};function K1(i,e,t,n){return n?!!(e==="innerHTML"||e==="textContent"||e in i&&hf.test(e)&&Ue(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&i.tagName==="INPUT"||e==="type"&&i.tagName==="TEXTAREA"||hf.test(e)&&Pt(t)?!1:e in i}const ff=i=>{const e=i.props["onUpdate:modelValue"]||!1;return Le(e)?t=>ho(e,t):e};function q1(i){i.target.composing=!0}function df(i){const e=i.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const pf={created(i,{modifiers:{lazy:e,trim:t,number:n}},s){i._assign=ff(s);const o=n||s.props&&s.props.type==="number";vi(i,e?"change":"input",l=>{if(l.target.composing)return;let u=i.value;t&&(u=u.trim()),o&&(u=ml(u)),i._assign(u)}),t&&vi(i,"change",()=>{i.value=i.value.trim()}),e||(vi(i,"compositionstart",q1),vi(i,"compositionend",df),vi(i,"change",df))},mounted(i,{value:e}){i.value=e??""},beforeUpdate(i,{value:e,modifiers:{lazy:t,trim:n,number:s}},o){if(i._assign=ff(o),i.composing||document.activeElement===i&&i.type!=="range"&&(t||n&&i.value.trim()===e||(s||i.type==="number")&&ml(i.value)===e))return;const l=e??"";i.value!==l&&(i.value=l)}},Z1=["ctrl","shift","alt","meta"],Y1={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,e)=>Z1.some(t=>i[`${t}Key`]&&!e.includes(t))},V1=(i,e)=>(t,...n)=>{for(let s=0;s<e.length;s++){const o=Y1[e[s]];if(o&&o(t,e))return}return i(t,...n)},hl={beforeMount(i,{value:e},{transition:t}){i._vod=i.style.display==="none"?"":i.style.display,t&&e?t.beforeEnter(i):qi(i,e)},mounted(i,{value:e},{transition:t}){t&&e&&t.enter(i)},updated(i,{value:e,oldValue:t},{transition:n}){!e!=!t&&(n?e?(n.beforeEnter(i),qi(i,!0),n.enter(i)):n.leave(i,()=>{qi(i,!1)}):qi(i,e))},beforeUnmount(i,{value:e}){qi(i,e)}};function qi(i,e){i.style.display=e?i._vod:"none"}const X1=zt({patchProp:G1},L1);let gf;function J1(){return gf||(gf=h1(X1))}const Q1=(...i)=>{const e=J1().createApp(...i),{mount:t}=e;return e.mount=n=>{const s=ey(n);if(!s)return;const o=e._component;!Ue(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=t(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function ey(i){return Pt(i)?document.querySelector(i):i}var ty=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Ad;const Ho=i=>Ad=i,kd=Symbol();function Cl(i){return i&&typeof i=="object"&&Object.prototype.toString.call(i)==="[object Object]"&&typeof i.toJSON!="function"}var ts;(function(i){i.direct="direct",i.patchObject="patch object",i.patchFunction="patch function"})(ts||(ts={}));function ny(){const i=Ff(!0),e=i.run(()=>Xf({}));let t=[],n=[];const s=Oo({install(o){Ho(s),s._a=o,o.provide(kd,s),o.config.globalProperties.$pinia=s,n.forEach(l=>t.push(l)),n=[]},use(o){return!this._a&&!ty?n.push(o):t.push(o),this},_p:t,_a:null,_e:i,_s:new Map,state:e});return s}const xd=()=>{};function mf(i,e,t,n=xd){i.push(e);const s=()=>{const o=i.indexOf(e);o>-1&&(i.splice(o,1),n())};return!t&&Df()&&zT(s),s}function _i(i,...e){i.slice().forEach(t=>{t(...e)})}const ry=i=>i();function Rl(i,e){i instanceof Map&&e instanceof Map&&e.forEach((t,n)=>i.set(n,t)),i instanceof Set&&e instanceof Set&&e.forEach(i.add,i);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],s=i[t];Cl(s)&&Cl(n)&&i.hasOwnProperty(t)&&!Nt(n)&&!kr(n)?i[t]=Rl(s,n):i[t]=n}return i}const iy=Symbol();function sy(i){return!Cl(i)||!i.hasOwnProperty(iy)}const{assign:Sr}=Object;function oy(i){return!!(Nt(i)&&i.effect)}function ay(i,e,t,n){const{state:s,actions:o,getters:l}=e,u=t.state.value[i];let h;function f(){u||(t.state.value[i]=s?s():{});const v=_S(t.state.value[i]);return Sr(v,o,Object.keys(l||{}).reduce((g,b)=>(g[b]=Oo(Hn(()=>{Ho(t);const m=t._s.get(i);return l[b].call(m,m)})),g),{}))}return h=Cd(i,f,e,t,n,!0),h}function Cd(i,e,t={},n,s,o){let l;const u=Sr({actions:{}},t),h={deep:!0};let f,v,g=[],b=[],m;const A=n.state.value[i];!o&&!A&&(n.state.value[i]={}),Xf({});let _;function E(Y){let B;f=v=!1,typeof Y=="function"?(Y(n.state.value[i]),B={type:ts.patchFunction,storeId:i,events:m}):(Rl(n.state.value[i],Y),B={type:ts.patchObject,payload:Y,storeId:i,events:m});const te=_=Symbol();ed().then(()=>{_===te&&(f=!0)}),v=!0,_i(g,B,n.state.value[i])}const w=o?function(){const{state:B}=t,te=B?B():{};this.$patch(de=>{Sr(de,te)})}:xd;function S(){l.stop(),g=[],b=[],n._s.delete(i)}function k(Y,B){return function(){Ho(n);const te=Array.from(arguments),de=[],D=[];function ne(Te){de.push(Te)}function y(Te){D.push(Te)}_i(b,{args:te,name:Y,store:L,after:ne,onError:y});let ae;try{ae=B.apply(this&&this.$id===i?this:L,te)}catch(Te){throw _i(D,Te),Te}return ae instanceof Promise?ae.then(Te=>(_i(de,Te),Te)).catch(Te=>(_i(D,Te),Promise.reject(Te))):(_i(de,ae),ae)}}const I={_p:n,$id:i,$onAction:mf.bind(null,b),$patch:E,$reset:w,$subscribe(Y,B={}){const te=mf(g,Y,B.detached,()=>de()),de=l.run(()=>fo(()=>n.state.value[i],D=>{(B.flush==="sync"?v:f)&&Y({storeId:i,type:ts.direct,events:m},D)},Sr({},h,B)));return te},$dispose:S},L=Lo(I);n._s.set(i,L);const j=n._a&&n._a.runWithContext||ry,W=n._e.run(()=>(l=Ff(),j(()=>l.run(e))));for(const Y in W){const B=W[Y];if(Nt(B)&&!oy(B)||kr(B))o||(A&&sy(B)&&(Nt(B)?B.value=A[Y]:Rl(B,A[Y])),n.state.value[i][Y]=B);else if(typeof B=="function"){const te=k(Y,B);W[Y]=te,u.actions[Y]=B}}return Sr(L,W),Sr(et(L),W),Object.defineProperty(L,"$state",{get:()=>n.state.value[i],set:Y=>{E(B=>{Sr(B,Y)})}}),n._p.forEach(Y=>{Sr(L,l.run(()=>Y({store:L,app:n._a,pinia:n,options:u})))}),A&&o&&t.hydrate&&t.hydrate(L.$state,A),f=!0,v=!0,L}function ly(i,e,t){let n,s;const o=typeof e=="function";typeof i=="string"?(n=i,s=o?t:e):(s=i,n=i.id);function l(u,h){const f=s1();return u=u||(f?Qi(kd,null):null),u&&Ho(u),u=Ad,u._s.has(n)||(o?Cd(n,e,s,u):ay(n,s,u)),u._s.get(n)}return l.$id=n,l}var Rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function uy(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var s=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return i[n]}})}),t}var Rd={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nl=function(i,e){return Nl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])},Nl(i,e)};function cy(i,e){Nl(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Il=function(){return Il=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Il.apply(this,arguments)};function hy(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(t[n[s]]=i[n[s]]);return t}function fy(i,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var u=i.length-1;u>=0;u--)(l=i[u])&&(o=(s<3?l(o):s>3?l(e,t,o):l(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o}function dy(i,e){return function(t,n){e(t,n,i)}}function py(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function gy(i,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(v){try{f(n.next(v))}catch(g){l(g)}}function h(v){try{f(n.throw(v))}catch(g){l(g)}}function f(v){v.done?o(v.value):s(v.value).then(u,h)}f((n=n.apply(i,e||[])).next())})}function my(i,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(v){return h([f,v])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,s&&(o=f[0]&2?s.return:f[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,f[1])).done)return o;switch(s=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,s=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(i,t)}catch(v){f=[6,v],s=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function _y(i,e,t,n){n===void 0&&(n=t),i[n]=e[t]}function vy(i,e){for(var t in i)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function Ll(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nd(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),s,o=[],l;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return o}function by(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(Nd(arguments[e]));return i}function Ty(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var n=Array(i),s=0,e=0;e<t;e++)for(var o=arguments[e],l=0,u=o.length;l<u;l++,s++)n[s]=o[l];return n}function hs(i){return this instanceof hs?(this.v=i,this):new hs(i)}function Sy(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(i,e||[]),s,o=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(b){n[b]&&(s[b]=function(m){return new Promise(function(A,_){o.push([b,m,A,_])>1||u(b,m)})})}function u(b,m){try{h(n[b](m))}catch(A){g(o[0][3],A)}}function h(b){b.value instanceof hs?Promise.resolve(b.value.v).then(f,v):g(o[0][2],b)}function f(b){u("next",b)}function v(b){u("throw",b)}function g(b,m){b(m),o.shift(),o.length&&u(o[0][0],o[0][1])}}function yy(i){var e,t;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=i[s]?function(l){return(t=!t)?{value:hs(i[s](l)),done:s==="return"}:o?o(l):l}:o}}function wy(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof Ll=="function"?Ll(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=i[o]&&function(l){return new Promise(function(u,h){l=i[o](l),s(u,h,l.done,l.value)})}}function s(o,l,u,h){Promise.resolve(h).then(function(f){o({value:f,done:u})},l)}}function Ey(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}function Ay(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(e[t]=i[t]);return e.default=i,e}function ky(i){return i&&i.__esModule?i:{default:i}}function xy(i,e){if(!e.has(i))throw new TypeError("attempted to get private field on non-instance");return e.get(i)}function Cy(i,e,t){if(!e.has(i))throw new TypeError("attempted to set private field on non-instance");return e.set(i,t),t}const Ry=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Il},__asyncDelegator:yy,__asyncGenerator:Sy,__asyncValues:wy,__await:hs,__awaiter:gy,__classPrivateFieldGet:xy,__classPrivateFieldSet:Cy,__createBinding:_y,__decorate:fy,__exportStar:vy,__extends:cy,__generator:my,__importDefault:ky,__importStar:Ay,__makeTemplateObject:Ey,__metadata:py,__param:dy,__read:Nd,__rest:hy,__spread:by,__spreadArrays:Ty,__values:Ll},Symbol.toStringTag,{value:"Module"})),Ny=uy(Ry);var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.isDate=Cr.isComparable=Cr.isIterable=void 0;Cr.isIterable=i=>!(i==null||i[Symbol.iterator]==null);Cr.isComparable=i=>{const e=Object.prototype.toString,t=i;return t.compare!=null&&e.call(t.compare).endsWith("Function]")};Cr.isDate=i=>Object.prototype.toString.call(i).endsWith("Date]");var fl={},_f;function Iy(){return _f||(_f=1,Object.defineProperty(fl,"__esModule",{value:!0})),fl}(function(i){Object.defineProperty(i,"__esModule",{value:!0});const e=Ny,t=Cr,u={number:(v,g)=>v-g,string:(v,g)=>v.localeCompare(g),Date:(v,g)=>v.getTime()-g.getTime(),bigInt:(v,g)=>Number(v-g),none:()=>0},h=v=>{if(typeof v=="number")return u.number;if(typeof v=="string")return u.string;if(typeof v=="bigint")return u.bigInt;if(t.isDate(v))return u.Date;if(t.isComparable(v))return(g,b)=>g.compare(b);throw new Error("Cannot sort keys in this map. You have to specify compareFn if the type of key in this map is not number, string, or Date.")};class f extends Map{constructor(g,b){super(),this.specifiedCompareFn=!1,this.isCompareFn=m=>typeof m=="function",this.compareFn=u.none,this.sortedKeys=[],t.isIterable(g)&&this._constructor(g,b),this.isCompareFn(g)&&this._constructor(null,g),g==null&&this._constructor(null,b)}get comparator(){return this.compareFn}compare(g,b){return Math.sign(this.compareFn(g,b))}_constructor(g,b){if(this.compareFn=b??u.none,this.specifiedCompareFn=b!=null,g!=null)for(const m of g)this.set(...m)}static fromMap(g,b){const m=new f(b);return m.setAll(g),m}duplicate(){return f.fromMap(this,this.compareFn)}toMap(){const g=new Map,b=Array.from(super.entries());return b.sort((m,A)=>this.compareFn(m[0],A[0])),b.forEach(([m,A])=>{g.set(m,A)}),g}reverseKeys(){return[...this.sortedKeys].reverse().values()}get(g){const b=this.sortedKeys.find(m=>this.comparator(m,g)===0);if(b!=null)return super.get(b)}set(g,b){this.sortedKeys.length===0&&!this.specifiedCompareFn&&(this.compareFn=h(g),this.specifiedCompareFn=!0);const m=this.sortedKeys.find(A=>this.compareFn(A,g)===0);return m==null?(this.sortedKeys.push(g),super.set(g,b)):super.set(m,b),this.sortedKeys.sort(this.compareFn),this}setAll(g){return g.forEach((b,m)=>{this.set(m,b)}),this}delete(g){return super.delete(g)?(this.sortedKeys=this.sortedKeys.filter(b=>this.compare(b,g)!==0),!0):!1}clear(){super.clear(),this.sortedKeys=[]}keys(){return this.sortedKeys.values()}values(){return this.sortedKeys.map(g=>super.get(g)).values()}entries(){return this.toMap().entries()}firstEntry(){const g=this.firstKey();if(g==null)return;const b=this.get(g);return b===void 0?void 0:[g,b]}firstKey(){return this.sortedKeys[0]}lastEntry(){const g=this.lastKey();if(g==null)return;const b=this.get(g);return b===void 0?void 0:[g,b]}lastKey(){return[...this.sortedKeys].reverse()[0]}shiftEntry(){const g=this.firstEntry();if(g!=null)return this.delete(g[0]),g}popEntry(){const g=this.lastEntry();if(g!=null)return this.delete(g[0]),g}floorEntry(g){const b=this.floorKey(g);if(b!=null){const m=this.get(b);return m===void 0?void 0:[b,m]}}floorKey(g){return this.sortedKeys.filter(m=>this.compare(m,g)<=0).reverse()[0]}ceilingEntry(g){const b=this.ceilingKey(g);if(b!=null){const m=this.get(b);return m===void 0?void 0:[b,m]}}ceilingKey(g){return this.sortedKeys.filter(m=>this.compare(m,g)>=0)[0]}lowerEntry(g){const b=this.lowerKey(g);if(b!=null){const m=this.get(b);return m===void 0?void 0:[b,m]}}lowerKey(g){return this.sortedKeys.filter(m=>this.compare(m,g)<0).reverse()[0]}higherEntry(g){const b=this.higherKey(g);if(b!=null){const m=this.get(b);return m===void 0?void 0:[b,m]}}higherKey(g){return this.sortedKeys.filter(m=>this.compare(m,g)>0)[0]}splitLower(g,b=!0){const m=Array.from(this.entries()).filter(A=>{const _=this.compare(A[0],g)<0;return b?_||this.compare(A[0],g)===0:_});return new f(m,this.compareFn)}splitHigher(g,b=!0){const m=Array.from(this.entries()).filter(A=>{const _=this.compare(A[0],g)>0;return b?_||this.compare(A[0],g)===0:_});return new f(m,this.compareFn)}forEach(g,b){Array.from(this.entries()).forEach(([m,A])=>{g(A,m,this)},b)}}i.default=f,e.__exportStar(Iy(),i)})(Rd);const zn=nu(Rd);class Rr{constructor(e=1/0){z(this,"storage",[]);this.capacity=e}push(e){if(this.size()===this.capacity)throw Error("Stack has reached max capacity, you cannot add more items");this.storage.push(e)}pop(){return this.storage.pop()}get(e){return this.storage[e]}peek(){return this.storage[this.size()-1]}size(){return this.storage.length}empty(){return this.storage.length==0}clear(){this.storage=[]}}class qe{constructor(e){z(this,"items");e!=null?this.items=new Array(5):this.items=new Array}size(){return this.items.length}set(e,t){this.items[e]=t}setItems(e){this.items=e}add(e){this.items.push(e)}addAll(e){this.items.concat(e.toArray())}get(e){return this.items[e]}remove(e){const t=this.items.indexOf(e);return t==-1?!1:(this.items.splice(t,1),!0)}removeByIndex(e){const t=this.items[e];return this.items.splice(e,1),t}contains(e){return this.items.includes(e)}indexOf(e){return this.items.indexOf(e)}toArray(){return this.items}clear(){this.items.splice(0,this.items.length)}toString(){return`[${this.items.toString().split(",").join(", ")}]`}toJSON(){return{values:this.items}}[Symbol.iterator](){return this.items.values()}}var oA;class it{constructor(e){z(this,"_elements_set");z(this,"_elements");z(this,oA,"IntegerSet");e===void 0?(this._elements=0,this._elements_set=new Set):e instanceof it?(this._elements_set=e.getNumberSet(),this._elements=e.getNumber()):(this._elements=0,this._elements_set=new Set,this.add(e))}clone(){const e=new it;return e._elements=this._elements,e._elements_set=this._elements_set,e}clearBit(e){let t=~this._elements,n=1;for(let s=0;s<e;s++)n<<=1;t|=n,this._elements=~t}setBit(e){let t=1;for(let n=0;n<e;n++)t<<=1;this._elements=this._elements|t}getBit(e){let t=this._elements;for(let n=0;n<e;n++)t>>=1;return!!(t&1)}get size(){let e=this._elements,t=0;for(;e>0;)(e&1)==1&&t++,e>>=1;return t}isEmpty(){return this._elements_set.size===0}add(e){this._elements_set.add(e);const t=!this.getBit(e);return this.setBit(e),t}first(){let e=this._elements;for(let t=0;t<256;t++){if((e&1)==1)return t;e>>=1}return-1}contains(e){return this.getBit(e)}has(e){return this._elements_set.has(e)}delete(e){this._elements_set.delete(e);const t=this.getBit(e);return this.clearBit(e),t}clear(){this._elements=0,this._elements_set.clear()}addAll(e){const t=this.size;return this._elements=this._elements|e._elements,e._elements_set.forEach(n=>this._elements_set.add(n)),t!=this.size}addAllArray(e){const t=this.size;return e.forEach(n=>this.add(n)),t!=this.size}retainAll(e){const t=this.size;this._elements=this._elements&e._elements;for(const n of this._elements_set)e._elements_set.has(n)||this._elements_set.delete(n);return t!=this.size}getNumber(){return this._elements}getNumberSet(){return this._elements_set}list(){return Array.from(this._elements_set).sort((t,n)=>t-n)}length(){return this._elements_set.size}entries(){return this.list().entries()}keys(){return this.list().keys()}values(){return this.list().values()}equals(e){const t=e.list(),n=this.list();return n.length!==t.length?!1:n.every((s,o)=>s===t[o])}[(oA=Symbol.toStringTag,Symbol.iterator)](){return this.list().values()}toJSON(){return{values:this._elements_set}}toString(){return`{${this.list().toString().split(",").join(", ")}}`}}class hn{constructor(e,t){z(this,"_value");z(this,"_parent");z(this,"_children");this._value=e===void 0?null:e,this._parent=t===void 0?null:t,this._children=[]}add(e){return e.parent=this,this._children.push(e),e}get value(){return this._value}get parent(){return this._parent}get children(){return this._children}set value(e){this._value=e}set parent(e){this._parent=e}set children(e){this._children=e}toJSON(){return{value:this.value,children:this.children}}}class $e extends Error{constructor(t,n){super(t);z(this,"_position");n==null?this._position=-1:this._position=n,Object.setPrototypeOf(this,$e.prototype)}get position(){return this._position}set position(t){this._position=t}toString(){return this.message+", em "+this._position}}class Or{constructor(){z(this,"errorList");this.errorList=new qe}static get Instance(){return this._instance||(this._instance=new this)}static get errorList(){return this.errorList}add(e){this.errorList.add(e)}}z(Or,"_instance");class dt extends $e{constructor(e,t){t==null?super(e):super(e,t)}}class Rt extends $e{constructor(e,t){t==null?super(e):super(e,t)}}class _e extends $e{constructor(e,t){t==null?super(e):super(e,t)}}class Ai extends Error{constructor(e){super(e)}}class at{constructor(e,t,n){z(this,"_id");z(this,"_lexeme");z(this,"_position");this._id=e,this._lexeme=t,this._position=n}get id(){return this._id}get lexeme(){return this._lexeme}get position(){return this._position}toString(){return this._id+"("+this._lexeme+")"}}class jn{static translateString(e){let t="";for(let n=0;n<e.length;n++){let s=e.charAt(n);switch(s){case'"':t+="&quot;";break;case"&":t+="&amp;";break;case"<":t+="&lt;";break;case">":t+="&gt;";break;default:t+=s}}return t}}class Xr{constructor(e,t){z(this,"_fa");z(this,"_input","");z(this,"_position",0);z(this,"_sensitive",!0);this._fa=e,this._sensitive=t}analyse(e){let t=0;for(let n=0;n<e.length;n++)if(t=this._fa.nextState(e.charAt(n),t),t<=0)return-1;return this._fa.tokenForState(t)}setInput(e){this._input=e,this._position=0}nextToken(){if(!this.hasInput())return null;const e=this._position;let t=0,n=0,s=-1,o=-1,l=-1,u=-1;for(;this.hasInput()&&(n=t,t=this._fa.nextState(this.nextChar(),t),!(t<0));)this._fa.tokenForState(t)>=0&&(s=t,o=this._position),this._fa.isContext(t)&&(l=t,u=this._position);if(s<0||s!=t&&this._fa.tokenForState(n)==-2)throw new dt(this._fa.getError(n),e);l!=-1&&this._fa.getOrigin(s)==l&&(o=u),this._position=o;let h=this._fa.tokenForState(s);if(h==0)return this.nextToken();{const f=this._input.substring(e,o);return h=this.lookupToken(h,f),new at(h,f,e)}}lookupToken(e,t){let n=this._fa.getSpecialCasesIndexes()[e][0],s=this._fa.getSpecialCasesIndexes()[e][1]-1;for(this._sensitive||(t=t.toUpperCase());n<=s;){const o=Math.floor((n+s)/2),l=this.compareValues(this._fa.specialCases[o].key,t);if(l==0)return this._fa.specialCases[o].value;l<0?n=o+1:s=o-1}return e}hasInput(){return this._position<this._input.length}nextChar(){return this.hasInput()?this._input.charAt(this._position++):String.fromCharCode(-1)}compareValues(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charCodeAt(s),l=t.charCodeAt(s);if(o!=l)return o-l}return e.length-t.length}}class vf{constructor(e,t){z(this,"key");z(this,"value");this.key=e,this.value=t}toString(){return"["+this.key+"->"+this.value+"]"}}class Ly{constructor(e,t,n,s,o,l,u,h){z(this,"_transitions");z(this,"_finals");z(this,"_context");z(this,"_alphabet");z(this,"_tokenNames");z(this,"_errors",[]);z(this,"_hasContext",!1);z(this,"_specialCasesIndexes");z(this,"_specialCases");this._alphabet=e,this._transitions=t,this._finals=n,this._context=l,this._specialCasesIndexes=s,this._specialCases=o,this._tokenNames=u;for(const f of l)if(f[0]==1){this._hasContext=!0;break}this.buildErrors(),this.checkSpecialCases(h)}checkSpecialCases(e){const t=new Xr(this,e);for(let n=0;n<this._specialCasesIndexes.length;n++){const s=this._specialCasesIndexes[n];for(let o=s[0];o<s[1];o++)if(t.analyse(this._specialCases[o].key)!=n)throw new Rt('O valor "'+this._specialCases[o].key+`" não é válido como caso especial de '`+this._tokenNames.get(n-2)+"', na definição de '"+this._tokenNames.get(this._specialCases[o].value-2)+"'")}}nextState(e,t){const n=this._transitions.get(t).get(e);return n??-1}tokenForState(e){return e<0||e>=this._finals.length?-1:this._finals[e]}finalStatesFromState(e){const t=new Set;t.add(e);let n=!0;for(;n;){n=!1;for(const o of t){for(const l of this._alphabet.list()){const u=String.fromCodePoint(l),h=this.nextState(u,o);if(h!=-1&&!t.has(h)){t.add(h),n=!0;break}}if(n)break}}const s=new Set;for(const o of t)this.tokenForState(o)>=0&&s.add(o);return s}tokensFromState(e){const t=this.finalStatesFromState(e),n=new Set;for(const s of t){const o=this.tokenForState(s);o>=0&&n.add(o)}return n}buildErrors(){this._errors=[],this._errors[0]="Caractere não esperado";for(let e=1;e<this._transitions.size();e++)if(this.tokenForState(e)>=0)this._errors[e]="";else{const t=this.tokensFromState(e);let n="Erro identificando ";for(const s of t)s>0?n+=this._tokenNames.get(s-2):n+="<ignorar>",n+=" ou ";n=n.substring(0,n.length-4),this._errors[e]=n.toString()}}get transitions(){return this._transitions}get tokens(){return this._tokenNames}get specialCases(){return this._specialCases}get errors(){return this._errors}getError(e){const t=this._errors[e];if(t!=null)return t;throw Error("Sem erros")}getSpecialCasesIndexes(){return this._specialCasesIndexes}isContext(e){return this._context[e][0]==1}getOrigin(e){return this._context[e][1]}hasContext(){return this._hasContext}translateString(e){let t="";for(let n=0;n<e.length;n++){const s=e.charAt(n);switch(s){case'"':t+="&quot;";break;case"&":t+="&amp;";break;case"<":t+="&lt;";break;case">":t+="&gt;";break;default:t+=s}}return t}asHTML(){let e="";e+='<HTML><HEAD><TITLE> Tabela de Transições </TITLE></HEAD><BODY><FONT face="Verdana, Arial, Helvetica, sans-serif"><TABLE border=1 cellspacing=0>',e+='<TR align=center><TD rowspan="2" bgcolor=black><FONT color=white><B>ESTADO</B></FONT></TD><TD rowspan="2" bgcolor=black><FONT color=white><B>TOKEN<BR>RETORNADO</B></FONT></TD><TD colspan="'+this._alphabet.size+'" bgcolor=black><FONT color=white><B>ENTRADA</B></FONT></TD></TR><TR align=center>';for(const t of this._alphabet.list()){const n=this.escapeSpecialCharacters(String.fromCodePoint(t));e+="<TD bgcolor=#99FF66 nowrap><B>"+n+"</B></TD>"}e+="</TR>";for(let t=0;t<this._transitions.size();t++){e+="<TR align=center><TD bgcolor=#99FF66><B>"+t+"</B></TD>";const n=this._finals[t];let s=null;if(n>0){s==null&&(s="#FFFFCC");let l=jn.translateString(this._tokenNames.get(n-2));this.getOrigin(t)>=0&&(l+=" / "+this.getOrigin(t)),e+="<TD bgcolor="+s+" nowrap>"+l+"</TD>"}else n==0?(s==null&&(s="#99CCFF"),e+="<TD bgcolor="+s+"><B>:</B></TD>"):n==-2?e+="<TD bgcolor=#FF0000>?</TD>":(s==null&&(s="#FFCC99"),e+="<TD bgcolor="+s+">?</TD>");const o=this._transitions.get(t);for(const l of this._alphabet.list()){e+="<TD width=40 bgcolor=#F5F5F5>";const u=o.get(String.fromCodePoint(l));u!=null&&u>=0?e+=u:e+="-",e+="</TD>"}e+="</TR>"}return e+="</TABLE></FONT></BODY></HTML>",e}escapeSpecialCharacters(e){return e.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\s/g,"' '")}}const Pe=class Pe{constructor(){z(this,"scannerName","Lexico");z(this,"parserName","Sintatico");z(this,"semanticName","Semantico");z(this,"pkgName","");z(this,"generateScanner",!0);z(this,"generateParser",!0);z(this,"language",Pe.LANG_JAVA);z(this,"parser",Pe.PARSER_SLR);z(this,"scannerCaseSensitive",!0);z(this,"scannerTable",Pe.SCANNER_TABLE_FULL);z(this,"input",Pe.INPUT_STRING)}toString(){let e="";switch(e+="GenerateScanner = "+this.generateScanner,e+=`
GenerateParser = `+this.generateParser,e+=`
Language = `,this.language){case Pe.LANG_CPP:e+="C++";break;case Pe.LANG_JAVA:e+="Java";break;case Pe.LANG_DELPHI:e+="Delphi";break}if(e+=`
ScannerName = `+this.scannerName,this.generateParser&&(e+=`
ParserName = `+this.parserName,e+=`
SemanticName = `+this.semanticName),this.pkgName.length>0&&(e+=`
Package = `+this.pkgName),this.generateScanner){switch(e+=`
ScannerCaseSensitive = `+this.scannerCaseSensitive,e+=`
ScannerTable = `,this.scannerTable){case Pe.SCANNER_TABLE_FULL:e+="Full";break;case Pe.SCANNER_TABLE_COMPACT:e+="Compact";break;case Pe.SCANNER_TABLE_HARDCODE:e+="Hardcode";break}switch(e+=`
Input = `,this.input){case Pe.INPUT_STREAM:e+="Stream";break;case Pe.INPUT_STRING:e+="String";break}}if(this.generateParser)switch(e+=`
Parser = `,this.parser){case Pe.PARSER_LR:e+="LR";break;case Pe.PARSER_LALR:e+="LALR";break;case Pe.PARSER_SLR:e+="SLR";break;case Pe.PARSER_LL:e+="LL";break;case Pe.PARSER_REC_DESC:e+="RD";break}return e}constructorFromString(e){let t=new Pe;if(e===void 0)return t;const n=e.split(`
`);for(const s of n){const[o,l]=s.split("=");t.setOption(o.trim(),l.trim())}return t}setOption(e,t){if(e.toUpperCase()==="GenerateScanner".toUpperCase())this.generateScanner=/true/i.test(t);else if(e.toUpperCase()==="GenerateParser".toUpperCase())this.generateParser=/true/i.test(t);else if(e.toUpperCase()==="Language".toUpperCase())if(t.toUpperCase()==="C++".toUpperCase())this.language=Pe.LANG_CPP;else if(t.toUpperCase()==="Java".toUpperCase())this.language=Pe.LANG_JAVA;else if(t.toUpperCase()==="Delphi".toUpperCase())this.language=Pe.LANG_DELPHI;else throw new Error("Erro processando arquivo");else if(e.toUpperCase()==="ScannerName".toUpperCase())this.scannerName=t;else if(e.toUpperCase()==="ParserName".toUpperCase())this.parserName=t;else if(e.toUpperCase()==="SemanticName".toUpperCase())this.semanticName=t;else if(e.toUpperCase()==="Package".toUpperCase())this.pkgName=t;else if(e.toUpperCase()==="ScannerCaseSensitive".toUpperCase())this.scannerCaseSensitive=/true/i.test(t);else if(e.toUpperCase()=="ScannerTable".toUpperCase())if(t.toUpperCase()==="Full".toUpperCase())this.scannerTable=Pe.SCANNER_TABLE_FULL;else if(t.toUpperCase()==="Compact".toUpperCase())this.scannerTable=Pe.SCANNER_TABLE_COMPACT;else if(t.toUpperCase()==="Hardcode".toUpperCase())this.scannerTable=Pe.SCANNER_TABLE_HARDCODE;else throw new Error("Erro processando arquivo");else if(e.toUpperCase()==="Input".toUpperCase())if(t.toUpperCase()==="Stream".toUpperCase())this.input=Pe.INPUT_STREAM;else if(t.toUpperCase()==="String".toUpperCase())this.input=Pe.INPUT_STRING;else throw new Error("Erro processando arquivo");else if(e.toUpperCase()==="Parser".toUpperCase())if(t.toUpperCase()==="LR".toUpperCase())this.parser=Pe.PARSER_LR;else if(t.toUpperCase()==="LALR".toUpperCase())this.parser=Pe.PARSER_LALR;else if(t.toUpperCase()==="SLR".toUpperCase())this.parser=Pe.PARSER_SLR;else if(t.toUpperCase()==="LL".toUpperCase())this.parser=Pe.PARSER_LL;else if(t.toUpperCase()==="RD".toUpperCase())this.parser=Pe.PARSER_REC_DESC;else throw new Error("Erro processando arquivo");else throw new Error("Erro processando arquivo")}};z(Pe,"LANG_JAVA",0),z(Pe,"LANG_CPP",1),z(Pe,"LANG_DELPHI",2),z(Pe,"PARSER_LR",0),z(Pe,"PARSER_LALR",1),z(Pe,"PARSER_SLR",2),z(Pe,"PARSER_LL",3),z(Pe,"PARSER_REC_DESC",4),z(Pe,"SCANNER_TABLE_FULL",0),z(Pe,"SCANNER_TABLE_COMPACT",1),z(Pe,"SCANNER_TABLE_HARDCODE",2),z(Pe,"INPUT_STREAM",0),z(Pe,"INPUT_STRING",1);let he=Pe;class wr{constructor(e,t,n){z(this,"lhs");z(this,"rhs");z(this,"grammar");this.grammar=e,this.lhs=t,this.rhs=n===void 0?[]:n}get_lhs(){return this.lhs}clear_rhs(){this.rhs=[]}set_lhs(e){this.lhs=e}get_rhs(){return this.rhs}set_rhs(e,t){const n=this.rhs[e];return this.rhs[e]=t,n}add_rhs(e){return this.rhs.push(e),e}firstSymbol(){if(this.grammar==null)return-1;for(let e=0;e<this.rhs.length;e++)if(!this.grammar.isSemanticAction(this.rhs[e]))return this.rhs[e];return 0}setGrammar(e){this.grammar=e}getGrammar(){return this.grammar}toString(){if(this.grammar==null)return"error";const e=[];if(e.push(this.grammar.symbols[this.lhs]+" ::="),this.rhs.length===0)e.push(" "+Lr.EPSILON_STR);else for(let t=0;t<this.rhs.length;t++)this.grammar.isSemanticAction(this.rhs[t])?e.push(" #"+(this.rhs[t]-this.grammar.FIRST_SEMANTIC_ACTION())):e.push(" "+this.grammar.symbols[this.rhs[t]]);return e.join("")}equals(e){const t=e;if(this.lhs!==t.lhs)return!1;if(this.rhs.length!==t.rhs.length)return!1;for(let n=0;n<this.rhs.length;n++)if(this.rhs[n]!==t.rhs[n])return!1;return!0}static compareTo(e,t){if(e===null)return-1;if(e.lhs!==t.lhs)return e.lhs-t.lhs;{if(e.grammar===null)return-1;const n=e.grammar.isEpsilon(e.rhs),s=e.grammar.isEpsilon(t.rhs);if(n&&s)return 0;if(n)return 1;if(s)return-1;for(let o=0;o<e.rhs.length&&o<t.rhs.length;o++)if(e.rhs[o]!==t.rhs[o])return e.rhs[o]-t.rhs[o];return t.rhs.length-e.rhs.length}}}var yo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */yo.exports;(function(i,e){(function(){var t,n="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",f=500,v="__lodash_placeholder__",g=1,b=2,m=4,A=1,_=2,E=1,w=2,S=4,k=8,I=16,L=32,j=64,W=128,Y=256,B=512,te=30,de="...",D=800,ne=16,y=1,ae=2,Te=3,ie=1/0,ge=9007199254740991,ce=17976931348623157e292,Ee=0/0,J=4294967295,X=J-1,xe=J>>>1,ve=[["ary",W],["bind",E],["bindKey",w],["curry",k],["curryRight",I],["flip",B],["partial",L],["partialRight",j],["rearg",Y]],pe="[object Arguments]",Me="[object Array]",ut="[object AsyncFunction]",Ie="[object Boolean]",Oe="[object Date]",ct="[object DOMException]",Ye="[object Error]",M="[object Function]",K="[object GeneratorFunction]",p="[object Map]",U="[object Number]",F="[object Null]",R="[object Object]",C="[object Promise]",O="[object Proxy]",q="[object RegExp]",G="[object Set]",$="[object String]",Q="[object Symbol]",oe="[object Undefined]",re="[object WeakMap]",me="[object WeakSet]",ke="[object ArrayBuffer]",ye="[object DataView]",Ge="[object Float32Array]",Et="[object Float64Array]",At="[object Int8Array]",fn="[object Int16Array]",nt="[object Int32Array]",wn="[object Uint8Array]",kt="[object Uint8ClampedArray]",vt="[object Uint16Array]",Wn="[object Uint32Array]",Go=/\b__p \+= '';/g,Ko=/\b(__p \+=) '' \+/g,qo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ni=/&(?:amp|lt|gt|quot|#39);/g,ar=/[&<>"']/g,ti=RegExp(Ni.source),Zd=RegExp(ar.source),Yd=/<%-([\s\S]+?)%>/g,Vd=/<%([\s\S]+?)%>/g,uu=/<%=([\s\S]+?)%>/g,Xd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jd=/^\w*$/,Qd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zo=/[\\^$.*+?()[\]{}|]/g,ep=RegExp(Zo.source),Yo=/^\s+/,tp=/\s/,np=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rp=/\{\n\/\* \[wrapped with (.+)\] \*/,ip=/,? & /,sp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,op=/[()=,{}\[\]\/\s]/,ap=/\\(\\)?/g,lp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cu=/\w*$/,up=/^[-+]0x[0-9a-f]+$/i,cp=/^0b[01]+$/i,hp=/^\[object .+?Constructor\]$/,fp=/^0o[0-7]+$/i,dp=/^(?:0|[1-9]\d*)$/,pp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ds=/($^)/,gp=/['\n\r\u2028\u2029\\]/g,ps="\\ud800-\\udfff",mp="\\u0300-\\u036f",_p="\\ufe20-\\ufe2f",vp="\\u20d0-\\u20ff",hu=mp+_p+vp,fu="\\u2700-\\u27bf",du="a-z\\xdf-\\xf6\\xf8-\\xff",bp="\\xac\\xb1\\xd7\\xf7",Tp="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Sp="\\u2000-\\u206f",yp=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pu="A-Z\\xc0-\\xd6\\xd8-\\xde",gu="\\ufe0e\\ufe0f",mu=bp+Tp+Sp+yp,Vo="['’]",wp="["+ps+"]",_u="["+mu+"]",gs="["+hu+"]",vu="\\d+",Ep="["+fu+"]",bu="["+du+"]",Tu="[^"+ps+mu+vu+fu+du+pu+"]",Xo="\\ud83c[\\udffb-\\udfff]",Ap="(?:"+gs+"|"+Xo+")",Su="[^"+ps+"]",Jo="(?:\\ud83c[\\udde6-\\uddff]){2}",Qo="[\\ud800-\\udbff][\\udc00-\\udfff]",ni="["+pu+"]",yu="\\u200d",wu="(?:"+bu+"|"+Tu+")",kp="(?:"+ni+"|"+Tu+")",Eu="(?:"+Vo+"(?:d|ll|m|re|s|t|ve))?",Au="(?:"+Vo+"(?:D|LL|M|RE|S|T|VE))?",ku=Ap+"?",xu="["+gu+"]?",xp="(?:"+yu+"(?:"+[Su,Jo,Qo].join("|")+")"+xu+ku+")*",Cp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Cu=xu+ku+xp,Np="(?:"+[Ep,Jo,Qo].join("|")+")"+Cu,Ip="(?:"+[Su+gs+"?",gs,Jo,Qo,wp].join("|")+")",Lp=RegExp(Vo,"g"),Op=RegExp(gs,"g"),ea=RegExp(Xo+"(?="+Xo+")|"+Ip+Cu,"g"),Pp=RegExp([ni+"?"+bu+"+"+Eu+"(?="+[_u,ni,"$"].join("|")+")",kp+"+"+Au+"(?="+[_u,ni+wu,"$"].join("|")+")",ni+"?"+wu+"+"+Eu,ni+"+"+Au,Rp,Cp,vu,Np].join("|"),"g"),Fp=RegExp("["+yu+ps+hu+gu+"]"),Dp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zp=-1,gt={};gt[Ge]=gt[Et]=gt[At]=gt[fn]=gt[nt]=gt[wn]=gt[kt]=gt[vt]=gt[Wn]=!0,gt[pe]=gt[Me]=gt[ke]=gt[Ie]=gt[ye]=gt[Oe]=gt[Ye]=gt[M]=gt[p]=gt[U]=gt[R]=gt[q]=gt[G]=gt[$]=gt[re]=!1;var pt={};pt[pe]=pt[Me]=pt[ke]=pt[ye]=pt[Ie]=pt[Oe]=pt[Ge]=pt[Et]=pt[At]=pt[fn]=pt[nt]=pt[p]=pt[U]=pt[R]=pt[q]=pt[G]=pt[$]=pt[Q]=pt[wn]=pt[kt]=pt[vt]=pt[Wn]=!0,pt[Ye]=pt[M]=pt[re]=!1;var Bp={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Up={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$p={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hp=parseFloat,Wp=parseInt,Ru=typeof Rn=="object"&&Rn&&Rn.Object===Object&&Rn,Gp=typeof self=="object"&&self&&self.Object===Object&&self,Bt=Ru||Gp||Function("return this")(),ta=e&&!e.nodeType&&e,Fr=ta&&!0&&i&&!i.nodeType&&i,Nu=Fr&&Fr.exports===ta,na=Nu&&Ru.process,dn=function(){try{var Z=Fr&&Fr.require&&Fr.require("util").types;return Z||na&&na.binding&&na.binding("util")}catch{}}(),Iu=dn&&dn.isArrayBuffer,Lu=dn&&dn.isDate,Ou=dn&&dn.isMap,Pu=dn&&dn.isRegExp,Fu=dn&&dn.isSet,Du=dn&&dn.isTypedArray;function rn(Z,se,ee){switch(ee.length){case 0:return Z.call(se);case 1:return Z.call(se,ee[0]);case 2:return Z.call(se,ee[0],ee[1]);case 3:return Z.call(se,ee[0],ee[1],ee[2])}return Z.apply(se,ee)}function Kp(Z,se,ee,we){for(var Fe=-1,rt=Z==null?0:Z.length;++Fe<rt;){var Lt=Z[Fe];se(we,Lt,ee(Lt),Z)}return we}function pn(Z,se){for(var ee=-1,we=Z==null?0:Z.length;++ee<we&&se(Z[ee],ee,Z)!==!1;);return Z}function qp(Z,se){for(var ee=Z==null?0:Z.length;ee--&&se(Z[ee],ee,Z)!==!1;);return Z}function Mu(Z,se){for(var ee=-1,we=Z==null?0:Z.length;++ee<we;)if(!se(Z[ee],ee,Z))return!1;return!0}function lr(Z,se){for(var ee=-1,we=Z==null?0:Z.length,Fe=0,rt=[];++ee<we;){var Lt=Z[ee];se(Lt,ee,Z)&&(rt[Fe++]=Lt)}return rt}function ms(Z,se){var ee=Z==null?0:Z.length;return!!ee&&ri(Z,se,0)>-1}function ra(Z,se,ee){for(var we=-1,Fe=Z==null?0:Z.length;++we<Fe;)if(ee(se,Z[we]))return!0;return!1}function bt(Z,se){for(var ee=-1,we=Z==null?0:Z.length,Fe=Array(we);++ee<we;)Fe[ee]=se(Z[ee],ee,Z);return Fe}function ur(Z,se){for(var ee=-1,we=se.length,Fe=Z.length;++ee<we;)Z[Fe+ee]=se[ee];return Z}function ia(Z,se,ee,we){var Fe=-1,rt=Z==null?0:Z.length;for(we&&rt&&(ee=Z[++Fe]);++Fe<rt;)ee=se(ee,Z[Fe],Fe,Z);return ee}function Zp(Z,se,ee,we){var Fe=Z==null?0:Z.length;for(we&&Fe&&(ee=Z[--Fe]);Fe--;)ee=se(ee,Z[Fe],Fe,Z);return ee}function sa(Z,se){for(var ee=-1,we=Z==null?0:Z.length;++ee<we;)if(se(Z[ee],ee,Z))return!0;return!1}var Yp=oa("length");function Vp(Z){return Z.split("")}function Xp(Z){return Z.match(sp)||[]}function zu(Z,se,ee){var we;return ee(Z,function(Fe,rt,Lt){if(se(Fe,rt,Lt))return we=rt,!1}),we}function _s(Z,se,ee,we){for(var Fe=Z.length,rt=ee+(we?1:-1);we?rt--:++rt<Fe;)if(se(Z[rt],rt,Z))return rt;return-1}function ri(Z,se,ee){return se===se?ug(Z,se,ee):_s(Z,Bu,ee)}function Jp(Z,se,ee,we){for(var Fe=ee-1,rt=Z.length;++Fe<rt;)if(we(Z[Fe],se))return Fe;return-1}function Bu(Z){return Z!==Z}function Uu(Z,se){var ee=Z==null?0:Z.length;return ee?la(Z,se)/ee:Ee}function oa(Z){return function(se){return se==null?t:se[Z]}}function aa(Z){return function(se){return Z==null?t:Z[se]}}function ju(Z,se,ee,we,Fe){return Fe(Z,function(rt,Lt,ht){ee=we?(we=!1,rt):se(ee,rt,Lt,ht)}),ee}function Qp(Z,se){var ee=Z.length;for(Z.sort(se);ee--;)Z[ee]=Z[ee].value;return Z}function la(Z,se){for(var ee,we=-1,Fe=Z.length;++we<Fe;){var rt=se(Z[we]);rt!==t&&(ee=ee===t?rt:ee+rt)}return ee}function ua(Z,se){for(var ee=-1,we=Array(Z);++ee<Z;)we[ee]=se(ee);return we}function eg(Z,se){return bt(se,function(ee){return[ee,Z[ee]]})}function $u(Z){return Z&&Z.slice(0,Ku(Z)+1).replace(Yo,"")}function sn(Z){return function(se){return Z(se)}}function ca(Z,se){return bt(se,function(ee){return Z[ee]})}function Ii(Z,se){return Z.has(se)}function Hu(Z,se){for(var ee=-1,we=Z.length;++ee<we&&ri(se,Z[ee],0)>-1;);return ee}function Wu(Z,se){for(var ee=Z.length;ee--&&ri(se,Z[ee],0)>-1;);return ee}function tg(Z,se){for(var ee=Z.length,we=0;ee--;)Z[ee]===se&&++we;return we}var ng=aa(Bp),rg=aa(Up);function ig(Z){return"\\"+$p[Z]}function sg(Z,se){return Z==null?t:Z[se]}function ii(Z){return Fp.test(Z)}function og(Z){return Dp.test(Z)}function ag(Z){for(var se,ee=[];!(se=Z.next()).done;)ee.push(se.value);return ee}function ha(Z){var se=-1,ee=Array(Z.size);return Z.forEach(function(we,Fe){ee[++se]=[Fe,we]}),ee}function Gu(Z,se){return function(ee){return Z(se(ee))}}function cr(Z,se){for(var ee=-1,we=Z.length,Fe=0,rt=[];++ee<we;){var Lt=Z[ee];(Lt===se||Lt===v)&&(Z[ee]=v,rt[Fe++]=ee)}return rt}function vs(Z){var se=-1,ee=Array(Z.size);return Z.forEach(function(we){ee[++se]=we}),ee}function lg(Z){var se=-1,ee=Array(Z.size);return Z.forEach(function(we){ee[++se]=[we,we]}),ee}function ug(Z,se,ee){for(var we=ee-1,Fe=Z.length;++we<Fe;)if(Z[we]===se)return we;return-1}function cg(Z,se,ee){for(var we=ee+1;we--;)if(Z[we]===se)return we;return we}function si(Z){return ii(Z)?fg(Z):Yp(Z)}function En(Z){return ii(Z)?dg(Z):Vp(Z)}function Ku(Z){for(var se=Z.length;se--&&tp.test(Z.charAt(se)););return se}var hg=aa(jp);function fg(Z){for(var se=ea.lastIndex=0;ea.test(Z);)++se;return se}function dg(Z){return Z.match(ea)||[]}function pg(Z){return Z.match(Pp)||[]}var gg=function Z(se){se=se==null?Bt:oi.defaults(Bt.Object(),se,oi.pick(Bt,Mp));var ee=se.Array,we=se.Date,Fe=se.Error,rt=se.Function,Lt=se.Math,ht=se.Object,fa=se.RegExp,mg=se.String,gn=se.TypeError,bs=ee.prototype,_g=rt.prototype,ai=ht.prototype,Ts=se["__core-js_shared__"],Ss=_g.toString,lt=ai.hasOwnProperty,vg=0,qu=function(){var r=/[^.]+$/.exec(Ts&&Ts.keys&&Ts.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),ys=ai.toString,bg=Ss.call(ht),Tg=Bt._,Sg=fa("^"+Ss.call(lt).replace(Zo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ws=Nu?se.Buffer:t,hr=se.Symbol,Es=se.Uint8Array,Zu=ws?ws.allocUnsafe:t,As=Gu(ht.getPrototypeOf,ht),Yu=ht.create,Vu=ai.propertyIsEnumerable,ks=bs.splice,Xu=hr?hr.isConcatSpreadable:t,Li=hr?hr.iterator:t,Dr=hr?hr.toStringTag:t,xs=function(){try{var r=jr(ht,"defineProperty");return r({},"",{}),r}catch{}}(),yg=se.clearTimeout!==Bt.clearTimeout&&se.clearTimeout,wg=we&&we.now!==Bt.Date.now&&we.now,Eg=se.setTimeout!==Bt.setTimeout&&se.setTimeout,Cs=Lt.ceil,Rs=Lt.floor,da=ht.getOwnPropertySymbols,Ag=ws?ws.isBuffer:t,Ju=se.isFinite,kg=bs.join,xg=Gu(ht.keys,ht),Ot=Lt.max,$t=Lt.min,Cg=we.now,Rg=se.parseInt,Qu=Lt.random,Ng=bs.reverse,pa=jr(se,"DataView"),Oi=jr(se,"Map"),ga=jr(se,"Promise"),li=jr(se,"Set"),Pi=jr(se,"WeakMap"),Fi=jr(ht,"create"),Ns=Pi&&new Pi,ui={},Ig=$r(pa),Lg=$r(Oi),Og=$r(ga),Pg=$r(li),Fg=$r(Pi),Is=hr?hr.prototype:t,Di=Is?Is.valueOf:t,ec=Is?Is.toString:t;function x(r){if(wt(r)&&!De(r)&&!(r instanceof Ze)){if(r instanceof mn)return r;if(lt.call(r,"__wrapped__"))return th(r)}return new mn(r)}var ci=function(){function r(){}return function(a){if(!yt(a))return{};if(Yu)return Yu(a);r.prototype=a;var c=new r;return r.prototype=t,c}}();function Ls(){}function mn(r,a){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=t}x.templateSettings={escape:Yd,evaluate:Vd,interpolate:uu,variable:"",imports:{_:x}},x.prototype=Ls.prototype,x.prototype.constructor=x,mn.prototype=ci(Ls.prototype),mn.prototype.constructor=mn;function Ze(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=J,this.__views__=[]}function Dg(){var r=new Ze(this.__wrapped__);return r.__actions__=Xt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Xt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Xt(this.__views__),r}function Mg(){if(this.__filtered__){var r=new Ze(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function zg(){var r=this.__wrapped__.value(),a=this.__dir__,c=De(r),d=a<0,T=c?r.length:0,N=Vm(0,T,this.__views__),P=N.start,H=N.end,V=H-P,le=d?H:P-1,ue=this.__iteratees__,fe=ue.length,Se=0,Ae=$t(V,this.__takeCount__);if(!c||!d&&T==V&&Ae==V)return Ec(r,this.__actions__);var Re=[];e:for(;V--&&Se<Ae;){le+=a;for(var je=-1,Ne=r[le];++je<fe;){var Ke=ue[je],Ve=Ke.iteratee,ln=Ke.type,Zt=Ve(Ne);if(ln==ae)Ne=Zt;else if(!Zt){if(ln==y)continue e;break e}}Re[Se++]=Ne}return Re}Ze.prototype=ci(Ls.prototype),Ze.prototype.constructor=Ze;function Mr(r){var a=-1,c=r==null?0:r.length;for(this.clear();++a<c;){var d=r[a];this.set(d[0],d[1])}}function Bg(){this.__data__=Fi?Fi(null):{},this.size=0}function Ug(r){var a=this.has(r)&&delete this.__data__[r];return this.size-=a?1:0,a}function jg(r){var a=this.__data__;if(Fi){var c=a[r];return c===h?t:c}return lt.call(a,r)?a[r]:t}function $g(r){var a=this.__data__;return Fi?a[r]!==t:lt.call(a,r)}function Hg(r,a){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Fi&&a===t?h:a,this}Mr.prototype.clear=Bg,Mr.prototype.delete=Ug,Mr.prototype.get=jg,Mr.prototype.has=$g,Mr.prototype.set=Hg;function Gn(r){var a=-1,c=r==null?0:r.length;for(this.clear();++a<c;){var d=r[a];this.set(d[0],d[1])}}function Wg(){this.__data__=[],this.size=0}function Gg(r){var a=this.__data__,c=Os(a,r);if(c<0)return!1;var d=a.length-1;return c==d?a.pop():ks.call(a,c,1),--this.size,!0}function Kg(r){var a=this.__data__,c=Os(a,r);return c<0?t:a[c][1]}function qg(r){return Os(this.__data__,r)>-1}function Zg(r,a){var c=this.__data__,d=Os(c,r);return d<0?(++this.size,c.push([r,a])):c[d][1]=a,this}Gn.prototype.clear=Wg,Gn.prototype.delete=Gg,Gn.prototype.get=Kg,Gn.prototype.has=qg,Gn.prototype.set=Zg;function Kn(r){var a=-1,c=r==null?0:r.length;for(this.clear();++a<c;){var d=r[a];this.set(d[0],d[1])}}function Yg(){this.size=0,this.__data__={hash:new Mr,map:new(Oi||Gn),string:new Mr}}function Vg(r){var a=Gs(this,r).delete(r);return this.size-=a?1:0,a}function Xg(r){return Gs(this,r).get(r)}function Jg(r){return Gs(this,r).has(r)}function Qg(r,a){var c=Gs(this,r),d=c.size;return c.set(r,a),this.size+=c.size==d?0:1,this}Kn.prototype.clear=Yg,Kn.prototype.delete=Vg,Kn.prototype.get=Xg,Kn.prototype.has=Jg,Kn.prototype.set=Qg;function zr(r){var a=-1,c=r==null?0:r.length;for(this.__data__=new Kn;++a<c;)this.add(r[a])}function em(r){return this.__data__.set(r,h),this}function tm(r){return this.__data__.has(r)}zr.prototype.add=zr.prototype.push=em,zr.prototype.has=tm;function An(r){var a=this.__data__=new Gn(r);this.size=a.size}function nm(){this.__data__=new Gn,this.size=0}function rm(r){var a=this.__data__,c=a.delete(r);return this.size=a.size,c}function im(r){return this.__data__.get(r)}function sm(r){return this.__data__.has(r)}function om(r,a){var c=this.__data__;if(c instanceof Gn){var d=c.__data__;if(!Oi||d.length<s-1)return d.push([r,a]),this.size=++c.size,this;c=this.__data__=new Kn(d)}return c.set(r,a),this.size=c.size,this}An.prototype.clear=nm,An.prototype.delete=rm,An.prototype.get=im,An.prototype.has=sm,An.prototype.set=om;function tc(r,a){var c=De(r),d=!c&&Hr(r),T=!c&&!d&&mr(r),N=!c&&!d&&!T&&pi(r),P=c||d||T||N,H=P?ua(r.length,mg):[],V=H.length;for(var le in r)(a||lt.call(r,le))&&!(P&&(le=="length"||T&&(le=="offset"||le=="parent")||N&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||Vn(le,V)))&&H.push(le);return H}function nc(r){var a=r.length;return a?r[ka(0,a-1)]:t}function am(r,a){return Ks(Xt(r),Br(a,0,r.length))}function lm(r){return Ks(Xt(r))}function ma(r,a,c){(c!==t&&!kn(r[a],c)||c===t&&!(a in r))&&qn(r,a,c)}function Mi(r,a,c){var d=r[a];(!(lt.call(r,a)&&kn(d,c))||c===t&&!(a in r))&&qn(r,a,c)}function Os(r,a){for(var c=r.length;c--;)if(kn(r[c][0],a))return c;return-1}function um(r,a,c,d){return fr(r,function(T,N,P){a(d,T,c(T),P)}),d}function rc(r,a){return r&&Fn(a,Ft(a),r)}function cm(r,a){return r&&Fn(a,Qt(a),r)}function qn(r,a,c){a=="__proto__"&&xs?xs(r,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[a]=c}function _a(r,a){for(var c=-1,d=a.length,T=ee(d),N=r==null;++c<d;)T[c]=N?t:Xa(r,a[c]);return T}function Br(r,a,c){return r===r&&(c!==t&&(r=r<=c?r:c),a!==t&&(r=r>=a?r:a)),r}function _n(r,a,c,d,T,N){var P,H=a&g,V=a&b,le=a&m;if(c&&(P=T?c(r,d,T,N):c(r)),P!==t)return P;if(!yt(r))return r;var ue=De(r);if(ue){if(P=Jm(r),!H)return Xt(r,P)}else{var fe=Ht(r),Se=fe==M||fe==K;if(mr(r))return xc(r,H);if(fe==R||fe==pe||Se&&!T){if(P=V||Se?{}:Kc(r),!H)return V?jm(r,cm(P,r)):Um(r,rc(P,r))}else{if(!pt[fe])return T?r:{};P=Qm(r,fe,H)}}N||(N=new An);var Ae=N.get(r);if(Ae)return Ae;N.set(r,P),Sh(r)?r.forEach(function(Ne){P.add(_n(Ne,a,c,Ne,r,N))}):bh(r)&&r.forEach(function(Ne,Ke){P.set(Ke,_n(Ne,a,c,Ke,r,N))});var Re=le?V?Ma:Da:V?Qt:Ft,je=ue?t:Re(r);return pn(je||r,function(Ne,Ke){je&&(Ke=Ne,Ne=r[Ke]),Mi(P,Ke,_n(Ne,a,c,Ke,r,N))}),P}function hm(r){var a=Ft(r);return function(c){return ic(c,r,a)}}function ic(r,a,c){var d=c.length;if(r==null)return!d;for(r=ht(r);d--;){var T=c[d],N=a[T],P=r[T];if(P===t&&!(T in r)||!N(P))return!1}return!0}function sc(r,a,c){if(typeof r!="function")throw new gn(l);return Wi(function(){r.apply(t,c)},a)}function zi(r,a,c,d){var T=-1,N=ms,P=!0,H=r.length,V=[],le=a.length;if(!H)return V;c&&(a=bt(a,sn(c))),d?(N=ra,P=!1):a.length>=s&&(N=Ii,P=!1,a=new zr(a));e:for(;++T<H;){var ue=r[T],fe=c==null?ue:c(ue);if(ue=d||ue!==0?ue:0,P&&fe===fe){for(var Se=le;Se--;)if(a[Se]===fe)continue e;V.push(ue)}else N(a,fe,d)||V.push(ue)}return V}var fr=Lc(Pn),oc=Lc(ba,!0);function fm(r,a){var c=!0;return fr(r,function(d,T,N){return c=!!a(d,T,N),c}),c}function Ps(r,a,c){for(var d=-1,T=r.length;++d<T;){var N=r[d],P=a(N);if(P!=null&&(H===t?P===P&&!an(P):c(P,H)))var H=P,V=N}return V}function dm(r,a,c,d){var T=r.length;for(c=ze(c),c<0&&(c=-c>T?0:T+c),d=d===t||d>T?T:ze(d),d<0&&(d+=T),d=c>d?0:wh(d);c<d;)r[c++]=a;return r}function ac(r,a){var c=[];return fr(r,function(d,T,N){a(d,T,N)&&c.push(d)}),c}function Ut(r,a,c,d,T){var N=-1,P=r.length;for(c||(c=t_),T||(T=[]);++N<P;){var H=r[N];a>0&&c(H)?a>1?Ut(H,a-1,c,d,T):ur(T,H):d||(T[T.length]=H)}return T}var va=Oc(),lc=Oc(!0);function Pn(r,a){return r&&va(r,a,Ft)}function ba(r,a){return r&&lc(r,a,Ft)}function Fs(r,a){return lr(a,function(c){return Xn(r[c])})}function Ur(r,a){a=pr(a,r);for(var c=0,d=a.length;r!=null&&c<d;)r=r[Dn(a[c++])];return c&&c==d?r:t}function uc(r,a,c){var d=a(r);return De(r)?d:ur(d,c(r))}function Kt(r){return r==null?r===t?oe:F:Dr&&Dr in ht(r)?Ym(r):l_(r)}function Ta(r,a){return r>a}function pm(r,a){return r!=null&&lt.call(r,a)}function gm(r,a){return r!=null&&a in ht(r)}function mm(r,a,c){return r>=$t(a,c)&&r<Ot(a,c)}function Sa(r,a,c){for(var d=c?ra:ms,T=r[0].length,N=r.length,P=N,H=ee(N),V=1/0,le=[];P--;){var ue=r[P];P&&a&&(ue=bt(ue,sn(a))),V=$t(ue.length,V),H[P]=!c&&(a||T>=120&&ue.length>=120)?new zr(P&&ue):t}ue=r[0];var fe=-1,Se=H[0];e:for(;++fe<T&&le.length<V;){var Ae=ue[fe],Re=a?a(Ae):Ae;if(Ae=c||Ae!==0?Ae:0,!(Se?Ii(Se,Re):d(le,Re,c))){for(P=N;--P;){var je=H[P];if(!(je?Ii(je,Re):d(r[P],Re,c)))continue e}Se&&Se.push(Re),le.push(Ae)}}return le}function _m(r,a,c,d){return Pn(r,function(T,N,P){a(d,c(T),N,P)}),d}function Bi(r,a,c){a=pr(a,r),r=Vc(r,a);var d=r==null?r:r[Dn(bn(a))];return d==null?t:rn(d,r,c)}function cc(r){return wt(r)&&Kt(r)==pe}function vm(r){return wt(r)&&Kt(r)==ke}function bm(r){return wt(r)&&Kt(r)==Oe}function Ui(r,a,c,d,T){return r===a?!0:r==null||a==null||!wt(r)&&!wt(a)?r!==r&&a!==a:Tm(r,a,c,d,Ui,T)}function Tm(r,a,c,d,T,N){var P=De(r),H=De(a),V=P?Me:Ht(r),le=H?Me:Ht(a);V=V==pe?R:V,le=le==pe?R:le;var ue=V==R,fe=le==R,Se=V==le;if(Se&&mr(r)){if(!mr(a))return!1;P=!0,ue=!1}if(Se&&!ue)return N||(N=new An),P||pi(r)?Hc(r,a,c,d,T,N):qm(r,a,V,c,d,T,N);if(!(c&A)){var Ae=ue&&lt.call(r,"__wrapped__"),Re=fe&&lt.call(a,"__wrapped__");if(Ae||Re){var je=Ae?r.value():r,Ne=Re?a.value():a;return N||(N=new An),T(je,Ne,c,d,N)}}return Se?(N||(N=new An),Zm(r,a,c,d,T,N)):!1}function Sm(r){return wt(r)&&Ht(r)==p}function ya(r,a,c,d){var T=c.length,N=T,P=!d;if(r==null)return!N;for(r=ht(r);T--;){var H=c[T];if(P&&H[2]?H[1]!==r[H[0]]:!(H[0]in r))return!1}for(;++T<N;){H=c[T];var V=H[0],le=r[V],ue=H[1];if(P&&H[2]){if(le===t&&!(V in r))return!1}else{var fe=new An;if(d)var Se=d(le,ue,V,r,a,fe);if(!(Se===t?Ui(ue,le,A|_,d,fe):Se))return!1}}return!0}function hc(r){if(!yt(r)||r_(r))return!1;var a=Xn(r)?Sg:hp;return a.test($r(r))}function ym(r){return wt(r)&&Kt(r)==q}function wm(r){return wt(r)&&Ht(r)==G}function Em(r){return wt(r)&&Js(r.length)&&!!gt[Kt(r)]}function fc(r){return typeof r=="function"?r:r==null?en:typeof r=="object"?De(r)?gc(r[0],r[1]):pc(r):Ph(r)}function wa(r){if(!Hi(r))return xg(r);var a=[];for(var c in ht(r))lt.call(r,c)&&c!="constructor"&&a.push(c);return a}function Am(r){if(!yt(r))return a_(r);var a=Hi(r),c=[];for(var d in r)d=="constructor"&&(a||!lt.call(r,d))||c.push(d);return c}function Ea(r,a){return r<a}function dc(r,a){var c=-1,d=Jt(r)?ee(r.length):[];return fr(r,function(T,N,P){d[++c]=a(T,N,P)}),d}function pc(r){var a=Ba(r);return a.length==1&&a[0][2]?Zc(a[0][0],a[0][1]):function(c){return c===r||ya(c,r,a)}}function gc(r,a){return ja(r)&&qc(a)?Zc(Dn(r),a):function(c){var d=Xa(c,r);return d===t&&d===a?Ja(c,r):Ui(a,d,A|_)}}function Ds(r,a,c,d,T){r!==a&&va(a,function(N,P){if(T||(T=new An),yt(N))km(r,a,P,c,Ds,d,T);else{var H=d?d(Ha(r,P),N,P+"",r,a,T):t;H===t&&(H=N),ma(r,P,H)}},Qt)}function km(r,a,c,d,T,N,P){var H=Ha(r,c),V=Ha(a,c),le=P.get(V);if(le){ma(r,c,le);return}var ue=N?N(H,V,c+"",r,a,P):t,fe=ue===t;if(fe){var Se=De(V),Ae=!Se&&mr(V),Re=!Se&&!Ae&&pi(V);ue=V,Se||Ae||Re?De(H)?ue=H:xt(H)?ue=Xt(H):Ae?(fe=!1,ue=xc(V,!0)):Re?(fe=!1,ue=Cc(V,!0)):ue=[]:Gi(V)||Hr(V)?(ue=H,Hr(H)?ue=Eh(H):(!yt(H)||Xn(H))&&(ue=Kc(V))):fe=!1}fe&&(P.set(V,ue),T(ue,V,d,N,P),P.delete(V)),ma(r,c,ue)}function mc(r,a){var c=r.length;if(c)return a+=a<0?c:0,Vn(a,c)?r[a]:t}function _c(r,a,c){a.length?a=bt(a,function(N){return De(N)?function(P){return Ur(P,N.length===1?N[0]:N)}:N}):a=[en];var d=-1;a=bt(a,sn(Ce()));var T=dc(r,function(N,P,H){var V=bt(a,function(le){return le(N)});return{criteria:V,index:++d,value:N}});return Qp(T,function(N,P){return Bm(N,P,c)})}function xm(r,a){return vc(r,a,function(c,d){return Ja(r,d)})}function vc(r,a,c){for(var d=-1,T=a.length,N={};++d<T;){var P=a[d],H=Ur(r,P);c(H,P)&&ji(N,pr(P,r),H)}return N}function Cm(r){return function(a){return Ur(a,r)}}function Aa(r,a,c,d){var T=d?Jp:ri,N=-1,P=a.length,H=r;for(r===a&&(a=Xt(a)),c&&(H=bt(r,sn(c)));++N<P;)for(var V=0,le=a[N],ue=c?c(le):le;(V=T(H,ue,V,d))>-1;)H!==r&&ks.call(H,V,1),ks.call(r,V,1);return r}function bc(r,a){for(var c=r?a.length:0,d=c-1;c--;){var T=a[c];if(c==d||T!==N){var N=T;Vn(T)?ks.call(r,T,1):Ra(r,T)}}return r}function ka(r,a){return r+Rs(Qu()*(a-r+1))}function Rm(r,a,c,d){for(var T=-1,N=Ot(Cs((a-r)/(c||1)),0),P=ee(N);N--;)P[d?N:++T]=r,r+=c;return P}function xa(r,a){var c="";if(!r||a<1||a>ge)return c;do a%2&&(c+=r),a=Rs(a/2),a&&(r+=r);while(a);return c}function He(r,a){return Wa(Yc(r,a,en),r+"")}function Nm(r){return nc(gi(r))}function Im(r,a){var c=gi(r);return Ks(c,Br(a,0,c.length))}function ji(r,a,c,d){if(!yt(r))return r;a=pr(a,r);for(var T=-1,N=a.length,P=N-1,H=r;H!=null&&++T<N;){var V=Dn(a[T]),le=c;if(V==="__proto__"||V==="constructor"||V==="prototype")return r;if(T!=P){var ue=H[V];le=d?d(ue,V,H):t,le===t&&(le=yt(ue)?ue:Vn(a[T+1])?[]:{})}Mi(H,V,le),H=H[V]}return r}var Tc=Ns?function(r,a){return Ns.set(r,a),r}:en,Lm=xs?function(r,a){return xs(r,"toString",{configurable:!0,enumerable:!1,value:el(a),writable:!0})}:en;function Om(r){return Ks(gi(r))}function vn(r,a,c){var d=-1,T=r.length;a<0&&(a=-a>T?0:T+a),c=c>T?T:c,c<0&&(c+=T),T=a>c?0:c-a>>>0,a>>>=0;for(var N=ee(T);++d<T;)N[d]=r[d+a];return N}function Pm(r,a){var c;return fr(r,function(d,T,N){return c=a(d,T,N),!c}),!!c}function Ms(r,a,c){var d=0,T=r==null?d:r.length;if(typeof a=="number"&&a===a&&T<=xe){for(;d<T;){var N=d+T>>>1,P=r[N];P!==null&&!an(P)&&(c?P<=a:P<a)?d=N+1:T=N}return T}return Ca(r,a,en,c)}function Ca(r,a,c,d){var T=0,N=r==null?0:r.length;if(N===0)return 0;a=c(a);for(var P=a!==a,H=a===null,V=an(a),le=a===t;T<N;){var ue=Rs((T+N)/2),fe=c(r[ue]),Se=fe!==t,Ae=fe===null,Re=fe===fe,je=an(fe);if(P)var Ne=d||Re;else le?Ne=Re&&(d||Se):H?Ne=Re&&Se&&(d||!Ae):V?Ne=Re&&Se&&!Ae&&(d||!je):Ae||je?Ne=!1:Ne=d?fe<=a:fe<a;Ne?T=ue+1:N=ue}return $t(N,X)}function Sc(r,a){for(var c=-1,d=r.length,T=0,N=[];++c<d;){var P=r[c],H=a?a(P):P;if(!c||!kn(H,V)){var V=H;N[T++]=P===0?0:P}}return N}function yc(r){return typeof r=="number"?r:an(r)?Ee:+r}function on(r){if(typeof r=="string")return r;if(De(r))return bt(r,on)+"";if(an(r))return ec?ec.call(r):"";var a=r+"";return a=="0"&&1/r==-ie?"-0":a}function dr(r,a,c){var d=-1,T=ms,N=r.length,P=!0,H=[],V=H;if(c)P=!1,T=ra;else if(N>=s){var le=a?null:Gm(r);if(le)return vs(le);P=!1,T=Ii,V=new zr}else V=a?[]:H;e:for(;++d<N;){var ue=r[d],fe=a?a(ue):ue;if(ue=c||ue!==0?ue:0,P&&fe===fe){for(var Se=V.length;Se--;)if(V[Se]===fe)continue e;a&&V.push(fe),H.push(ue)}else T(V,fe,c)||(V!==H&&V.push(fe),H.push(ue))}return H}function Ra(r,a){return a=pr(a,r),r=Vc(r,a),r==null||delete r[Dn(bn(a))]}function wc(r,a,c,d){return ji(r,a,c(Ur(r,a)),d)}function zs(r,a,c,d){for(var T=r.length,N=d?T:-1;(d?N--:++N<T)&&a(r[N],N,r););return c?vn(r,d?0:N,d?N+1:T):vn(r,d?N+1:0,d?T:N)}function Ec(r,a){var c=r;return c instanceof Ze&&(c=c.value()),ia(a,function(d,T){return T.func.apply(T.thisArg,ur([d],T.args))},c)}function Na(r,a,c){var d=r.length;if(d<2)return d?dr(r[0]):[];for(var T=-1,N=ee(d);++T<d;)for(var P=r[T],H=-1;++H<d;)H!=T&&(N[T]=zi(N[T]||P,r[H],a,c));return dr(Ut(N,1),a,c)}function Ac(r,a,c){for(var d=-1,T=r.length,N=a.length,P={};++d<T;){var H=d<N?a[d]:t;c(P,r[d],H)}return P}function Ia(r){return xt(r)?r:[]}function La(r){return typeof r=="function"?r:en}function pr(r,a){return De(r)?r:ja(r,a)?[r]:eh(ot(r))}var Fm=He;function gr(r,a,c){var d=r.length;return c=c===t?d:c,!a&&c>=d?r:vn(r,a,c)}var kc=yg||function(r){return Bt.clearTimeout(r)};function xc(r,a){if(a)return r.slice();var c=r.length,d=Zu?Zu(c):new r.constructor(c);return r.copy(d),d}function Oa(r){var a=new r.constructor(r.byteLength);return new Es(a).set(new Es(r)),a}function Dm(r,a){var c=a?Oa(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function Mm(r){var a=new r.constructor(r.source,cu.exec(r));return a.lastIndex=r.lastIndex,a}function zm(r){return Di?ht(Di.call(r)):{}}function Cc(r,a){var c=a?Oa(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function Rc(r,a){if(r!==a){var c=r!==t,d=r===null,T=r===r,N=an(r),P=a!==t,H=a===null,V=a===a,le=an(a);if(!H&&!le&&!N&&r>a||N&&P&&V&&!H&&!le||d&&P&&V||!c&&V||!T)return 1;if(!d&&!N&&!le&&r<a||le&&c&&T&&!d&&!N||H&&c&&T||!P&&T||!V)return-1}return 0}function Bm(r,a,c){for(var d=-1,T=r.criteria,N=a.criteria,P=T.length,H=c.length;++d<P;){var V=Rc(T[d],N[d]);if(V){if(d>=H)return V;var le=c[d];return V*(le=="desc"?-1:1)}}return r.index-a.index}function Nc(r,a,c,d){for(var T=-1,N=r.length,P=c.length,H=-1,V=a.length,le=Ot(N-P,0),ue=ee(V+le),fe=!d;++H<V;)ue[H]=a[H];for(;++T<P;)(fe||T<N)&&(ue[c[T]]=r[T]);for(;le--;)ue[H++]=r[T++];return ue}function Ic(r,a,c,d){for(var T=-1,N=r.length,P=-1,H=c.length,V=-1,le=a.length,ue=Ot(N-H,0),fe=ee(ue+le),Se=!d;++T<ue;)fe[T]=r[T];for(var Ae=T;++V<le;)fe[Ae+V]=a[V];for(;++P<H;)(Se||T<N)&&(fe[Ae+c[P]]=r[T++]);return fe}function Xt(r,a){var c=-1,d=r.length;for(a||(a=ee(d));++c<d;)a[c]=r[c];return a}function Fn(r,a,c,d){var T=!c;c||(c={});for(var N=-1,P=a.length;++N<P;){var H=a[N],V=d?d(c[H],r[H],H,c,r):t;V===t&&(V=r[H]),T?qn(c,H,V):Mi(c,H,V)}return c}function Um(r,a){return Fn(r,Ua(r),a)}function jm(r,a){return Fn(r,Wc(r),a)}function Bs(r,a){return function(c,d){var T=De(c)?Kp:um,N=a?a():{};return T(c,r,Ce(d,2),N)}}function hi(r){return He(function(a,c){var d=-1,T=c.length,N=T>1?c[T-1]:t,P=T>2?c[2]:t;for(N=r.length>3&&typeof N=="function"?(T--,N):t,P&&qt(c[0],c[1],P)&&(N=T<3?t:N,T=1),a=ht(a);++d<T;){var H=c[d];H&&r(a,H,d,N)}return a})}function Lc(r,a){return function(c,d){if(c==null)return c;if(!Jt(c))return r(c,d);for(var T=c.length,N=a?T:-1,P=ht(c);(a?N--:++N<T)&&d(P[N],N,P)!==!1;);return c}}function Oc(r){return function(a,c,d){for(var T=-1,N=ht(a),P=d(a),H=P.length;H--;){var V=P[r?H:++T];if(c(N[V],V,N)===!1)break}return a}}function $m(r,a,c){var d=a&E,T=$i(r);function N(){var P=this&&this!==Bt&&this instanceof N?T:r;return P.apply(d?c:this,arguments)}return N}function Pc(r){return function(a){a=ot(a);var c=ii(a)?En(a):t,d=c?c[0]:a.charAt(0),T=c?gr(c,1).join(""):a.slice(1);return d[r]()+T}}function fi(r){return function(a){return ia(Lh(Ih(a).replace(Lp,"")),r,"")}}function $i(r){return function(){var a=arguments;switch(a.length){case 0:return new r;case 1:return new r(a[0]);case 2:return new r(a[0],a[1]);case 3:return new r(a[0],a[1],a[2]);case 4:return new r(a[0],a[1],a[2],a[3]);case 5:return new r(a[0],a[1],a[2],a[3],a[4]);case 6:return new r(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new r(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var c=ci(r.prototype),d=r.apply(c,a);return yt(d)?d:c}}function Hm(r,a,c){var d=$i(r);function T(){for(var N=arguments.length,P=ee(N),H=N,V=di(T);H--;)P[H]=arguments[H];var le=N<3&&P[0]!==V&&P[N-1]!==V?[]:cr(P,V);if(N-=le.length,N<c)return Bc(r,a,Us,T.placeholder,t,P,le,t,t,c-N);var ue=this&&this!==Bt&&this instanceof T?d:r;return rn(ue,this,P)}return T}function Fc(r){return function(a,c,d){var T=ht(a);if(!Jt(a)){var N=Ce(c,3);a=Ft(a),c=function(H){return N(T[H],H,T)}}var P=r(a,c,d);return P>-1?T[N?a[P]:P]:t}}function Dc(r){return Yn(function(a){var c=a.length,d=c,T=mn.prototype.thru;for(r&&a.reverse();d--;){var N=a[d];if(typeof N!="function")throw new gn(l);if(T&&!P&&Ws(N)=="wrapper")var P=new mn([],!0)}for(d=P?d:c;++d<c;){N=a[d];var H=Ws(N),V=H=="wrapper"?za(N):t;V&&$a(V[0])&&V[1]==(W|k|L|Y)&&!V[4].length&&V[9]==1?P=P[Ws(V[0])].apply(P,V[3]):P=N.length==1&&$a(N)?P[H]():P.thru(N)}return function(){var le=arguments,ue=le[0];if(P&&le.length==1&&De(ue))return P.plant(ue).value();for(var fe=0,Se=c?a[fe].apply(this,le):ue;++fe<c;)Se=a[fe].call(this,Se);return Se}})}function Us(r,a,c,d,T,N,P,H,V,le){var ue=a&W,fe=a&E,Se=a&w,Ae=a&(k|I),Re=a&B,je=Se?t:$i(r);function Ne(){for(var Ke=arguments.length,Ve=ee(Ke),ln=Ke;ln--;)Ve[ln]=arguments[ln];if(Ae)var Zt=di(Ne),un=tg(Ve,Zt);if(d&&(Ve=Nc(Ve,d,T,Ae)),N&&(Ve=Ic(Ve,N,P,Ae)),Ke-=un,Ae&&Ke<le){var Ct=cr(Ve,Zt);return Bc(r,a,Us,Ne.placeholder,c,Ve,Ct,H,V,le-Ke)}var xn=fe?c:this,Qn=Se?xn[r]:r;return Ke=Ve.length,H?Ve=u_(Ve,H):Re&&Ke>1&&Ve.reverse(),ue&&V<Ke&&(Ve.length=V),this&&this!==Bt&&this instanceof Ne&&(Qn=je||$i(Qn)),Qn.apply(xn,Ve)}return Ne}function Mc(r,a){return function(c,d){return _m(c,r,a(d),{})}}function js(r,a){return function(c,d){var T;if(c===t&&d===t)return a;if(c!==t&&(T=c),d!==t){if(T===t)return d;typeof c=="string"||typeof d=="string"?(c=on(c),d=on(d)):(c=yc(c),d=yc(d)),T=r(c,d)}return T}}function Pa(r){return Yn(function(a){return a=bt(a,sn(Ce())),He(function(c){var d=this;return r(a,function(T){return rn(T,d,c)})})})}function $s(r,a){a=a===t?" ":on(a);var c=a.length;if(c<2)return c?xa(a,r):a;var d=xa(a,Cs(r/si(a)));return ii(a)?gr(En(d),0,r).join(""):d.slice(0,r)}function Wm(r,a,c,d){var T=a&E,N=$i(r);function P(){for(var H=-1,V=arguments.length,le=-1,ue=d.length,fe=ee(ue+V),Se=this&&this!==Bt&&this instanceof P?N:r;++le<ue;)fe[le]=d[le];for(;V--;)fe[le++]=arguments[++H];return rn(Se,T?c:this,fe)}return P}function zc(r){return function(a,c,d){return d&&typeof d!="number"&&qt(a,c,d)&&(c=d=t),a=Jn(a),c===t?(c=a,a=0):c=Jn(c),d=d===t?a<c?1:-1:Jn(d),Rm(a,c,d,r)}}function Hs(r){return function(a,c){return typeof a=="string"&&typeof c=="string"||(a=Tn(a),c=Tn(c)),r(a,c)}}function Bc(r,a,c,d,T,N,P,H,V,le){var ue=a&k,fe=ue?P:t,Se=ue?t:P,Ae=ue?N:t,Re=ue?t:N;a|=ue?L:j,a&=~(ue?j:L),a&S||(a&=~(E|w));var je=[r,a,T,Ae,fe,Re,Se,H,V,le],Ne=c.apply(t,je);return $a(r)&&Xc(Ne,je),Ne.placeholder=d,Jc(Ne,r,a)}function Fa(r){var a=Lt[r];return function(c,d){if(c=Tn(c),d=d==null?0:$t(ze(d),292),d&&Ju(c)){var T=(ot(c)+"e").split("e"),N=a(T[0]+"e"+(+T[1]+d));return T=(ot(N)+"e").split("e"),+(T[0]+"e"+(+T[1]-d))}return a(c)}}var Gm=li&&1/vs(new li([,-0]))[1]==ie?function(r){return new li(r)}:rl;function Uc(r){return function(a){var c=Ht(a);return c==p?ha(a):c==G?lg(a):eg(a,r(a))}}function Zn(r,a,c,d,T,N,P,H){var V=a&w;if(!V&&typeof r!="function")throw new gn(l);var le=d?d.length:0;if(le||(a&=~(L|j),d=T=t),P=P===t?P:Ot(ze(P),0),H=H===t?H:ze(H),le-=T?T.length:0,a&j){var ue=d,fe=T;d=T=t}var Se=V?t:za(r),Ae=[r,a,c,d,T,ue,fe,N,P,H];if(Se&&o_(Ae,Se),r=Ae[0],a=Ae[1],c=Ae[2],d=Ae[3],T=Ae[4],H=Ae[9]=Ae[9]===t?V?0:r.length:Ot(Ae[9]-le,0),!H&&a&(k|I)&&(a&=~(k|I)),!a||a==E)var Re=$m(r,a,c);else a==k||a==I?Re=Hm(r,a,H):(a==L||a==(E|L))&&!T.length?Re=Wm(r,a,c,d):Re=Us.apply(t,Ae);var je=Se?Tc:Xc;return Jc(je(Re,Ae),r,a)}function jc(r,a,c,d){return r===t||kn(r,ai[c])&&!lt.call(d,c)?a:r}function $c(r,a,c,d,T,N){return yt(r)&&yt(a)&&(N.set(a,r),Ds(r,a,t,$c,N),N.delete(a)),r}function Km(r){return Gi(r)?t:r}function Hc(r,a,c,d,T,N){var P=c&A,H=r.length,V=a.length;if(H!=V&&!(P&&V>H))return!1;var le=N.get(r),ue=N.get(a);if(le&&ue)return le==a&&ue==r;var fe=-1,Se=!0,Ae=c&_?new zr:t;for(N.set(r,a),N.set(a,r);++fe<H;){var Re=r[fe],je=a[fe];if(d)var Ne=P?d(je,Re,fe,a,r,N):d(Re,je,fe,r,a,N);if(Ne!==t){if(Ne)continue;Se=!1;break}if(Ae){if(!sa(a,function(Ke,Ve){if(!Ii(Ae,Ve)&&(Re===Ke||T(Re,Ke,c,d,N)))return Ae.push(Ve)})){Se=!1;break}}else if(!(Re===je||T(Re,je,c,d,N))){Se=!1;break}}return N.delete(r),N.delete(a),Se}function qm(r,a,c,d,T,N,P){switch(c){case ye:if(r.byteLength!=a.byteLength||r.byteOffset!=a.byteOffset)return!1;r=r.buffer,a=a.buffer;case ke:return!(r.byteLength!=a.byteLength||!N(new Es(r),new Es(a)));case Ie:case Oe:case U:return kn(+r,+a);case Ye:return r.name==a.name&&r.message==a.message;case q:case $:return r==a+"";case p:var H=ha;case G:var V=d&A;if(H||(H=vs),r.size!=a.size&&!V)return!1;var le=P.get(r);if(le)return le==a;d|=_,P.set(r,a);var ue=Hc(H(r),H(a),d,T,N,P);return P.delete(r),ue;case Q:if(Di)return Di.call(r)==Di.call(a)}return!1}function Zm(r,a,c,d,T,N){var P=c&A,H=Da(r),V=H.length,le=Da(a),ue=le.length;if(V!=ue&&!P)return!1;for(var fe=V;fe--;){var Se=H[fe];if(!(P?Se in a:lt.call(a,Se)))return!1}var Ae=N.get(r),Re=N.get(a);if(Ae&&Re)return Ae==a&&Re==r;var je=!0;N.set(r,a),N.set(a,r);for(var Ne=P;++fe<V;){Se=H[fe];var Ke=r[Se],Ve=a[Se];if(d)var ln=P?d(Ve,Ke,Se,a,r,N):d(Ke,Ve,Se,r,a,N);if(!(ln===t?Ke===Ve||T(Ke,Ve,c,d,N):ln)){je=!1;break}Ne||(Ne=Se=="constructor")}if(je&&!Ne){var Zt=r.constructor,un=a.constructor;Zt!=un&&"constructor"in r&&"constructor"in a&&!(typeof Zt=="function"&&Zt instanceof Zt&&typeof un=="function"&&un instanceof un)&&(je=!1)}return N.delete(r),N.delete(a),je}function Yn(r){return Wa(Yc(r,t,ih),r+"")}function Da(r){return uc(r,Ft,Ua)}function Ma(r){return uc(r,Qt,Wc)}var za=Ns?function(r){return Ns.get(r)}:rl;function Ws(r){for(var a=r.name+"",c=ui[a],d=lt.call(ui,a)?c.length:0;d--;){var T=c[d],N=T.func;if(N==null||N==r)return T.name}return a}function di(r){var a=lt.call(x,"placeholder")?x:r;return a.placeholder}function Ce(){var r=x.iteratee||tl;return r=r===tl?fc:r,arguments.length?r(arguments[0],arguments[1]):r}function Gs(r,a){var c=r.__data__;return n_(a)?c[typeof a=="string"?"string":"hash"]:c.map}function Ba(r){for(var a=Ft(r),c=a.length;c--;){var d=a[c],T=r[d];a[c]=[d,T,qc(T)]}return a}function jr(r,a){var c=sg(r,a);return hc(c)?c:t}function Ym(r){var a=lt.call(r,Dr),c=r[Dr];try{r[Dr]=t;var d=!0}catch{}var T=ys.call(r);return d&&(a?r[Dr]=c:delete r[Dr]),T}var Ua=da?function(r){return r==null?[]:(r=ht(r),lr(da(r),function(a){return Vu.call(r,a)}))}:il,Wc=da?function(r){for(var a=[];r;)ur(a,Ua(r)),r=As(r);return a}:il,Ht=Kt;(pa&&Ht(new pa(new ArrayBuffer(1)))!=ye||Oi&&Ht(new Oi)!=p||ga&&Ht(ga.resolve())!=C||li&&Ht(new li)!=G||Pi&&Ht(new Pi)!=re)&&(Ht=function(r){var a=Kt(r),c=a==R?r.constructor:t,d=c?$r(c):"";if(d)switch(d){case Ig:return ye;case Lg:return p;case Og:return C;case Pg:return G;case Fg:return re}return a});function Vm(r,a,c){for(var d=-1,T=c.length;++d<T;){var N=c[d],P=N.size;switch(N.type){case"drop":r+=P;break;case"dropRight":a-=P;break;case"take":a=$t(a,r+P);break;case"takeRight":r=Ot(r,a-P);break}}return{start:r,end:a}}function Xm(r){var a=r.match(rp);return a?a[1].split(ip):[]}function Gc(r,a,c){a=pr(a,r);for(var d=-1,T=a.length,N=!1;++d<T;){var P=Dn(a[d]);if(!(N=r!=null&&c(r,P)))break;r=r[P]}return N||++d!=T?N:(T=r==null?0:r.length,!!T&&Js(T)&&Vn(P,T)&&(De(r)||Hr(r)))}function Jm(r){var a=r.length,c=new r.constructor(a);return a&&typeof r[0]=="string"&&lt.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function Kc(r){return typeof r.constructor=="function"&&!Hi(r)?ci(As(r)):{}}function Qm(r,a,c){var d=r.constructor;switch(a){case ke:return Oa(r);case Ie:case Oe:return new d(+r);case ye:return Dm(r,c);case Ge:case Et:case At:case fn:case nt:case wn:case kt:case vt:case Wn:return Cc(r,c);case p:return new d;case U:case $:return new d(r);case q:return Mm(r);case G:return new d;case Q:return zm(r)}}function e_(r,a){var c=a.length;if(!c)return r;var d=c-1;return a[d]=(c>1?"& ":"")+a[d],a=a.join(c>2?", ":" "),r.replace(np,`{
/* [wrapped with `+a+`] */
`)}function t_(r){return De(r)||Hr(r)||!!(Xu&&r&&r[Xu])}function Vn(r,a){var c=typeof r;return a=a??ge,!!a&&(c=="number"||c!="symbol"&&dp.test(r))&&r>-1&&r%1==0&&r<a}function qt(r,a,c){if(!yt(c))return!1;var d=typeof a;return(d=="number"?Jt(c)&&Vn(a,c.length):d=="string"&&a in c)?kn(c[a],r):!1}function ja(r,a){if(De(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||an(r)?!0:Jd.test(r)||!Xd.test(r)||a!=null&&r in ht(a)}function n_(r){var a=typeof r;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?r!=="__proto__":r===null}function $a(r){var a=Ws(r),c=x[a];if(typeof c!="function"||!(a in Ze.prototype))return!1;if(r===c)return!0;var d=za(c);return!!d&&r===d[0]}function r_(r){return!!qu&&qu in r}var i_=Ts?Xn:sl;function Hi(r){var a=r&&r.constructor,c=typeof a=="function"&&a.prototype||ai;return r===c}function qc(r){return r===r&&!yt(r)}function Zc(r,a){return function(c){return c==null?!1:c[r]===a&&(a!==t||r in ht(c))}}function s_(r){var a=Vs(r,function(d){return c.size===f&&c.clear(),d}),c=a.cache;return a}function o_(r,a){var c=r[1],d=a[1],T=c|d,N=T<(E|w|W),P=d==W&&c==k||d==W&&c==Y&&r[7].length<=a[8]||d==(W|Y)&&a[7].length<=a[8]&&c==k;if(!(N||P))return r;d&E&&(r[2]=a[2],T|=c&E?0:S);var H=a[3];if(H){var V=r[3];r[3]=V?Nc(V,H,a[4]):H,r[4]=V?cr(r[3],v):a[4]}return H=a[5],H&&(V=r[5],r[5]=V?Ic(V,H,a[6]):H,r[6]=V?cr(r[5],v):a[6]),H=a[7],H&&(r[7]=H),d&W&&(r[8]=r[8]==null?a[8]:$t(r[8],a[8])),r[9]==null&&(r[9]=a[9]),r[0]=a[0],r[1]=T,r}function a_(r){var a=[];if(r!=null)for(var c in ht(r))a.push(c);return a}function l_(r){return ys.call(r)}function Yc(r,a,c){return a=Ot(a===t?r.length-1:a,0),function(){for(var d=arguments,T=-1,N=Ot(d.length-a,0),P=ee(N);++T<N;)P[T]=d[a+T];T=-1;for(var H=ee(a+1);++T<a;)H[T]=d[T];return H[a]=c(P),rn(r,this,H)}}function Vc(r,a){return a.length<2?r:Ur(r,vn(a,0,-1))}function u_(r,a){for(var c=r.length,d=$t(a.length,c),T=Xt(r);d--;){var N=a[d];r[d]=Vn(N,c)?T[N]:t}return r}function Ha(r,a){if(!(a==="constructor"&&typeof r[a]=="function")&&a!="__proto__")return r[a]}var Xc=Qc(Tc),Wi=Eg||function(r,a){return Bt.setTimeout(r,a)},Wa=Qc(Lm);function Jc(r,a,c){var d=a+"";return Wa(r,e_(d,c_(Xm(d),c)))}function Qc(r){var a=0,c=0;return function(){var d=Cg(),T=ne-(d-c);if(c=d,T>0){if(++a>=D)return arguments[0]}else a=0;return r.apply(t,arguments)}}function Ks(r,a){var c=-1,d=r.length,T=d-1;for(a=a===t?d:a;++c<a;){var N=ka(c,T),P=r[N];r[N]=r[c],r[c]=P}return r.length=a,r}var eh=s_(function(r){var a=[];return r.charCodeAt(0)===46&&a.push(""),r.replace(Qd,function(c,d,T,N){a.push(T?N.replace(ap,"$1"):d||c)}),a});function Dn(r){if(typeof r=="string"||an(r))return r;var a=r+"";return a=="0"&&1/r==-ie?"-0":a}function $r(r){if(r!=null){try{return Ss.call(r)}catch{}try{return r+""}catch{}}return""}function c_(r,a){return pn(ve,function(c){var d="_."+c[0];a&c[1]&&!ms(r,d)&&r.push(d)}),r.sort()}function th(r){if(r instanceof Ze)return r.clone();var a=new mn(r.__wrapped__,r.__chain__);return a.__actions__=Xt(r.__actions__),a.__index__=r.__index__,a.__values__=r.__values__,a}function h_(r,a,c){(c?qt(r,a,c):a===t)?a=1:a=Ot(ze(a),0);var d=r==null?0:r.length;if(!d||a<1)return[];for(var T=0,N=0,P=ee(Cs(d/a));T<d;)P[N++]=vn(r,T,T+=a);return P}function f_(r){for(var a=-1,c=r==null?0:r.length,d=0,T=[];++a<c;){var N=r[a];N&&(T[d++]=N)}return T}function d_(){var r=arguments.length;if(!r)return[];for(var a=ee(r-1),c=arguments[0],d=r;d--;)a[d-1]=arguments[d];return ur(De(c)?Xt(c):[c],Ut(a,1))}var p_=He(function(r,a){return xt(r)?zi(r,Ut(a,1,xt,!0)):[]}),g_=He(function(r,a){var c=bn(a);return xt(c)&&(c=t),xt(r)?zi(r,Ut(a,1,xt,!0),Ce(c,2)):[]}),m_=He(function(r,a){var c=bn(a);return xt(c)&&(c=t),xt(r)?zi(r,Ut(a,1,xt,!0),t,c):[]});function __(r,a,c){var d=r==null?0:r.length;return d?(a=c||a===t?1:ze(a),vn(r,a<0?0:a,d)):[]}function v_(r,a,c){var d=r==null?0:r.length;return d?(a=c||a===t?1:ze(a),a=d-a,vn(r,0,a<0?0:a)):[]}function b_(r,a){return r&&r.length?zs(r,Ce(a,3),!0,!0):[]}function T_(r,a){return r&&r.length?zs(r,Ce(a,3),!0):[]}function S_(r,a,c,d){var T=r==null?0:r.length;return T?(c&&typeof c!="number"&&qt(r,a,c)&&(c=0,d=T),dm(r,a,c,d)):[]}function nh(r,a,c){var d=r==null?0:r.length;if(!d)return-1;var T=c==null?0:ze(c);return T<0&&(T=Ot(d+T,0)),_s(r,Ce(a,3),T)}function rh(r,a,c){var d=r==null?0:r.length;if(!d)return-1;var T=d-1;return c!==t&&(T=ze(c),T=c<0?Ot(d+T,0):$t(T,d-1)),_s(r,Ce(a,3),T,!0)}function ih(r){var a=r==null?0:r.length;return a?Ut(r,1):[]}function y_(r){var a=r==null?0:r.length;return a?Ut(r,ie):[]}function w_(r,a){var c=r==null?0:r.length;return c?(a=a===t?1:ze(a),Ut(r,a)):[]}function E_(r){for(var a=-1,c=r==null?0:r.length,d={};++a<c;){var T=r[a];d[T[0]]=T[1]}return d}function sh(r){return r&&r.length?r[0]:t}function A_(r,a,c){var d=r==null?0:r.length;if(!d)return-1;var T=c==null?0:ze(c);return T<0&&(T=Ot(d+T,0)),ri(r,a,T)}function k_(r){var a=r==null?0:r.length;return a?vn(r,0,-1):[]}var x_=He(function(r){var a=bt(r,Ia);return a.length&&a[0]===r[0]?Sa(a):[]}),C_=He(function(r){var a=bn(r),c=bt(r,Ia);return a===bn(c)?a=t:c.pop(),c.length&&c[0]===r[0]?Sa(c,Ce(a,2)):[]}),R_=He(function(r){var a=bn(r),c=bt(r,Ia);return a=typeof a=="function"?a:t,a&&c.pop(),c.length&&c[0]===r[0]?Sa(c,t,a):[]});function N_(r,a){return r==null?"":kg.call(r,a)}function bn(r){var a=r==null?0:r.length;return a?r[a-1]:t}function I_(r,a,c){var d=r==null?0:r.length;if(!d)return-1;var T=d;return c!==t&&(T=ze(c),T=T<0?Ot(d+T,0):$t(T,d-1)),a===a?cg(r,a,T):_s(r,Bu,T,!0)}function L_(r,a){return r&&r.length?mc(r,ze(a)):t}var O_=He(oh);function oh(r,a){return r&&r.length&&a&&a.length?Aa(r,a):r}function P_(r,a,c){return r&&r.length&&a&&a.length?Aa(r,a,Ce(c,2)):r}function F_(r,a,c){return r&&r.length&&a&&a.length?Aa(r,a,t,c):r}var D_=Yn(function(r,a){var c=r==null?0:r.length,d=_a(r,a);return bc(r,bt(a,function(T){return Vn(T,c)?+T:T}).sort(Rc)),d});function M_(r,a){var c=[];if(!(r&&r.length))return c;var d=-1,T=[],N=r.length;for(a=Ce(a,3);++d<N;){var P=r[d];a(P,d,r)&&(c.push(P),T.push(d))}return bc(r,T),c}function Ga(r){return r==null?r:Ng.call(r)}function z_(r,a,c){var d=r==null?0:r.length;return d?(c&&typeof c!="number"&&qt(r,a,c)?(a=0,c=d):(a=a==null?0:ze(a),c=c===t?d:ze(c)),vn(r,a,c)):[]}function B_(r,a){return Ms(r,a)}function U_(r,a,c){return Ca(r,a,Ce(c,2))}function j_(r,a){var c=r==null?0:r.length;if(c){var d=Ms(r,a);if(d<c&&kn(r[d],a))return d}return-1}function $_(r,a){return Ms(r,a,!0)}function H_(r,a,c){return Ca(r,a,Ce(c,2),!0)}function W_(r,a){var c=r==null?0:r.length;if(c){var d=Ms(r,a,!0)-1;if(kn(r[d],a))return d}return-1}function G_(r){return r&&r.length?Sc(r):[]}function K_(r,a){return r&&r.length?Sc(r,Ce(a,2)):[]}function q_(r){var a=r==null?0:r.length;return a?vn(r,1,a):[]}function Z_(r,a,c){return r&&r.length?(a=c||a===t?1:ze(a),vn(r,0,a<0?0:a)):[]}function Y_(r,a,c){var d=r==null?0:r.length;return d?(a=c||a===t?1:ze(a),a=d-a,vn(r,a<0?0:a,d)):[]}function V_(r,a){return r&&r.length?zs(r,Ce(a,3),!1,!0):[]}function X_(r,a){return r&&r.length?zs(r,Ce(a,3)):[]}var J_=He(function(r){return dr(Ut(r,1,xt,!0))}),Q_=He(function(r){var a=bn(r);return xt(a)&&(a=t),dr(Ut(r,1,xt,!0),Ce(a,2))}),e0=He(function(r){var a=bn(r);return a=typeof a=="function"?a:t,dr(Ut(r,1,xt,!0),t,a)});function t0(r){return r&&r.length?dr(r):[]}function n0(r,a){return r&&r.length?dr(r,Ce(a,2)):[]}function r0(r,a){return a=typeof a=="function"?a:t,r&&r.length?dr(r,t,a):[]}function Ka(r){if(!(r&&r.length))return[];var a=0;return r=lr(r,function(c){if(xt(c))return a=Ot(c.length,a),!0}),ua(a,function(c){return bt(r,oa(c))})}function ah(r,a){if(!(r&&r.length))return[];var c=Ka(r);return a==null?c:bt(c,function(d){return rn(a,t,d)})}var i0=He(function(r,a){return xt(r)?zi(r,a):[]}),s0=He(function(r){return Na(lr(r,xt))}),o0=He(function(r){var a=bn(r);return xt(a)&&(a=t),Na(lr(r,xt),Ce(a,2))}),a0=He(function(r){var a=bn(r);return a=typeof a=="function"?a:t,Na(lr(r,xt),t,a)}),l0=He(Ka);function u0(r,a){return Ac(r||[],a||[],Mi)}function c0(r,a){return Ac(r||[],a||[],ji)}var h0=He(function(r){var a=r.length,c=a>1?r[a-1]:t;return c=typeof c=="function"?(r.pop(),c):t,ah(r,c)});function lh(r){var a=x(r);return a.__chain__=!0,a}function f0(r,a){return a(r),r}function qs(r,a){return a(r)}var d0=Yn(function(r){var a=r.length,c=a?r[0]:0,d=this.__wrapped__,T=function(N){return _a(N,r)};return a>1||this.__actions__.length||!(d instanceof Ze)||!Vn(c)?this.thru(T):(d=d.slice(c,+c+(a?1:0)),d.__actions__.push({func:qs,args:[T],thisArg:t}),new mn(d,this.__chain__).thru(function(N){return a&&!N.length&&N.push(t),N}))});function p0(){return lh(this)}function g0(){return new mn(this.value(),this.__chain__)}function m0(){this.__values__===t&&(this.__values__=yh(this.value()));var r=this.__index__>=this.__values__.length,a=r?t:this.__values__[this.__index__++];return{done:r,value:a}}function _0(){return this}function v0(r){for(var a,c=this;c instanceof Ls;){var d=th(c);d.__index__=0,d.__values__=t,a?T.__wrapped__=d:a=d;var T=d;c=c.__wrapped__}return T.__wrapped__=r,a}function b0(){var r=this.__wrapped__;if(r instanceof Ze){var a=r;return this.__actions__.length&&(a=new Ze(this)),a=a.reverse(),a.__actions__.push({func:qs,args:[Ga],thisArg:t}),new mn(a,this.__chain__)}return this.thru(Ga)}function T0(){return Ec(this.__wrapped__,this.__actions__)}var S0=Bs(function(r,a,c){lt.call(r,c)?++r[c]:qn(r,c,1)});function y0(r,a,c){var d=De(r)?Mu:fm;return c&&qt(r,a,c)&&(a=t),d(r,Ce(a,3))}function w0(r,a){var c=De(r)?lr:ac;return c(r,Ce(a,3))}var E0=Fc(nh),A0=Fc(rh);function k0(r,a){return Ut(Zs(r,a),1)}function x0(r,a){return Ut(Zs(r,a),ie)}function C0(r,a,c){return c=c===t?1:ze(c),Ut(Zs(r,a),c)}function uh(r,a){var c=De(r)?pn:fr;return c(r,Ce(a,3))}function ch(r,a){var c=De(r)?qp:oc;return c(r,Ce(a,3))}var R0=Bs(function(r,a,c){lt.call(r,c)?r[c].push(a):qn(r,c,[a])});function N0(r,a,c,d){r=Jt(r)?r:gi(r),c=c&&!d?ze(c):0;var T=r.length;return c<0&&(c=Ot(T+c,0)),Qs(r)?c<=T&&r.indexOf(a,c)>-1:!!T&&ri(r,a,c)>-1}var I0=He(function(r,a,c){var d=-1,T=typeof a=="function",N=Jt(r)?ee(r.length):[];return fr(r,function(P){N[++d]=T?rn(a,P,c):Bi(P,a,c)}),N}),L0=Bs(function(r,a,c){qn(r,c,a)});function Zs(r,a){var c=De(r)?bt:dc;return c(r,Ce(a,3))}function O0(r,a,c,d){return r==null?[]:(De(a)||(a=a==null?[]:[a]),c=d?t:c,De(c)||(c=c==null?[]:[c]),_c(r,a,c))}var P0=Bs(function(r,a,c){r[c?0:1].push(a)},function(){return[[],[]]});function F0(r,a,c){var d=De(r)?ia:ju,T=arguments.length<3;return d(r,Ce(a,4),c,T,fr)}function D0(r,a,c){var d=De(r)?Zp:ju,T=arguments.length<3;return d(r,Ce(a,4),c,T,oc)}function M0(r,a){var c=De(r)?lr:ac;return c(r,Xs(Ce(a,3)))}function z0(r){var a=De(r)?nc:Nm;return a(r)}function B0(r,a,c){(c?qt(r,a,c):a===t)?a=1:a=ze(a);var d=De(r)?am:Im;return d(r,a)}function U0(r){var a=De(r)?lm:Om;return a(r)}function j0(r){if(r==null)return 0;if(Jt(r))return Qs(r)?si(r):r.length;var a=Ht(r);return a==p||a==G?r.size:wa(r).length}function $0(r,a,c){var d=De(r)?sa:Pm;return c&&qt(r,a,c)&&(a=t),d(r,Ce(a,3))}var H0=He(function(r,a){if(r==null)return[];var c=a.length;return c>1&&qt(r,a[0],a[1])?a=[]:c>2&&qt(a[0],a[1],a[2])&&(a=[a[0]]),_c(r,Ut(a,1),[])}),Ys=wg||function(){return Bt.Date.now()};function W0(r,a){if(typeof a!="function")throw new gn(l);return r=ze(r),function(){if(--r<1)return a.apply(this,arguments)}}function hh(r,a,c){return a=c?t:a,a=r&&a==null?r.length:a,Zn(r,W,t,t,t,t,a)}function fh(r,a){var c;if(typeof a!="function")throw new gn(l);return r=ze(r),function(){return--r>0&&(c=a.apply(this,arguments)),r<=1&&(a=t),c}}var qa=He(function(r,a,c){var d=E;if(c.length){var T=cr(c,di(qa));d|=L}return Zn(r,d,a,c,T)}),dh=He(function(r,a,c){var d=E|w;if(c.length){var T=cr(c,di(dh));d|=L}return Zn(a,d,r,c,T)});function ph(r,a,c){a=c?t:a;var d=Zn(r,k,t,t,t,t,t,a);return d.placeholder=ph.placeholder,d}function gh(r,a,c){a=c?t:a;var d=Zn(r,I,t,t,t,t,t,a);return d.placeholder=gh.placeholder,d}function mh(r,a,c){var d,T,N,P,H,V,le=0,ue=!1,fe=!1,Se=!0;if(typeof r!="function")throw new gn(l);a=Tn(a)||0,yt(c)&&(ue=!!c.leading,fe="maxWait"in c,N=fe?Ot(Tn(c.maxWait)||0,a):N,Se="trailing"in c?!!c.trailing:Se);function Ae(Ct){var xn=d,Qn=T;return d=T=t,le=Ct,P=r.apply(Qn,xn),P}function Re(Ct){return le=Ct,H=Wi(Ke,a),ue?Ae(Ct):P}function je(Ct){var xn=Ct-V,Qn=Ct-le,Fh=a-xn;return fe?$t(Fh,N-Qn):Fh}function Ne(Ct){var xn=Ct-V,Qn=Ct-le;return V===t||xn>=a||xn<0||fe&&Qn>=N}function Ke(){var Ct=Ys();if(Ne(Ct))return Ve(Ct);H=Wi(Ke,je(Ct))}function Ve(Ct){return H=t,Se&&d?Ae(Ct):(d=T=t,P)}function ln(){H!==t&&kc(H),le=0,d=V=T=H=t}function Zt(){return H===t?P:Ve(Ys())}function un(){var Ct=Ys(),xn=Ne(Ct);if(d=arguments,T=this,V=Ct,xn){if(H===t)return Re(V);if(fe)return kc(H),H=Wi(Ke,a),Ae(V)}return H===t&&(H=Wi(Ke,a)),P}return un.cancel=ln,un.flush=Zt,un}var G0=He(function(r,a){return sc(r,1,a)}),K0=He(function(r,a,c){return sc(r,Tn(a)||0,c)});function q0(r){return Zn(r,B)}function Vs(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new gn(l);var c=function(){var d=arguments,T=a?a.apply(this,d):d[0],N=c.cache;if(N.has(T))return N.get(T);var P=r.apply(this,d);return c.cache=N.set(T,P)||N,P};return c.cache=new(Vs.Cache||Kn),c}Vs.Cache=Kn;function Xs(r){if(typeof r!="function")throw new gn(l);return function(){var a=arguments;switch(a.length){case 0:return!r.call(this);case 1:return!r.call(this,a[0]);case 2:return!r.call(this,a[0],a[1]);case 3:return!r.call(this,a[0],a[1],a[2])}return!r.apply(this,a)}}function Z0(r){return fh(2,r)}var Y0=Fm(function(r,a){a=a.length==1&&De(a[0])?bt(a[0],sn(Ce())):bt(Ut(a,1),sn(Ce()));var c=a.length;return He(function(d){for(var T=-1,N=$t(d.length,c);++T<N;)d[T]=a[T].call(this,d[T]);return rn(r,this,d)})}),Za=He(function(r,a){var c=cr(a,di(Za));return Zn(r,L,t,a,c)}),_h=He(function(r,a){var c=cr(a,di(_h));return Zn(r,j,t,a,c)}),V0=Yn(function(r,a){return Zn(r,Y,t,t,t,a)});function X0(r,a){if(typeof r!="function")throw new gn(l);return a=a===t?a:ze(a),He(r,a)}function J0(r,a){if(typeof r!="function")throw new gn(l);return a=a==null?0:Ot(ze(a),0),He(function(c){var d=c[a],T=gr(c,0,a);return d&&ur(T,d),rn(r,this,T)})}function Q0(r,a,c){var d=!0,T=!0;if(typeof r!="function")throw new gn(l);return yt(c)&&(d="leading"in c?!!c.leading:d,T="trailing"in c?!!c.trailing:T),mh(r,a,{leading:d,maxWait:a,trailing:T})}function ev(r){return hh(r,1)}function tv(r,a){return Za(La(a),r)}function nv(){if(!arguments.length)return[];var r=arguments[0];return De(r)?r:[r]}function rv(r){return _n(r,m)}function iv(r,a){return a=typeof a=="function"?a:t,_n(r,m,a)}function sv(r){return _n(r,g|m)}function ov(r,a){return a=typeof a=="function"?a:t,_n(r,g|m,a)}function av(r,a){return a==null||ic(r,a,Ft(a))}function kn(r,a){return r===a||r!==r&&a!==a}var lv=Hs(Ta),uv=Hs(function(r,a){return r>=a}),Hr=cc(function(){return arguments}())?cc:function(r){return wt(r)&&lt.call(r,"callee")&&!Vu.call(r,"callee")},De=ee.isArray,cv=Iu?sn(Iu):vm;function Jt(r){return r!=null&&Js(r.length)&&!Xn(r)}function xt(r){return wt(r)&&Jt(r)}function hv(r){return r===!0||r===!1||wt(r)&&Kt(r)==Ie}var mr=Ag||sl,fv=Lu?sn(Lu):bm;function dv(r){return wt(r)&&r.nodeType===1&&!Gi(r)}function pv(r){if(r==null)return!0;if(Jt(r)&&(De(r)||typeof r=="string"||typeof r.splice=="function"||mr(r)||pi(r)||Hr(r)))return!r.length;var a=Ht(r);if(a==p||a==G)return!r.size;if(Hi(r))return!wa(r).length;for(var c in r)if(lt.call(r,c))return!1;return!0}function gv(r,a){return Ui(r,a)}function mv(r,a,c){c=typeof c=="function"?c:t;var d=c?c(r,a):t;return d===t?Ui(r,a,t,c):!!d}function Ya(r){if(!wt(r))return!1;var a=Kt(r);return a==Ye||a==ct||typeof r.message=="string"&&typeof r.name=="string"&&!Gi(r)}function _v(r){return typeof r=="number"&&Ju(r)}function Xn(r){if(!yt(r))return!1;var a=Kt(r);return a==M||a==K||a==ut||a==O}function vh(r){return typeof r=="number"&&r==ze(r)}function Js(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=ge}function yt(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}function wt(r){return r!=null&&typeof r=="object"}var bh=Ou?sn(Ou):Sm;function vv(r,a){return r===a||ya(r,a,Ba(a))}function bv(r,a,c){return c=typeof c=="function"?c:t,ya(r,a,Ba(a),c)}function Tv(r){return Th(r)&&r!=+r}function Sv(r){if(i_(r))throw new Fe(o);return hc(r)}function yv(r){return r===null}function wv(r){return r==null}function Th(r){return typeof r=="number"||wt(r)&&Kt(r)==U}function Gi(r){if(!wt(r)||Kt(r)!=R)return!1;var a=As(r);if(a===null)return!0;var c=lt.call(a,"constructor")&&a.constructor;return typeof c=="function"&&c instanceof c&&Ss.call(c)==bg}var Va=Pu?sn(Pu):ym;function Ev(r){return vh(r)&&r>=-ge&&r<=ge}var Sh=Fu?sn(Fu):wm;function Qs(r){return typeof r=="string"||!De(r)&&wt(r)&&Kt(r)==$}function an(r){return typeof r=="symbol"||wt(r)&&Kt(r)==Q}var pi=Du?sn(Du):Em;function Av(r){return r===t}function kv(r){return wt(r)&&Ht(r)==re}function xv(r){return wt(r)&&Kt(r)==me}var Cv=Hs(Ea),Rv=Hs(function(r,a){return r<=a});function yh(r){if(!r)return[];if(Jt(r))return Qs(r)?En(r):Xt(r);if(Li&&r[Li])return ag(r[Li]());var a=Ht(r),c=a==p?ha:a==G?vs:gi;return c(r)}function Jn(r){if(!r)return r===0?r:0;if(r=Tn(r),r===ie||r===-ie){var a=r<0?-1:1;return a*ce}return r===r?r:0}function ze(r){var a=Jn(r),c=a%1;return a===a?c?a-c:a:0}function wh(r){return r?Br(ze(r),0,J):0}function Tn(r){if(typeof r=="number")return r;if(an(r))return Ee;if(yt(r)){var a=typeof r.valueOf=="function"?r.valueOf():r;r=yt(a)?a+"":a}if(typeof r!="string")return r===0?r:+r;r=$u(r);var c=cp.test(r);return c||fp.test(r)?Wp(r.slice(2),c?2:8):up.test(r)?Ee:+r}function Eh(r){return Fn(r,Qt(r))}function Nv(r){return r?Br(ze(r),-ge,ge):r===0?r:0}function ot(r){return r==null?"":on(r)}var Iv=hi(function(r,a){if(Hi(a)||Jt(a)){Fn(a,Ft(a),r);return}for(var c in a)lt.call(a,c)&&Mi(r,c,a[c])}),Ah=hi(function(r,a){Fn(a,Qt(a),r)}),eo=hi(function(r,a,c,d){Fn(a,Qt(a),r,d)}),Lv=hi(function(r,a,c,d){Fn(a,Ft(a),r,d)}),Ov=Yn(_a);function Pv(r,a){var c=ci(r);return a==null?c:rc(c,a)}var Fv=He(function(r,a){r=ht(r);var c=-1,d=a.length,T=d>2?a[2]:t;for(T&&qt(a[0],a[1],T)&&(d=1);++c<d;)for(var N=a[c],P=Qt(N),H=-1,V=P.length;++H<V;){var le=P[H],ue=r[le];(ue===t||kn(ue,ai[le])&&!lt.call(r,le))&&(r[le]=N[le])}return r}),Dv=He(function(r){return r.push(t,$c),rn(kh,t,r)});function Mv(r,a){return zu(r,Ce(a,3),Pn)}function zv(r,a){return zu(r,Ce(a,3),ba)}function Bv(r,a){return r==null?r:va(r,Ce(a,3),Qt)}function Uv(r,a){return r==null?r:lc(r,Ce(a,3),Qt)}function jv(r,a){return r&&Pn(r,Ce(a,3))}function $v(r,a){return r&&ba(r,Ce(a,3))}function Hv(r){return r==null?[]:Fs(r,Ft(r))}function Wv(r){return r==null?[]:Fs(r,Qt(r))}function Xa(r,a,c){var d=r==null?t:Ur(r,a);return d===t?c:d}function Gv(r,a){return r!=null&&Gc(r,a,pm)}function Ja(r,a){return r!=null&&Gc(r,a,gm)}var Kv=Mc(function(r,a,c){a!=null&&typeof a.toString!="function"&&(a=ys.call(a)),r[a]=c},el(en)),qv=Mc(function(r,a,c){a!=null&&typeof a.toString!="function"&&(a=ys.call(a)),lt.call(r,a)?r[a].push(c):r[a]=[c]},Ce),Zv=He(Bi);function Ft(r){return Jt(r)?tc(r):wa(r)}function Qt(r){return Jt(r)?tc(r,!0):Am(r)}function Yv(r,a){var c={};return a=Ce(a,3),Pn(r,function(d,T,N){qn(c,a(d,T,N),d)}),c}function Vv(r,a){var c={};return a=Ce(a,3),Pn(r,function(d,T,N){qn(c,T,a(d,T,N))}),c}var Xv=hi(function(r,a,c){Ds(r,a,c)}),kh=hi(function(r,a,c,d){Ds(r,a,c,d)}),Jv=Yn(function(r,a){var c={};if(r==null)return c;var d=!1;a=bt(a,function(N){return N=pr(N,r),d||(d=N.length>1),N}),Fn(r,Ma(r),c),d&&(c=_n(c,g|b|m,Km));for(var T=a.length;T--;)Ra(c,a[T]);return c});function Qv(r,a){return xh(r,Xs(Ce(a)))}var eb=Yn(function(r,a){return r==null?{}:xm(r,a)});function xh(r,a){if(r==null)return{};var c=bt(Ma(r),function(d){return[d]});return a=Ce(a),vc(r,c,function(d,T){return a(d,T[0])})}function tb(r,a,c){a=pr(a,r);var d=-1,T=a.length;for(T||(T=1,r=t);++d<T;){var N=r==null?t:r[Dn(a[d])];N===t&&(d=T,N=c),r=Xn(N)?N.call(r):N}return r}function nb(r,a,c){return r==null?r:ji(r,a,c)}function rb(r,a,c,d){return d=typeof d=="function"?d:t,r==null?r:ji(r,a,c,d)}var Ch=Uc(Ft),Rh=Uc(Qt);function ib(r,a,c){var d=De(r),T=d||mr(r)||pi(r);if(a=Ce(a,4),c==null){var N=r&&r.constructor;T?c=d?new N:[]:yt(r)?c=Xn(N)?ci(As(r)):{}:c={}}return(T?pn:Pn)(r,function(P,H,V){return a(c,P,H,V)}),c}function sb(r,a){return r==null?!0:Ra(r,a)}function ob(r,a,c){return r==null?r:wc(r,a,La(c))}function ab(r,a,c,d){return d=typeof d=="function"?d:t,r==null?r:wc(r,a,La(c),d)}function gi(r){return r==null?[]:ca(r,Ft(r))}function lb(r){return r==null?[]:ca(r,Qt(r))}function ub(r,a,c){return c===t&&(c=a,a=t),c!==t&&(c=Tn(c),c=c===c?c:0),a!==t&&(a=Tn(a),a=a===a?a:0),Br(Tn(r),a,c)}function cb(r,a,c){return a=Jn(a),c===t?(c=a,a=0):c=Jn(c),r=Tn(r),mm(r,a,c)}function hb(r,a,c){if(c&&typeof c!="boolean"&&qt(r,a,c)&&(a=c=t),c===t&&(typeof a=="boolean"?(c=a,a=t):typeof r=="boolean"&&(c=r,r=t)),r===t&&a===t?(r=0,a=1):(r=Jn(r),a===t?(a=r,r=0):a=Jn(a)),r>a){var d=r;r=a,a=d}if(c||r%1||a%1){var T=Qu();return $t(r+T*(a-r+Hp("1e-"+((T+"").length-1))),a)}return ka(r,a)}var fb=fi(function(r,a,c){return a=a.toLowerCase(),r+(c?Nh(a):a)});function Nh(r){return Qa(ot(r).toLowerCase())}function Ih(r){return r=ot(r),r&&r.replace(pp,ng).replace(Op,"")}function db(r,a,c){r=ot(r),a=on(a);var d=r.length;c=c===t?d:Br(ze(c),0,d);var T=c;return c-=a.length,c>=0&&r.slice(c,T)==a}function pb(r){return r=ot(r),r&&Zd.test(r)?r.replace(ar,rg):r}function gb(r){return r=ot(r),r&&ep.test(r)?r.replace(Zo,"\\$&"):r}var mb=fi(function(r,a,c){return r+(c?"-":"")+a.toLowerCase()}),_b=fi(function(r,a,c){return r+(c?" ":"")+a.toLowerCase()}),vb=Pc("toLowerCase");function bb(r,a,c){r=ot(r),a=ze(a);var d=a?si(r):0;if(!a||d>=a)return r;var T=(a-d)/2;return $s(Rs(T),c)+r+$s(Cs(T),c)}function Tb(r,a,c){r=ot(r),a=ze(a);var d=a?si(r):0;return a&&d<a?r+$s(a-d,c):r}function Sb(r,a,c){r=ot(r),a=ze(a);var d=a?si(r):0;return a&&d<a?$s(a-d,c)+r:r}function yb(r,a,c){return c||a==null?a=0:a&&(a=+a),Rg(ot(r).replace(Yo,""),a||0)}function wb(r,a,c){return(c?qt(r,a,c):a===t)?a=1:a=ze(a),xa(ot(r),a)}function Eb(){var r=arguments,a=ot(r[0]);return r.length<3?a:a.replace(r[1],r[2])}var Ab=fi(function(r,a,c){return r+(c?"_":"")+a.toLowerCase()});function kb(r,a,c){return c&&typeof c!="number"&&qt(r,a,c)&&(a=c=t),c=c===t?J:c>>>0,c?(r=ot(r),r&&(typeof a=="string"||a!=null&&!Va(a))&&(a=on(a),!a&&ii(r))?gr(En(r),0,c):r.split(a,c)):[]}var xb=fi(function(r,a,c){return r+(c?" ":"")+Qa(a)});function Cb(r,a,c){return r=ot(r),c=c==null?0:Br(ze(c),0,r.length),a=on(a),r.slice(c,c+a.length)==a}function Rb(r,a,c){var d=x.templateSettings;c&&qt(r,a,c)&&(a=t),r=ot(r),a=eo({},a,d,jc);var T=eo({},a.imports,d.imports,jc),N=Ft(T),P=ca(T,N),H,V,le=0,ue=a.interpolate||ds,fe="__p += '",Se=fa((a.escape||ds).source+"|"+ue.source+"|"+(ue===uu?lp:ds).source+"|"+(a.evaluate||ds).source+"|$","g"),Ae="//# sourceURL="+(lt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zp+"]")+`
`;r.replace(Se,function(Ne,Ke,Ve,ln,Zt,un){return Ve||(Ve=ln),fe+=r.slice(le,un).replace(gp,ig),Ke&&(H=!0,fe+=`' +
__e(`+Ke+`) +
'`),Zt&&(V=!0,fe+=`';
`+Zt+`;
__p += '`),Ve&&(fe+=`' +
((__t = (`+Ve+`)) == null ? '' : __t) +
'`),le=un+Ne.length,Ne}),fe+=`';
`;var Re=lt.call(a,"variable")&&a.variable;if(!Re)fe=`with (obj) {
`+fe+`
}
`;else if(op.test(Re))throw new Fe(u);fe=(V?fe.replace(Go,""):fe).replace(Ko,"$1").replace(qo,"$1;"),fe="function("+(Re||"obj")+`) {
`+(Re?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(H?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+fe+`return __p
}`;var je=Oh(function(){return rt(N,Ae+"return "+fe).apply(t,P)});if(je.source=fe,Ya(je))throw je;return je}function Nb(r){return ot(r).toLowerCase()}function Ib(r){return ot(r).toUpperCase()}function Lb(r,a,c){if(r=ot(r),r&&(c||a===t))return $u(r);if(!r||!(a=on(a)))return r;var d=En(r),T=En(a),N=Hu(d,T),P=Wu(d,T)+1;return gr(d,N,P).join("")}function Ob(r,a,c){if(r=ot(r),r&&(c||a===t))return r.slice(0,Ku(r)+1);if(!r||!(a=on(a)))return r;var d=En(r),T=Wu(d,En(a))+1;return gr(d,0,T).join("")}function Pb(r,a,c){if(r=ot(r),r&&(c||a===t))return r.replace(Yo,"");if(!r||!(a=on(a)))return r;var d=En(r),T=Hu(d,En(a));return gr(d,T).join("")}function Fb(r,a){var c=te,d=de;if(yt(a)){var T="separator"in a?a.separator:T;c="length"in a?ze(a.length):c,d="omission"in a?on(a.omission):d}r=ot(r);var N=r.length;if(ii(r)){var P=En(r);N=P.length}if(c>=N)return r;var H=c-si(d);if(H<1)return d;var V=P?gr(P,0,H).join(""):r.slice(0,H);if(T===t)return V+d;if(P&&(H+=V.length-H),Va(T)){if(r.slice(H).search(T)){var le,ue=V;for(T.global||(T=fa(T.source,ot(cu.exec(T))+"g")),T.lastIndex=0;le=T.exec(ue);)var fe=le.index;V=V.slice(0,fe===t?H:fe)}}else if(r.indexOf(on(T),H)!=H){var Se=V.lastIndexOf(T);Se>-1&&(V=V.slice(0,Se))}return V+d}function Db(r){return r=ot(r),r&&ti.test(r)?r.replace(Ni,hg):r}var Mb=fi(function(r,a,c){return r+(c?" ":"")+a.toUpperCase()}),Qa=Pc("toUpperCase");function Lh(r,a,c){return r=ot(r),a=c?t:a,a===t?og(r)?pg(r):Xp(r):r.match(a)||[]}var Oh=He(function(r,a){try{return rn(r,t,a)}catch(c){return Ya(c)?c:new Fe(c)}}),zb=Yn(function(r,a){return pn(a,function(c){c=Dn(c),qn(r,c,qa(r[c],r))}),r});function Bb(r){var a=r==null?0:r.length,c=Ce();return r=a?bt(r,function(d){if(typeof d[1]!="function")throw new gn(l);return[c(d[0]),d[1]]}):[],He(function(d){for(var T=-1;++T<a;){var N=r[T];if(rn(N[0],this,d))return rn(N[1],this,d)}})}function Ub(r){return hm(_n(r,g))}function el(r){return function(){return r}}function jb(r,a){return r==null||r!==r?a:r}var $b=Dc(),Hb=Dc(!0);function en(r){return r}function tl(r){return fc(typeof r=="function"?r:_n(r,g))}function Wb(r){return pc(_n(r,g))}function Gb(r,a){return gc(r,_n(a,g))}var Kb=He(function(r,a){return function(c){return Bi(c,r,a)}}),qb=He(function(r,a){return function(c){return Bi(r,c,a)}});function nl(r,a,c){var d=Ft(a),T=Fs(a,d);c==null&&!(yt(a)&&(T.length||!d.length))&&(c=a,a=r,r=this,T=Fs(a,Ft(a)));var N=!(yt(c)&&"chain"in c)||!!c.chain,P=Xn(r);return pn(T,function(H){var V=a[H];r[H]=V,P&&(r.prototype[H]=function(){var le=this.__chain__;if(N||le){var ue=r(this.__wrapped__),fe=ue.__actions__=Xt(this.__actions__);return fe.push({func:V,args:arguments,thisArg:r}),ue.__chain__=le,ue}return V.apply(r,ur([this.value()],arguments))})}),r}function Zb(){return Bt._===this&&(Bt._=Tg),this}function rl(){}function Yb(r){return r=ze(r),He(function(a){return mc(a,r)})}var Vb=Pa(bt),Xb=Pa(Mu),Jb=Pa(sa);function Ph(r){return ja(r)?oa(Dn(r)):Cm(r)}function Qb(r){return function(a){return r==null?t:Ur(r,a)}}var eT=zc(),tT=zc(!0);function il(){return[]}function sl(){return!1}function nT(){return{}}function rT(){return""}function iT(){return!0}function sT(r,a){if(r=ze(r),r<1||r>ge)return[];var c=J,d=$t(r,J);a=Ce(a),r-=J;for(var T=ua(d,a);++c<r;)a(c);return T}function oT(r){return De(r)?bt(r,Dn):an(r)?[r]:Xt(eh(ot(r)))}function aT(r){var a=++vg;return ot(r)+a}var lT=js(function(r,a){return r+a},0),uT=Fa("ceil"),cT=js(function(r,a){return r/a},1),hT=Fa("floor");function fT(r){return r&&r.length?Ps(r,en,Ta):t}function dT(r,a){return r&&r.length?Ps(r,Ce(a,2),Ta):t}function pT(r){return Uu(r,en)}function gT(r,a){return Uu(r,Ce(a,2))}function mT(r){return r&&r.length?Ps(r,en,Ea):t}function _T(r,a){return r&&r.length?Ps(r,Ce(a,2),Ea):t}var vT=js(function(r,a){return r*a},1),bT=Fa("round"),TT=js(function(r,a){return r-a},0);function ST(r){return r&&r.length?la(r,en):0}function yT(r,a){return r&&r.length?la(r,Ce(a,2)):0}return x.after=W0,x.ary=hh,x.assign=Iv,x.assignIn=Ah,x.assignInWith=eo,x.assignWith=Lv,x.at=Ov,x.before=fh,x.bind=qa,x.bindAll=zb,x.bindKey=dh,x.castArray=nv,x.chain=lh,x.chunk=h_,x.compact=f_,x.concat=d_,x.cond=Bb,x.conforms=Ub,x.constant=el,x.countBy=S0,x.create=Pv,x.curry=ph,x.curryRight=gh,x.debounce=mh,x.defaults=Fv,x.defaultsDeep=Dv,x.defer=G0,x.delay=K0,x.difference=p_,x.differenceBy=g_,x.differenceWith=m_,x.drop=__,x.dropRight=v_,x.dropRightWhile=b_,x.dropWhile=T_,x.fill=S_,x.filter=w0,x.flatMap=k0,x.flatMapDeep=x0,x.flatMapDepth=C0,x.flatten=ih,x.flattenDeep=y_,x.flattenDepth=w_,x.flip=q0,x.flow=$b,x.flowRight=Hb,x.fromPairs=E_,x.functions=Hv,x.functionsIn=Wv,x.groupBy=R0,x.initial=k_,x.intersection=x_,x.intersectionBy=C_,x.intersectionWith=R_,x.invert=Kv,x.invertBy=qv,x.invokeMap=I0,x.iteratee=tl,x.keyBy=L0,x.keys=Ft,x.keysIn=Qt,x.map=Zs,x.mapKeys=Yv,x.mapValues=Vv,x.matches=Wb,x.matchesProperty=Gb,x.memoize=Vs,x.merge=Xv,x.mergeWith=kh,x.method=Kb,x.methodOf=qb,x.mixin=nl,x.negate=Xs,x.nthArg=Yb,x.omit=Jv,x.omitBy=Qv,x.once=Z0,x.orderBy=O0,x.over=Vb,x.overArgs=Y0,x.overEvery=Xb,x.overSome=Jb,x.partial=Za,x.partialRight=_h,x.partition=P0,x.pick=eb,x.pickBy=xh,x.property=Ph,x.propertyOf=Qb,x.pull=O_,x.pullAll=oh,x.pullAllBy=P_,x.pullAllWith=F_,x.pullAt=D_,x.range=eT,x.rangeRight=tT,x.rearg=V0,x.reject=M0,x.remove=M_,x.rest=X0,x.reverse=Ga,x.sampleSize=B0,x.set=nb,x.setWith=rb,x.shuffle=U0,x.slice=z_,x.sortBy=H0,x.sortedUniq=G_,x.sortedUniqBy=K_,x.split=kb,x.spread=J0,x.tail=q_,x.take=Z_,x.takeRight=Y_,x.takeRightWhile=V_,x.takeWhile=X_,x.tap=f0,x.throttle=Q0,x.thru=qs,x.toArray=yh,x.toPairs=Ch,x.toPairsIn=Rh,x.toPath=oT,x.toPlainObject=Eh,x.transform=ib,x.unary=ev,x.union=J_,x.unionBy=Q_,x.unionWith=e0,x.uniq=t0,x.uniqBy=n0,x.uniqWith=r0,x.unset=sb,x.unzip=Ka,x.unzipWith=ah,x.update=ob,x.updateWith=ab,x.values=gi,x.valuesIn=lb,x.without=i0,x.words=Lh,x.wrap=tv,x.xor=s0,x.xorBy=o0,x.xorWith=a0,x.zip=l0,x.zipObject=u0,x.zipObjectDeep=c0,x.zipWith=h0,x.entries=Ch,x.entriesIn=Rh,x.extend=Ah,x.extendWith=eo,nl(x,x),x.add=lT,x.attempt=Oh,x.camelCase=fb,x.capitalize=Nh,x.ceil=uT,x.clamp=ub,x.clone=rv,x.cloneDeep=sv,x.cloneDeepWith=ov,x.cloneWith=iv,x.conformsTo=av,x.deburr=Ih,x.defaultTo=jb,x.divide=cT,x.endsWith=db,x.eq=kn,x.escape=pb,x.escapeRegExp=gb,x.every=y0,x.find=E0,x.findIndex=nh,x.findKey=Mv,x.findLast=A0,x.findLastIndex=rh,x.findLastKey=zv,x.floor=hT,x.forEach=uh,x.forEachRight=ch,x.forIn=Bv,x.forInRight=Uv,x.forOwn=jv,x.forOwnRight=$v,x.get=Xa,x.gt=lv,x.gte=uv,x.has=Gv,x.hasIn=Ja,x.head=sh,x.identity=en,x.includes=N0,x.indexOf=A_,x.inRange=cb,x.invoke=Zv,x.isArguments=Hr,x.isArray=De,x.isArrayBuffer=cv,x.isArrayLike=Jt,x.isArrayLikeObject=xt,x.isBoolean=hv,x.isBuffer=mr,x.isDate=fv,x.isElement=dv,x.isEmpty=pv,x.isEqual=gv,x.isEqualWith=mv,x.isError=Ya,x.isFinite=_v,x.isFunction=Xn,x.isInteger=vh,x.isLength=Js,x.isMap=bh,x.isMatch=vv,x.isMatchWith=bv,x.isNaN=Tv,x.isNative=Sv,x.isNil=wv,x.isNull=yv,x.isNumber=Th,x.isObject=yt,x.isObjectLike=wt,x.isPlainObject=Gi,x.isRegExp=Va,x.isSafeInteger=Ev,x.isSet=Sh,x.isString=Qs,x.isSymbol=an,x.isTypedArray=pi,x.isUndefined=Av,x.isWeakMap=kv,x.isWeakSet=xv,x.join=N_,x.kebabCase=mb,x.last=bn,x.lastIndexOf=I_,x.lowerCase=_b,x.lowerFirst=vb,x.lt=Cv,x.lte=Rv,x.max=fT,x.maxBy=dT,x.mean=pT,x.meanBy=gT,x.min=mT,x.minBy=_T,x.stubArray=il,x.stubFalse=sl,x.stubObject=nT,x.stubString=rT,x.stubTrue=iT,x.multiply=vT,x.nth=L_,x.noConflict=Zb,x.noop=rl,x.now=Ys,x.pad=bb,x.padEnd=Tb,x.padStart=Sb,x.parseInt=yb,x.random=hb,x.reduce=F0,x.reduceRight=D0,x.repeat=wb,x.replace=Eb,x.result=tb,x.round=bT,x.runInContext=Z,x.sample=z0,x.size=j0,x.snakeCase=Ab,x.some=$0,x.sortedIndex=B_,x.sortedIndexBy=U_,x.sortedIndexOf=j_,x.sortedLastIndex=$_,x.sortedLastIndexBy=H_,x.sortedLastIndexOf=W_,x.startCase=xb,x.startsWith=Cb,x.subtract=TT,x.sum=ST,x.sumBy=yT,x.template=Rb,x.times=sT,x.toFinite=Jn,x.toInteger=ze,x.toLength=wh,x.toLower=Nb,x.toNumber=Tn,x.toSafeInteger=Nv,x.toString=ot,x.toUpper=Ib,x.trim=Lb,x.trimEnd=Ob,x.trimStart=Pb,x.truncate=Fb,x.unescape=Db,x.uniqueId=aT,x.upperCase=Mb,x.upperFirst=Qa,x.each=uh,x.eachRight=ch,x.first=sh,nl(x,function(){var r={};return Pn(x,function(a,c){lt.call(x.prototype,c)||(r[c]=a)}),r}(),{chain:!1}),x.VERSION=n,pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){x[r].placeholder=x}),pn(["drop","take"],function(r,a){Ze.prototype[r]=function(c){c=c===t?1:Ot(ze(c),0);var d=this.__filtered__&&!a?new Ze(this):this.clone();return d.__filtered__?d.__takeCount__=$t(c,d.__takeCount__):d.__views__.push({size:$t(c,J),type:r+(d.__dir__<0?"Right":"")}),d},Ze.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),pn(["filter","map","takeWhile"],function(r,a){var c=a+1,d=c==y||c==Te;Ze.prototype[r]=function(T){var N=this.clone();return N.__iteratees__.push({iteratee:Ce(T,3),type:c}),N.__filtered__=N.__filtered__||d,N}}),pn(["head","last"],function(r,a){var c="take"+(a?"Right":"");Ze.prototype[r]=function(){return this[c](1).value()[0]}}),pn(["initial","tail"],function(r,a){var c="drop"+(a?"":"Right");Ze.prototype[r]=function(){return this.__filtered__?new Ze(this):this[c](1)}}),Ze.prototype.compact=function(){return this.filter(en)},Ze.prototype.find=function(r){return this.filter(r).head()},Ze.prototype.findLast=function(r){return this.reverse().find(r)},Ze.prototype.invokeMap=He(function(r,a){return typeof r=="function"?new Ze(this):this.map(function(c){return Bi(c,r,a)})}),Ze.prototype.reject=function(r){return this.filter(Xs(Ce(r)))},Ze.prototype.slice=function(r,a){r=ze(r);var c=this;return c.__filtered__&&(r>0||a<0)?new Ze(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),a!==t&&(a=ze(a),c=a<0?c.dropRight(-a):c.take(a-r)),c)},Ze.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Ze.prototype.toArray=function(){return this.take(J)},Pn(Ze.prototype,function(r,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),d=/^(?:head|last)$/.test(a),T=x[d?"take"+(a=="last"?"Right":""):a],N=d||/^find/.test(a);T&&(x.prototype[a]=function(){var P=this.__wrapped__,H=d?[1]:arguments,V=P instanceof Ze,le=H[0],ue=V||De(P),fe=function(Ke){var Ve=T.apply(x,ur([Ke],H));return d&&Se?Ve[0]:Ve};ue&&c&&typeof le=="function"&&le.length!=1&&(V=ue=!1);var Se=this.__chain__,Ae=!!this.__actions__.length,Re=N&&!Se,je=V&&!Ae;if(!N&&ue){P=je?P:new Ze(this);var Ne=r.apply(P,H);return Ne.__actions__.push({func:qs,args:[fe],thisArg:t}),new mn(Ne,Se)}return Re&&je?r.apply(this,H):(Ne=this.thru(fe),Re?d?Ne.value()[0]:Ne.value():Ne)})}),pn(["pop","push","shift","sort","splice","unshift"],function(r){var a=bs[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",d=/^(?:pop|shift)$/.test(r);x.prototype[r]=function(){var T=arguments;if(d&&!this.__chain__){var N=this.value();return a.apply(De(N)?N:[],T)}return this[c](function(P){return a.apply(De(P)?P:[],T)})}}),Pn(Ze.prototype,function(r,a){var c=x[a];if(c){var d=c.name+"";lt.call(ui,d)||(ui[d]=[]),ui[d].push({name:a,func:c})}}),ui[Us(t,w).name]=[{name:"wrapper",func:t}],Ze.prototype.clone=Dg,Ze.prototype.reverse=Mg,Ze.prototype.value=zg,x.prototype.at=d0,x.prototype.chain=p0,x.prototype.commit=g0,x.prototype.next=m0,x.prototype.plant=v0,x.prototype.reverse=b0,x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=T0,x.prototype.first=x.prototype.head,Li&&(x.prototype[Li]=_0),x},oi=gg();Fr?((Fr.exports=oi)._=oi,ta._=oi):Bt._=oi}).call(Rn)})(yo,yo.exports);var Sn=yo.exports;const Xe=class Xe{constructor(e,t,n,s){z(this,"_symbols",[]);z(this,"FIRST_NON_TERMINAL",0);z(this,"SEMANTIC_ACTION_COUNT",0);z(this,"_startSymbol",0);z(this,"firstSet",[]);z(this,"followSet",[]);z(this,"normalLR",!1);z(this,"_productions",new qe);const o=Sn.cloneDeep(e),l=Sn.cloneDeep(t),u=Sn.cloneDeep(n),h=Sn.cloneDeep(s);this.setSymbols(o,l,h),this.setProductions(u),this.fillFirstSet(),this.fillFollowSet()}FIRST_SEMANTIC_ACTION(){return this._symbols.length}LAST_SEMANTIC_ACTION(){return this.FIRST_SEMANTIC_ACTION()+this.SEMANTIC_ACTION_COUNT}setSymbols(e,t,n){this._symbols=[],this.FIRST_NON_TERMINAL=e.length+2,this._symbols[Xe.EPSILON]=Xe.EPSILON_STR,this._symbols[Xe.DOLLAR]="$";for(let s=0,o=Xe.FIRST_TERMINAL;s<e.length;s++,o++)this._symbols[o]=e[s];for(let s=0,o=this.FIRST_NON_TERMINAL;s<t.length;s++,o++)this._symbols[o]=t[s];this._startSymbol=n}setProductions(e){e.toArray().forEach(n=>this._productions.add(n));let t=0;for(let n=0;n<this._productions.size();n++){this._productions.get(n).setGrammar(this);for(let s=0;s<this._productions.get(n).get_rhs().length;s++)this._productions.get(n).get_rhs()[s]>t&&(t=this._productions.get(n).get_rhs()[s])}this.SEMANTIC_ACTION_COUNT=t-this.FIRST_SEMANTIC_ACTION()}isTerminal(e){return e<this.FIRST_NON_TERMINAL}isNonTerminal(e){return e>=this.FIRST_NON_TERMINAL&&e<this.FIRST_SEMANTIC_ACTION()}isSemanticAction(e){return e>=this.FIRST_SEMANTIC_ACTION()}get productions(){return this._productions}get symbols(){return this._symbols}get terminals(){return Sn.cloneDeep(this.symbols.slice(2,this.FIRST_NON_TERMINAL))}get nonTerminals(){return Sn.cloneDeep(this.symbols.slice(this.FIRST_NON_TERMINAL,this.FIRST_SEMANTIC_ACTION()))}get startSymbol(){return this._startSymbol}asNormalLR(){if(this.normalLR)return this;const e=this.terminals,t=2+this.SEMANTIC_ACTION_COUNT,n=this.nonTerminals,s=Sn.cloneDeep([...n,...new Array(t)]),o=new qe;this._productions.toArray().forEach(h=>o.add(h));for(let h=0;h<this.SEMANTIC_ACTION_COUNT+1;h++)s[n.length+h]="<#"+h+">",o.add(new wr(null,this.FIRST_SEMANTIC_ACTION()+h,[]));s[s.length-1]="<-START->";const l=new wr(null,this.FIRST_SEMANTIC_ACTION()+t-1,[this.startSymbol]);o.add(l);const u=new Xe(e,s,o,this.FIRST_SEMANTIC_ACTION()+t-1);return u.normalLR=!0,u}createProduction(e,t){if(t===void 0)return new wr(this,e,[]);const n=new wr(this,e,t);for(let s=0;s<this._productions.size();s++)if(this._productions.get(s).equals(n))return null;return n}isEpsilon(e,t){t===void 0&&(t=0);for(let n=t;n<e.length;n++)if(!this.isSemanticAction(e[n]))return!1;return!0}markEpsilon(){const e=new it;for(let n=0;n<this._productions.size();n++){const s=this._productions.get(n);this.isEpsilon(s.get_rhs())&&e.add(s.get_lhs())}for(let n=this.FIRST_SEMANTIC_ACTION();n<=this.LAST_SEMANTIC_ACTION();n++)e.add(n);let t=!0;for(;t;){t=!1;let n;for(let s=0;s<this._productions.size();s++){const o=this._productions.get(s);n=!0;for(let l=0;l<o.get_rhs().length;l++)n=n&&e.has(o.get_rhs()[l]);n&&!e.has(o.get_lhs())&&(t=!0,e.add(o.get_lhs()))}}return e}first(e,t){if(!Array.isArray(e))return this.isSemanticAction(e)?Xe.EMPTY_SET:this.firstSet[e];t===void 0&&(t=0);const n=new it;if(e.length-t==1&&e[t]==Xe.DOLLAR&&n.add(Xe.DOLLAR),this.isEpsilon(e,t))n.add(Xe.EPSILON);else{const s=e.length;for(;this.isSemanticAction(e[t]);)t++;let o=Sn.cloneDeep(this.first(e[t]));o.delete(Xe.EPSILON),n.addAll(o);let l=t;for(;l<s-1&&this.first(e[l]).has(Xe.EPSILON);)l++,o=Sn.cloneDeep(this.first(e[l])),o.delete(Xe.EPSILON),n.addAll(o);l==s-1&&this.first(e[l]).has(Xe.EPSILON)&&n.add(Xe.EPSILON)}return n}fillFirstSet(){const e=this.markEpsilon();this.firstSet=new Array;for(let n=0;n<this._symbols.length;n++)this.firstSet[n]=new it;for(let n=this.FIRST_NON_TERMINAL;n<this.FIRST_SEMANTIC_ACTION();n++)e.has(n)&&this.firstSet[n].add(Xe.EPSILON);for(let n=Xe.FIRST_TERMINAL;n<this.FIRST_NON_TERMINAL;n++){this.firstSet[n].add(n);for(let s=this.FIRST_NON_TERMINAL;s<this.FIRST_SEMANTIC_ACTION();s++){let o=!1;for(let l=0;l<this._productions.size();l++){const u=this._productions.get(l);if(u.get_lhs()==s&&!this.isEpsilon(u.get_rhs())&&u.firstSymbol()==n){o=!0;break}}o&&this.firstSet[s].add(n)}}let t;do{t=!1;for(let n=0;n<this._productions.size();n++){const s=this._productions.get(n),o=Sn.cloneDeep(this.firstSet[s.get_lhs()]),l=this.first(s.get_rhs());this.firstSet[s.get_lhs()].addAll(l),t||o.equals(this.first(s.get_lhs()))||(t=!0)}}while(t)}fillFollowSet(){this.followSet=new Array;for(let t=0;t<this._symbols.length;t++)this.followSet[t]=new it;this.followSet[this._startSymbol].add(Xe.DOLLAR);let e;do{e=!1;for(let t=0;t<this._productions.size();t++){const n=this._productions.get(t);for(let s=0;s<n.get_rhs().length;s++)if(this.isNonTerminal(n.get_rhs()[s])){const o=this.first(n.get_rhs(),s+1),l=o.has(Xe.EPSILON);if(n.get_rhs().length>s+1){o.delete(Xe.EPSILON);const u=Sn.cloneDeep(this.followSet[n.get_rhs()[s]]);this.followSet[n.get_rhs()[s]].addAll(o),!e&&!this.followSet[n.get_rhs()[s]].equals(u)&&(e=!0)}if(l){const u=Sn.cloneDeep(this.followSet[n.get_rhs()[s]]);this.followSet[n.get_rhs()[s]].addAll(this.followSet[n.get_lhs()]),!e&&!this.followSet[n.get_rhs()[s]].equals(u)&&(e=!0)}}}}while(e)}stringFirstFollow(){let e="";for(let t=this.FIRST_NON_TERMINAL;t<this.firstSet.length;t++){let n="";n+=`FIRST( ${this.symbols[t]} ) = { `;for(let s=0;s<this.firstSet[t].size;s++)this.firstSet[t].list()[s]&&(n+=`${this.symbols[s]} `);n+="}",e=+n+`
`}for(let t=this.FIRST_NON_TERMINAL;t<this.followSet.length;t++){let n="";n+=`FOLLOW(${this.symbols[t]}) = { `;for(let s=0;s<this.followSet[t].size;s++)this.followSet[t].list()[s]&&(n+=this.symbols[s]+" ");n+="}",e+=n+`
`}return e}ffAsHTML(){let e="";e+='<HTML><HEAD><TITLE>First &amp; Follow</TITLE></HEAD><BODY><FONT face="Verdana, Arial, Helvetica, sans-serif"><TABLE border=1 cellspacing=0>',e+="<TR align=center><TD bgcolor=black><FONT color=white><B>SÍMBOLO</B></FONT></TD><TD bgcolor=black><FONT color=white><B>FIRST</B></FONT></TD><TD bgcolor=black><FONT color=white><B>FOLLOW</B></FONT></TD></TR>";for(let t=this.FIRST_NON_TERMINAL;t<this.FIRST_SEMANTIC_ACTION();t++){e+="<TR align=center>",e+=`<TD nowrap bgcolor=#F5F5F5><B> ${jn.translateString(this.symbols[t])} </B></TD>`;let n="  ";this.firstSet[t].list().forEach(s=>n+=this.symbols[s]+", "),n=n.slice(0,-2),e+=`<TD nowrap bgcolor=#F5F5F5>${jn.translateString(n)}</TD>`,n="  ",this.followSet[t].list().forEach(s=>n+=this.symbols[s]+", "),n=n.slice(0,-2),e+=`<TD nowrap bgcolor=#F5F5F5>${jn.translateString(n)}</TD>`,e+="</TR>"}return e+="</TABLE></FONT></BODY></HTML>",e}removeImproductiveSymbols(){const e=this.getProductiveSymbols();this.updateSymbols(e)}removeUselessSymbols(){this.removeImproductiveSymbols(),this.removeUnreachableSymbols()}removeRepeatedProductions(){}productionsFor(e){const t=new it;for(let n=0;n<this.productions.size();n++)this.productions.get(n).get_lhs()==e&&t.add(n);return t}transformToFindRecursion(e){const t=new qe;e.toArray().forEach(n=>t.add(n));for(let n=this.FIRST_NON_TERMINAL;n<this.FIRST_SEMANTIC_ACTION();n++)for(let s=this.FIRST_NON_TERMINAL;s<n;s++)for(let o=0;o<t.size();o++){const l=t.get(o);if(l.get_lhs()==n&&l.firstSymbol()==s){t.toArray().splice(o,1),o--;const u=[];for(let h=0;h<l.get_rhs().length&&this.isSemanticAction(l.get_rhs()[h]);h++)u.push(l.get_rhs()[h]);for(let h=0;h<t.size();h++){const f=t.get(h);if(f.get_lhs()==s){const v=new Array(f.get_rhs().length+l.get_rhs().length-1);let g=0;for(;g<u.length;g++)v[g]=u[g];let b=g;for(g=0;g<f.get_rhs().length;g++)v[g+b]=f.get_rhs()[g];for(b=b+g-(u.length+1),g=u.length+1;g<l.get_rhs().length;g++)v[g+b]=l.get_rhs()[g];const m=this.createProduction(l.get_lhs(),v);m!=null&&t.add(m)}}}}return t}removeRecursion(){this._productions=this.transformToFindRecursion(this._productions),this.removeDirectRecursion()}removeDirectRecursion(){for(let e=this.FIRST_NON_TERMINAL;e<this.FIRST_SEMANTIC_ACTION();e++){let t=this.productionsFor(e);const n=this.productionsFor(e);let s=-1;const o=t.list();for(let l=0;l<o.length;l++){const u=o[l];this._productions.get(u).get_lhs()!=this._productions.get(u).firstSymbol()&&o.splice(l,1)}if(t=new it,t.addAllArray(o),t.size>0){s=this.createSymbol(this.addTail(this._symbols[e]));for(const l of n){const u=this._productions.get(l);t.list()[l]?(u.get_rhs().splice(0,1),u.get_rhs().push(s),u.set_lhs(s)):u.get_rhs().push(s)}}if(s!=-1){const l=this.createProduction(s);l!=null&&this.productions.add(l)}}this.fillFirstSet(),this.fillFollowSet(),this.sort()}createSymbol(e){for(const n of this._productions){const s=n.get_rhs();for(let o=0;o<s.length;o++)this.isSemanticAction(s[o])&&s.push(o,s[o]+1)}let t=new Array(this._symbols.length+1);return t=[...this._symbols],this._symbols=t,this._symbols[this._symbols.length-1]=e,this._symbols.length-1}derives(e,t){if(e==t)return!0;const n=new it;n.add(t);for(let s=this.FIRST_NON_TERMINAL;s<this.FIRST_SEMANTIC_ACTION();s++)for(const o of n)if(this.derivesDirectly(s,o)&&!n.list()[s]){n.add(s),s=-1;continue}return n.list()[e]!=0}derivesDirectly(e,t){const n=this.markEpsilon();for(let s=0;s<this._productions.size();s++){const o=this._productions.get(s);if(o.get_lhs()==e)if(o.get_rhs().length==1){if(o.get_rhs()[0]==t)return!0}else{const l=o.get_rhs();for(let u=0;u<l.length;u++)if(l[u]==t){let h=!0;for(let f=0;f<u;f++)n.list()[l[f]]||(h=!1);for(let f=u+1;f<l.length;f++)n.list()[l[f]]||(h=!1);if(h)return!0}}}return!1}removeUnitaryProductions(){const e=new qe;for(let n=0;n<this._productions.size();n++){const s=this._productions.get(n);(s.get_rhs().length!=1||s.get_rhs()[0]!=s.get_lhs())&&e.add(s)}const t=[];for(let n=this.FIRST_NON_TERMINAL;n<t.length;n++){t[n]=new it;for(let s=this.FIRST_NON_TERMINAL;s<this.FIRST_SEMANTIC_ACTION();s++)this.derives(n,s)&&t[n].add(s)}this._productions=new qe;for(let n=0;n<e.size();n++){const s=e.get(n);if(s.get_rhs().length!=1||!this.isNonTerminal(s.get_rhs()[0])){for(let o=this.FIRST_NON_TERMINAL;o<t.length;o++)if(t[o].list()[s.get_lhs()]){const l=this.createProduction(o,s.get_rhs());l!=null&&this._productions.add(l)}}}this.sort()}removeEpsilon(){const e=this.markEpsilon(),t=new qe;for(let n=0;n<this._productions.size();n++){const s=this._productions.get(n);if(!this.isEpsilon(s.get_rhs())){let o=!0;for(let l=0;l<s.get_rhs().length;l++)o=o&&e.list()[s.get_rhs()[l]]!=0;o||t.add(s)}}for(let n=0;n<t.size();n++){const s=t.get(n);if(!this.isEpsilon(s.get_rhs())){let o=0;for(;o<s.get_rhs().length;){for(;o<s.get_rhs().length&&!(!this.isSemanticAction(s.get_rhs()[o])&&e.list()[s.get_rhs()[o]]);o++);if(o<s.get_rhs().length){const l=this.derivationAt(s,o);l!=null&&!t.contains(l)&&t.add(l),o++}}}}if(e.list()[this._startSymbol]){const n=this.createSymbol(this.addTail(this._symbols[this._startSymbol]));let s=this.createProduction(n,new Array(this._startSymbol));s!=null&&t.add(s),s=this.createProduction(n),s!=null&&t.add(s),this._startSymbol=n,this.fillFirstSet(),this.fillFollowSet()}this._productions=t,this.sort()}derivationAt(e,t){let n=new Array;for(let o=0;o<this._productions.size();o++)if(this._productions.get(o).get_lhs()==e.get_rhs()[t]&&this.isEpsilon(this._productions.get(o).get_rhs())){n=this._productions.get(o).get_rhs();break}const s=new Array;for(let o=0;o<t;o++)s.push(e.get_rhs()[o]);for(let o=0;o<n.length;o++)s.push(n[o]);for(let o=t+1;o<e.get_rhs().length;o++)s.push(e.get_rhs()[o]);return this.createProduction(e.get_lhs(),s)}addTail(e){e=e.substring(0,e.length-1)+"_T>";for(let t=0;t<this._symbols.length;t++)this._symbols[t]!=null&&this._symbols[t]==e&&(e=e.substring(0,e.length-1)+"_T>",t=0);return e}sort(){for(let t=this.FIRST_NON_TERMINAL;t<this.FIRST_SEMANTIC_ACTION();t++){const n=this._symbols[t].substring(0,this._symbols[t].length-1)+"_T>";let s=t+1;for(;s<this.FIRST_SEMANTIC_ACTION()&&this._symbols[s]!=n;s++);if(s<this.FIRST_SEMANTIC_ACTION()){const o=t+1,l=s;o!=l&&this.moveSymbol(l,o)}}this.moveSymbol(this._startSymbol,this.FIRST_NON_TERMINAL);const e=this._productions.toArray().sort(wr.compareTo);this._productions.clear(),e.forEach(t=>this._productions.add(t))}moveSymbol(e,t){const n=this._symbols[e];for(let s=e;s>t;s--)this._symbols[s]=this._symbols[s-1];this._symbols[t]=n,this._startSymbol==e?this._startSymbol=t:this._startSymbol>=t&&this._startSymbol<e&&this._startSymbol++;for(const s of this._productions){s.get_lhs()==e?s.set_lhs(t):s.get_lhs()>=t&&s.get_lhs()<e&&s.set_lhs(s.get_lhs()+1);const o=s.get_rhs();for(let l=0;l<o.length;l++)o[l]==e?o.push(l,t):o[l]>=t&&o[l]<e&&o.push(l,o[l]+1)}}isLL(){return this.isFactored()&&!this.hasLeftRecursion()&&this.passThirdCondition()}hasLeftRecursion(){const e=this.transformToFindRecursion(this._productions);for(let t=0;t<e.size();t++)if(e.get(t).get_lhs()==e.get(t).firstSymbol())return!0;return!1}getLeftRecursiveSimbol(){const e=this.transformToFindRecursion(this._productions);for(let t=0;t<e.size();t++)if(e.get(t).get_lhs()==e.get(t).firstSymbol())return e.get(t).get_lhs();return-1}getNonFactoratedProductions(){const e=new it;for(let t=0;t<this._productions.size();t++){const n=this._productions.get(t);for(let s=t+1;s<this.productions.size();s++){const o=this._productions.get(s);if(n.get_lhs()==o.get_lhs()){const l=this.first(n.get_rhs());l.retainAll(this.first(o.get_rhs())),l.isEmpty()||(e.add(t),e.add(s))}}if(e.size>0)break}return e}isFactored(){for(let e=0;e<this._productions.size();e++){const t=this._productions.get(e);for(let n=e+1;n<this._productions.size();n++){const s=this.productions.get(n);if(t.get_lhs()==s.get_lhs()){const o=this.first(t.get_rhs());if(o.retainAll(this.first(s.get_rhs())),!o.isEmpty())return!1}}}return!0}passThirdCondition(){const e=this.markEpsilon();for(let t=this.FIRST_NON_TERMINAL;t<this.FIRST_SEMANTIC_ACTION();t++)if(e.has(t)){const n=new it(this.firstSet[t]);if(n.retainAll(this.followSet[t]),!n.isEmpty())return!1}return!0}getProductiveSymbols(){const e=new it;for(let n=Xe.FIRST_TERMINAL;n<this.FIRST_NON_TERMINAL;n++)e.add(n);for(let n=this.FIRST_SEMANTIC_ACTION();n<=this.LAST_SEMANTIC_ACTION();n++)e.add(n);e.add(Xe.EPSILON);let t;do{t=!1;const n=new it;for(let s=this.FIRST_NON_TERMINAL;s<this.FIRST_SEMANTIC_ACTION();s++)if(!e.has(s))for(let o=0;o<this._productions.size();o++){const l=this._productions.get(o);if(l.get_lhs()==s){let u=!0;for(let h=0;h<l.get_rhs().length;h++)u=u&&e.has(l.get_rhs()[h]);u&&(n.add(s),t=!0)}}e.addAll(n)}while(t);return e}removeUnreachableSymbols(){const e=this.getReachableSymbols();this.updateSymbols(e)}getReachableSymbols(){const e=new it;e.add(this._startSymbol);let t;do{t=!1;const n=new it;for(let s=0;s<this._symbols.length;s++)if(!e.has(s))for(let o=0;o<this.productions.size();o++){const l=this._productions.get(o);if(e.has(l.get_lhs())){for(let u=0;u<l.get_rhs().length;u++)if(l.get_rhs()[u]==s){n.add(s),t=!0;break}}}e.addAll(n)}while(t);return e}uselessSymbolsHTML(){const e=this.clone();try{e.removeUselessSymbols()}catch{}const t=e.symbols,n=new it;for(let l=2;l<this._symbols.length;l++)for(let u=0;u<t.length;u++)if(t[u]==this._symbols[l]){n.add(l);break}let s="";s+='<HTML><HEAD><TITLE>Símbolos inúteis</TITLE></HEAD><BODY><FONT face="Verdana, Arial, Helvetica, sans-serif">';let o=0;for(let l=2;l<this._symbols.length;l++)n.has(l)||(s+=this._symbols[l]+"<br>",o++);return o==0&&(s+="Não há símbolos inúteis"),s+="</TABLE></FONT></BODY></HTML>",s}setToStr(e){let t="{ ";for(let n=0;n<e.size;n++)e.list()[n]&&(t+='"'+this._symbols[n]+'" ');return t+="}",t}factorate(){if(this.hasLeftRecursion())throw Error("new LeftRecursionException();");let e=!0;for(;e;){e=!1;for(let t=this.FIRST_NON_TERMINAL;t<this.FIRST_SEMANTIC_ACTION();t++)e=e||this.factorateLeft(t)}}factorateLeft(e){let t=!1;const n=this.productionsFor(e);let s=new it;const o=this.conflict(n,s);if(!s.isEmpty()){t=!0;for(let v=0;v<this._productions.size();v++){const g=this._productions.get(v);if(g.get_lhs()==e&&this.first(g.get_rhs()).list()[o]&&g.firstSymbol()!=o){const b=this.leftMostDerive(g);this._productions.toArray().splice(v,1),b.toArray().forEach(m=>this._productions.add(m)),v--,this.fillFirstSet(),this.fillFollowSet()}}s=new it;for(let v=0;v<this._productions.size();v++){const g=this._productions.get(v);g.get_lhs()==e&&g.firstSymbol()==o&&s.add(v)}const l=this.createSymbol(this.addTail(this._symbols[e])),u=this.extractPrefix(s);for(const v of s.list()){const g=this._productions.get(v);g.set_lhs(l),g.get_rhs().length>u.length?g.get_rhs().splice(0,u.length):g.clear_rhs()}const h=new Array;h.push(...u),h.push(l);const f=this.createProduction(e,h);f!=null&&this._productions.add(f),this.fillFirstSet(),this.fillFollowSet(),this.sort()}return t}leftMostDerive(e){if(this.isTerminal(e.firstSymbol()))return new qe;{const t=new qe,n=e.firstSymbol(),s=new Array;for(let o=0;o<e.get_rhs().length&&this.isSemanticAction(e.get_rhs()[o]);o++)s.push(e.get_rhs()[o]);for(const o of this.productionsFor(n).list()){const l=this.productions.get(o),u=new Array;for(let f=0;f<s.length;f++)u.push(s[f]);for(let f=0;f<l.get_rhs().length;f++)u.push(l.get_rhs()[f]);for(let f=s.length+1;f<e.get_rhs().length;f++)u.push(e.get_rhs()[f]);const h=this.createProduction(e.get_lhs(),u);h!=null&&!t.contains(h)&&t.add(h)}return t}}extractPrefix(e){const t=new Array;let n,s=0;do{n=!0;let o=0;const l=this._productions.get(o);if(l.get_rhs().length>s){const u=l.get_rhs()[s];for(;o>e.size;o++){const h=this.productions.get(o);(h.get_rhs().length<=s||h.get_rhs()[s]!=u)&&(n=!1)}n&&(t.push(l.get_rhs()[s]),s++)}else n=!1}while(n);return t}conflict(e,t){const n=new Array(this._symbols.length);for(let l=0;l<n.length;l++)n[l]=0;for(const l of e){const u=this._productions.get(l);for(const h of this.first(u.get_rhs()))n[h]++}n[Xe.EPSILON]=0,n[Xe.DOLLAR]=0;let s=0,o=0;for(let l=0;l<n.length;l++)n[l]>s&&(s=n[l],o=l);if(s>1)for(const l of e)this.first(this._productions.get(l).get_rhs()).list()[o]&&t.add(l);return o}toString(){let e="",t="",n=!0;for(let s=0;s<this.productions.size();s++){const o=this._productions.get(s);if(this._symbols[o.get_lhs()]!=t)n||(e+=`;

`),n=!1,t=this._symbols[o.get_lhs()],e+=t+" ::=";else{e+=`
`;for(let l=0;l<t.length;l++)e+=" ";e+="   |"}if(o.get_rhs().length==0)e+=" "+Xe.EPSILON_STR;else for(let l=0;l<o.get_rhs().length;l++)if(e+=" ",this.isSemanticAction(o.get_rhs()[l])){const u=o.get_rhs()[l]-this.FIRST_SEMANTIC_ACTION();e+="#"+u}else{const u=this._symbols[o.get_rhs()[l]];e+=u}}return e+=`;
`,e}clone(){try{const e=structuredClone(this),t=new Array(this.FIRST_NON_TERMINAL-2),n=new Array(this.FIRST_SEMANTIC_ACTION()-this.FIRST_NON_TERMINAL);for(let o=0;o<t.length;o++)t[o]=this._symbols[o+2].toString();for(let o=0;o<n.length;o++)n[o]=this._symbols[o+this.FIRST_NON_TERMINAL].toString();const s=new qe;for(let o=0;o<this._productions.size();o++){const l=new Array(this._productions.get(o).get_rhs().length);for(let u=0;u<l.length;u++)l[u]=this._productions.get(o).get_rhs()[u];s.add(new wr(null,this._productions.get(o).get_lhs(),l))}return e.setSymbols(t,n,this._startSymbol),e.setProductions(s),e.fillFirstSet(),e.fillFollowSet(),e}catch{throw new Error("Internal Error")}}removeSymbol(e){this._symbols.splice(e,1),this._startSymbol>e&&this._startSymbol--,this.FIRST_NON_TERMINAL>e&&this.FIRST_NON_TERMINAL--;for(let t=0;t<this._productions.size();t++){const n=this.productions.get(t);if(n.get_lhs()==e){this.productions.toArray().splice(t,1);continue}else n.get_lhs()>e&&n.set_lhs(n.get_lhs()-1);for(let s=0;s<n.get_rhs().length;s++){if(n.get_rhs()[s]==e){this.productions.toArray().splice(t,1);break}n.get_rhs()[s]>e&&n.set_rhs(s,n.get_rhs()[s]-1)}}}updateSymbols(e){e.add(Xe.EPSILON),e.add(Xe.DOLLAR);let t=0;for(let n=0;n<this._symbols.length;n++)e.list()[n]||(this.removeSymbol(n-t),t++);this.fillFirstSet(),this.fillFollowSet()}};z(Xe,"EPSILON",0),z(Xe,"DOLLAR",1),z(Xe,"FIRST_TERMINAL",Xe.EPSILON+2),z(Xe,"EPSILON_STR","î"),z(Xe,"EMPTY_SET",new it(Xe.EPSILON));let Lr=Xe;const ft=class ft{constructor(e,t){z(this,"parameter");z(this,"type");this.type=e,this.parameter=t}getType(){return this.type}getParameter(){return this.parameter}static createShift(e){return new ft(ft.SHIFT,e)}static createReduce(e){return new ft(ft.REDUCE,e)}static createAction(e){return new ft(ft.ACTION,e)}static createAccept(){return new ft(ft.ACCEPT,0)}static createGoTo(e){return new ft(ft.GOTO,e)}static createError(){return new ft(ft.ERROR,0)}toString(){switch(this.type){case ft.SHIFT:return"SHIFT("+this.parameter+")";case ft.REDUCE:return"REDUCE("+this.parameter+")";case ft.ACTION:return"SEM.ACT("+this.parameter+")";case ft.ACCEPT:return"ACCEPT";case ft.GOTO:return""+this.parameter;case ft.ERROR:return"-";default:return"???"}}equals(e){try{let t=e,n=this.type==t.type&&this.parameter==t.parameter;return n===void 0?!1:n}catch{return!1}}hashCode(){let e=43;return e=e*this.parameter+17,e=e*this.type+17,e}};z(ft,"SHIFT",0),z(ft,"REDUCE",1),z(ft,"ACTION",2),z(ft,"ACCEPT",3),z(ft,"GOTO",4),z(ft,"ERROR",5),z(ft,"CONSTANTS",["SHIFT ","REDUCE","ACTION","ACCEPT","GO_TO ","ERROR "]);let _t=ft;class Id{constructor(){z(this,"conflictList",new qe)}}class Oy extends Id{constructor(t,n){super();z(this,"_conflict");z(this,"_state");z(this,"_conflictListModel");this._conflict=t===void 0?[]:t,this._state=n===void 0?-1:n,this._conflictListModel=new Array}resolve(t,n){let s;n==0?s="$":s=t.terminals[n-1];let o="";o+="- O estado no topo da pilha é: "+this._state+`
`,o+="- O símbolo da entrada é: "+s+`
`,o+=`
Qual ação a ser executada:`,this._conflictListModel=[];for(let h=0;h<this._conflict.length;h++){let f;switch(this._conflict[h].getType()){case _t.REDUCE:f="Reduzir, pela produção "+this._conflict[h].getParameter();break;case _t.ACTION:f="Executar ação semântica "+this._conflict[h].getParameter();break;case _t.SHIFT:f='Empilhar "'+s+'"';break;default:f=this._conflict[h].toString();break}o+=`
Opção `+(h+1)+": "+f,this._conflictListModel.push({label:f,command:h})}o+=`

OBS: Se cancelar ou digitar opção inválida,
a opção 1 será escolhida como padrão.`;let l=prompt(o,"1");l==null&&(l="1");let u=Number(l);return isNaN(u)||u<0||u>this._conflict.length?u=0:u--,alert("Teste: "+u+"  teste:"+this._conflict.length),this._conflictListModel[u].command}showModal(t,n,s,o,l){const u=document.getElementById("myModal"),h=document.getElementById("confirmBtn"),f=document.getElementById("cancelBtn");u.style.display="block",h.textContent=n,f.textContent=s,h.onclick=function(){u.style.display="none",o&&o()},f.onclick=function(){u.style.display="none",l&&l()}}showDialog(t,n){const s=document.createElement("dialog");s.style.padding="20px",s.innerHTML=`<p>${t}<p>`,n.forEach(o=>{const l=document.createElement("button");l.textContent=o.label,l.onclick=()=>{s.close(),document.body.removeChild(s),o.command},s.appendChild(l),s.appendChild(document.createElement("br"))}),s.addEventListener("close",()=>{document.body.removeChild(s)}),document.body.appendChild(s),s.showModal()}setup(t,n){this._conflict=t,this._state=n}}class rr{constructor(e,t,n){z(this,"_production");z(this,"_position");z(this,"_lookahead");z(this,"_g");this._production=e,this._position=t,this._lookahead=n===void 0?0:n,this._g=e.getGrammar()}get position(){return this._position}get lookahead(){return this._lookahead}get production(){return this._production}equals(e){try{return e.production==this._production&&e.position==this._position&&this._lookahead==e.lookahead&&e._g==this._g}catch{return!1}}toString(){var t,n;let e="";if(this._g==null)throw new _e("Grammar to string is null");e+=this._g.symbols[this._production.get_lhs()]+" ::= ";for(let s=0;s<this._production.get_rhs().length&&s<this._position;s++){const o=this._production.get_rhs()[s];this._g.isSemanticAction(o)?e+="#"+(o-this._g.FIRST_SEMANTIC_ACTION())+" ":e+=this._g.symbols[o]+" "}e+="o ";for(let s=this._position;s<this._production.get_rhs().length;s++){const o=this._production.get_rhs()[s];this._g.isSemanticAction(o)?e+="#"+(o-this._g.FIRST_SEMANTIC_ACTION())+" ":e+=((t=this._g)==null?void 0:t.symbols[o])+" "}return this._lookahead!=0&&(e+=", ",e+=(n=this._g)==null?void 0:n.symbols[this._lookahead]),e.toString()}clone(){return new rr(this._production,this._position,this._lookahead)}compareTo(e){let t=wr.compareTo(this._production,e.production);return t!=0?t:(t=this._position-e.position,t!=0?t:this._lookahead-e.lookahead)}}class Ld{constructor(e){z(this,"g");z(this,"itemList");z(this,"semanticStart");z(this,"firstSementicAction");this.semanticStart=e.FIRST_SEMANTIC_ACTION(),this.firstSementicAction=e.FIRST_SEMANTIC_ACTION(),this.g=e.asNormalLR(),this.itemList=this.computeItems()}getErrors(e){const t=new qe;for(let n=0;n<e.length;n++){const s=new it;for(let h=1;h<this.g.FIRST_NON_TERMINAL;h++)e[n][h-1].getType()!=_t.ERROR&&s.add(h);let o="";const l=s.size;let u=0;for(const h of s.list())h==1?o+="fim de sentença":o+=this.g.symbols[h],l-u==2?o+=" ou ":l-u>2&&(o+=", "),u++;t.add(o.toString())}return t}get grammar(){return this.g}get firstSemanticAction(){return this.firstSementicAction}buildIntTable(){const e=this.buildTable(),t=[];for(let n=0;n<e.length;n++){t[n]=[];for(let s=0;s<e[n].length;s++)t[n][s]=[],t[n][s][0]=e[n][s].getType(),t[n][s][1]=e[n][s].getParameter()}return t}resolveConflicts(e){const t=[],n=_t.createError();for(let s=0;s<e.length;s++){t[s]=[];for(let o=0;o<e[0].length;o++)switch(e[s][o].size){case 0:t[s][o]=n;break;case 1:t[s][o]=e[s][o].values().next().value;break;default:t[s][o]=this.solve(e[s][o],s,o);break}}return t}solve(e,t,n){const s=[];let o=0;for(const u of e)s[o]=u,o++;let l=!0;for(let u=1;u<s.length&&(l=l&&s[u-1].equals(s[u]),!!l);u++);if(l)return s[0];{const u=new Oy;return u.setup(s,t),s[u.resolve(this.g,n)]}}tableAsHTML(){let e="";e+='<HTML><HEAD><TITLE>Tabela SLR(1)</TITLE></HEAD><BODY><FONT face="Verdana, Arial, Helvetica, sans-serif"><TABLE border=1 cellspacing=0>';const t=this.buildTable();e+="<TR>",e+="<TD  align=center rowspan=2 bgcolor=black nowrap><FONT color=white><B>ESTADO</B></FONT></TD>",e+="<TD  align=center colspan="+(this.g.FIRST_NON_TERMINAL-1)+" bgcolor=black nowrap><FONT color=white><B>AÇÃO</B></FONT></TD>",e+="<TD  align=center colspan="+(this.g.FIRST_SEMANTIC_ACTION()-this.g.FIRST_NON_TERMINAL)+" bgcolor=black nowrap><FONT color=white><B>DESVIO</B></FONT></TD>",e+="</TR>",e+="<TR>";for(let n=0;n<t[0].length-1;n++)e+="<TD  align=center bgcolor=black nowrap><FONT color=white><B>"+jn.translateString(this.g.symbols[n+1])+"</B></FONT></TD>";e+="</TR>";for(let n=0;n<t.length;n++){const s=t[n];e+="<TR>",e+="<TD bgcolor=black align=right nowrap><FONT color=white><B>"+n+"</B></FONT></TD>";for(let o=0;o<s.length-1;o++){const l=s[o];let u="";l!=null&&(u=l.toString());const h=o+1<this.g.FIRST_NON_TERMINAL?"#F5F5F5":"#E6E6E6";e+="<TD bgcolor="+h+" align=center nowrap>"+u+"</TD>"}e+="</TR>"}return e+="</TABLE></FONT></BODY></HTML>",e.toString()}itemsAsHTML(){let e="";e+='<HTML><HEAD><TITLE>Itens SLR(1)</TITLE></HEAD><BODY><FONT face="Verdana, Arial, Helvetica, sans-serif"><TABLE border=1 cellspacing=0>';const t=this.itemList;e+="<TR>",e+="<TD  align=center bgcolor=black><FONT color=white><B>Estado</B></FONT></TD>",e+="<TD  align=center bgcolor=black><FONT color=white><B>Itens</B></FONT></TD>",e+="<TD  align=center bgcolor=black><FONT color=white><B>Desvio</B></FONT></TD>",e+="</TR>";for(let n=0;n<t.size();n++){const s=n%2==0?"#F5F5F5":"#E6E6E6",o=t.get(n);e+="<TR>",e+="<TD bgcolor="+s+" align=right rowspan="+o.size()+">"+n+"</TD>",e+="<TD bgcolor="+s+" nowrap>"+jn.translateString(o.get(0).toString())+"</TD>";let l=o.get(0),u=l.production;if(u.get_rhs().length>l.position){const h=u.get_rhs()[l.position],f=this.goTo(o,h),v=t.indexOf(f);e+="<TD bgcolor="+s+" align=right>"+v+"</TD>"}else e+="<TD bgcolor="+s+" align=right>&nbsp</TD>";e+="</TR>";for(let h=1;h<o.size();h++){if(e+="<TR>",e+="<TD bgcolor="+s+" nowrap>"+jn.translateString(o.get(h).toString())+"</TD>",l=o.get(h),u=l.production,u.get_rhs().length>l.position){const f=u.get_rhs()[l.position],v=this.goTo(o,f),g=this.getIndexFromList(t,v);e+="<TD bgcolor="+s+" align=right>"+g+"</TD>"}else e+="<TD bgcolor="+s+" align=right>&nbsp</TD>";e+="</TR>"}e+="</TR>"}return e+="</TABLE></FONT></BODY></HTML>",e.toString()}getIndexFromList(e,t){const n=e.toArray();for(let s=0;s<n.length;s++){const l=n[s].toString(),u=t.toString();if(l===u)return s}return console.log(t),-1}}class Py extends Ld{constructor(e){super(e)}closure(e){const t=new qe;e.toArray().forEach(n=>t.add(n));for(let n=0;n<t.size();n++){const s=t.get(n),o=s.production;if(s.position<o.get_rhs().length){const l=o.get_rhs()[s.position];if(this.g.isNonTerminal(l)){const u=this.g.productionsFor(l);for(const h of u.list()){const f=new rr(this.g.productions.get(h),0);this.contains(t,f)||t.add(f)}}}}return t}contains(e,t){for(const n of e)if(t.equals(n))return!0;return!1}goTo(e,t){const n=new qe;for(const s of e.toArray()){const o=s,l=o.production;o.position<l.get_rhs().length&&l.get_rhs()[o.position]==t&&n.add(new rr(o.production,o.position+1))}return this.closure(n)}computeItems(){const e=new qe,n=this.g.productionsFor(this.g.startSymbol).list()[0];e.add(new rr(this.g.productions.get(n),0));const s=new qe;s.add(this.closure(e));let o=!0;for(;o;)e:{o=!1;for(const l of s.toArray())for(let u=0;u<l.size();u++){const h=l.get(u),f=h.production;if(f.get_rhs().length>h.position){const v=this.goTo(l,f.get_rhs()[h.position]);if(v.size()!=0&&!this.containsList(s,v)){s.add(v),o=!0;break e}}}}return s}containsList(e,t){for(const n of e){const s=n.toString(),o=t.toString();if(s===o)return!0}return!1}buildTable(){const e=[];for(let n=0;n<this.itemList.size();n++){e[n]=[];for(let s=0;s<this.g.symbols.length-1;s++)e[n][s]=new Map}for(let n=0;n<e.length;n++){const s=this.itemList.get(n);for(let o=0;o<s.size();o++){const l=s.get(o),u=l.production,h=u.get_rhs();if(h.length>l.position){const f=h[l.position],v=this.goTo(s,f);if(this.g.isTerminal(f)){const g=_t.createShift(this.indexOfListLRItem(this.itemList,v));e[n][f-1].set(g.hashCode(),g)}else{const g=_t.createGoTo(this.indexOfListLRItem(this.itemList,v));e[n][f-1].set(g.hashCode(),g)}}else{const f=u.get_lhs();if(f==this.g.startSymbol){const v=_t.createAccept();e[n][0].set(v.hashCode(),v)}else{const v=this.g.followSet[f];for(const g of v.list()){let b;f<this.semanticStart?b=_t.createReduce(this.g.productions.indexOf(u)):b=_t.createAction(f-this.semanticStart),e[n][g-1].set(b.hashCode(),b)}}}}}const t=e.map(n=>n.map(s=>new Set(s.values())));return this.resolveConflicts(t)}indexOfListLRItem(e,t){let n=0;for(const s of e){const o=s.toString(),l=t.toString();if(o===l)return n;n++}return-1}}class Od extends Ld{constructor(e){super(e)}closure(e){let t=!1;const n=e.toArray();do e:{t=!1;for(const s of e){const o=s.production;if(s.position<o.get_rhs().length){const l=o.get_rhs()[s.position];if(this.g.isNonTerminal(l)){const u=this.g.productionsFor(l);for(const h of u.list()){const f=this.g.productions.get(h),v=[];for(let b=s.position+1;b<o.get_rhs().length;b++)v.push(o.get_rhs()[b]);v.push(s.lookahead);const g=this.g.first(v);for(const b of g.list()){const m=new rr(f,0,b);if(!this.contains(n,m)){n.push(m),t=!0;break e}}}}}}}while(t);return e.setItems(n),e}goTo(e,t){const n=[];for(const o of e.toArray()){const l=o.production;o.position<l.get_rhs().length&&l.get_rhs()[o.position]==t&&n.push(new rr(o.production,o.position+1,o.lookahead))}const s=new qe;return s.setItems(n),this.closure(s)}computeItems(){const e=new qe,n=this.g.productionsFor(this.g.startSymbol).list()[0];e.add(new rr(this.g.productions.get(n),0,Lr.DOLLAR));const s=new qe;s.add(this.closure(e));let o=!0;for(;o;)e:{o=!1;for(const l of s.toArray())for(let u=0;u<l.size();u++){const h=l.get(u),f=h.production;if(f.get_rhs().length>h.position){const v=this.goTo(l,f.get_rhs()[h.position]);if(v.size()!=0&&!this.containsList(s,v)){s.add(v),o=!0;break e}}}}return s}contains(e,t){for(const n of e){const s=n.toString(),o=t.toString();if(s===o)return!0}return!1}containsList(e,t){for(const n of e){const s=n.toString(),o=t.toString();if(s===o)return!0}return!1}buildTable(){const e=[];for(let n=0;n<this.itemList.size();n++){e[n]=[];for(let s=0;s<this.g.symbols.length-1;s++)e[n][s]=new Map}for(let n=0;n<e.length;n++){const s=this.itemList.get(n);for(let o=0;o<s.size();o++){const l=s.get(o),u=l.production,h=u.get_rhs();if(h.length>l.position){const f=h[l.position],v=this.goTo(s,f);if(this.g.isTerminal(f)){const g=_t.createShift(this.indexOfListLRItem(this.itemList,v));e[n][f-1].set(g.hashCode(),g)}else{const g=_t.createGoTo(this.indexOfListLRItem(this.itemList,v));e[n][f-1].set(g.hashCode(),g)}}else{const f=u.get_lhs();if(f==this.g.startSymbol){const v=_t.createAccept();e[n][0].set(v.hashCode(),v)}else{const v=l.lookahead;let g;f<this.semanticStart?g=_t.createReduce(this.g.productions.indexOf(u)):g=_t.createAction(f-this.semanticStart),e[n][v-1].set(g.hashCode(),g)}}}}const t=e.map(n=>n.map(s=>new Set(s.values())));return this.resolveConflicts(t)}indexOfListLRItem(e,t){let n=0;for(const s of e){const o=s.toString(),l=t.toString();if(o===l)return n;n++}return-1}}class Fy extends Od{constructor(t){super(t);z(this,"compress",!1)}core(t){const n=new Set;for(let s=0;s<t.length;s++){const o=t[s],l=new rr(o.production,o.position);[...n].some(u=>u.toString()===l.toString())||n.add(l)}return n}computeItems(){const t=super.computeItems();for(let n=0;n<t.size();n++){const s=t.get(n),o=this.core(s.toArray());for(let l=n+1;l<t.size();l++){const u=t.get(l),h=this.core(u.toArray());if(this.equals(o,h)){for(let f=0;f<u.size();f++){const v=u.get(f);s.contains(v)||s.add(v)}t.removeByIndex(l),l--}}}return this.compress=!0,t}goTo(t,n){const s=super.goTo(t,n);if(this.compress){const o=this.core(s.toArray());for(let l=0;l<this.itemList.size();l++){const u=this.itemList.get(l);if(this.equals(o,this.core(u.toArray())))return u}}return s}equals(t,n){if(t.size!==n.size)return!1;for(const s of t){let o=!1;for(const l of n)if(s.equals(l)){o=!0;break}if(!o)return!1}return!0}}class Wo{LRGeneratorFactory(){}static createGenerator(e,t){switch(t){case he.PARSER_SLR:return new Py(e);case he.PARSER_LR:return new Od(e);case he.PARSER_LALR:return new Fy(e);default:return null}}}var Pd={exports:{}};(function(i){(function(e){{var t=i.exports=e();t.HashMap=t}})(function(){function e(o){switch(this.clear(),arguments.length){case 0:break;case 1:{"length"in o?n(this,Array.prototype.concat.apply([],o)):this.copy(o);break}default:n(this,arguments);break}}var t=e.prototype={constructor:e,get:function(o){var l=this._data[this.hash(o)];return l&&l[1]},set:function(o,l){var u=this.hash(o);u in this._data||this.size++,this._data[u]=[o,l]},multi:function(){n(this,arguments)},copy:function(o){for(var l in o._data)l in this._data||this.size++,this._data[l]=o._data[l]},has:function(o){return this.hash(o)in this._data},search:function(o){for(var l in this._data)if(this._data[l][1]===o)return this._data[l][0];return null},delete:function(o){var l=this.hash(o);l in this._data&&(this.size--,delete this._data[l])},type:function(o){var l=Object.prototype.toString.call(o),u=l.slice(8,-1).toLowerCase();return!o&&(u==="domwindow"||u==="window")?o+"":u},keys:function(){var o=[];return this.forEach(function(l,u){o.push(u)}),o},values:function(){var o=[];return this.forEach(function(l){o.push(l)}),o},entries:function(){var o=[];return this.forEach(function(l,u){o.push([u,l])}),o},count:function(){return this.size},clear:function(){this._data={},this.size=0},clone:function(){return new e(this)},hash:function(o){switch(this.type(o)){case"undefined":case"null":case"boolean":case"number":case"regexp":return o+"";case"date":return"♣"+o.getTime();case"string":return"♠"+o;case"array":for(var l=[],u=0;u<o.length;u++)l[u]=this.hash(o[u]);return"♥"+l.join("⁞");default:return o.hasOwnProperty("_hmuid_")||(o._hmuid_=++e.uid,s(o,"_hmuid_")),"♦"+o._hmuid_}},forEach:function(o,l){for(var u in this._data){var h=this._data[u];o.call(l||this,h[1],h[0])}}};e.uid=0,typeof Symbol<"u"&&typeof Symbol.iterator<"u"&&(t[Symbol.iterator]=function(){var o=this.entries(),l=0;return{next:function(){if(l===o.length)return{done:!0};var u=o[l++];return{value:{key:u[0],value:u[1]},done:!1}}}}),["set","multi","copy","delete","clear","forEach"].forEach(function(o){var l=t[o];t[o]=function(){return l.apply(this,arguments),this}}),e.prototype.remove=e.prototype.delete;function n(o,l){for(var u=0;u<l.length;u+=2)o.set(l[u],l[u+1])}function s(o,l){Object.defineProperty&&Object.defineProperty(o,l,{enumerable:!1})}return e})})(Pd);var Dy=Pd.exports;const dl=nu(Dy),ao=1,ru=2,wo=3,Eo=4,iu=5,My=6,zy=7,By=8,Uy=9,jy=10,$y=11,Hy=12,Wy=13,Nn=14;let Gy=class{constructor(e){z(this,"_in","");z(this,"_pos",0);z(this,"_quote",!1);e==null?this.setInput(""):this.setInput(e)}setInput(e){this._in=e,this._pos=0}get position(){return this._pos}nextToken(){let e=this._pos;for(;this.hasMoreChars();){e=this._pos;let t=this.nextChar();if(this._quote)if(t=='"'){if(this.hasMoreChars()){if(t=this.nextChar(),t=='"')return new at(Nn,'"',this._pos-2);this._pos--}this._quote=!1;continue}else return this.createToken(Nn,""+t);switch(t){case" ":case`
`:case"\r":case"	":continue;case'"':this._quote=!0;continue;case"|":return this.createToken(ru,"|");case"*":return this.createToken(wo,"*");case"+":return this.createToken(Eo,"+");case"?":return this.createToken(iu,"?");case"(":return this.createToken(My,"(");case")":return this.createToken(zy,")");case"[":return this.createToken(By,"[");case"]":return this.createToken(Uy,"]");case"^":return this.createToken($y,"^");case".":return this.createToken(jy,".");case"-":return this.createToken(Hy,"-");case"\\":return this.processesAdvChar();case"{":return this.processesDefinition();default:return this.createToken(Nn,""+t)}}if(this._quote)throw new dt(`Era esperado '"'`,e);return null}processesAdvChar(){return new at(Nn,""+this.getSpecialChar(),this._pos-1)}createToken(e,t){return new at(e,t,this._pos-1)}getSpecialChar(){let e=this._pos;if(!this.hasMoreChars)throw new dt("Era esperado um Caracter Especial",e);let t=this.nextChar();if(t==null)return null;switch(t){case"b":return"\b";case"n":return`
`;case"f":return"\f";case"r":return"\r";case"e":return String.fromCharCode(27);case"t":return"	";case"	":return"	";case"s":return" ";case" ":return" ";case'"':return'"';case"\\":return"\\";case"|":return"|";case"*":return"*";case"+":return"+";case"?":return"?";case"(":return"(";case")":return")";case"{":return"{";case"}":return"}";case"[":return"[";case"]":return"]";case".":return".";case"^":return"^";case"-":return"-";default:if(this.isNumber(t))return this.getCharByCode(t);throw new dt("Caracter especial inválido: '"+t+"'",this._pos)}}getCharByCode(e){let t=this._pos-1,n=this.nextChar();if(n==null)return null;if(this.hasMoreChars()&&this.isNumber(n)){let l=this.nextChar();if(l==null)return null;this.hasMoreChars()&&!this.isNumber(l)&&this._pos--}else this._pos--;let o=this._in.substring(t,this._pos).charCodeAt(0);if(o>255)throw new dt("Valor decimal inválido (>255)",t);return String.fromCharCode(o)}processesDefinition(){let e="",t=this._pos,n="{";for(;this.hasMoreChars();){if(n=this.nextChar(),n==null)return null;if(n=="}")break;if(n!="_"&&!this.isLetterOrDigit(n))throw new dt("Caracter inválido em uma definição: '"+n+"'",this._pos-1);e+=n}if(n!="}"&&!this.hasMoreChars())throw new dt("Fim de expressão inesperado",this._pos);return new at(Wy,e.toString(),t)}hasMoreChars(){return this._pos<this._in.length}nextChar(){return this.hasMoreChars()?this._in.charAt(this._pos++):null}isLetterOrDigit(e){return e.toLowerCase()!=e.toUpperCase()||this.isNumber(e)}isNumber(e){return typeof e!="string"||e.trim()===""?!1:!Number.isNaN(Number(e))}};class bf{constructor(){z(this,"position",-1);z(this,"nullable",!1);z(this,"first",new it);z(this,"last",new it)}}class st{constructor(e,t,n){z(this,"_left");z(this,"_right");z(this,"_id",0);z(this,"_value","");z(this,"_backtrack",!0);z(this,"_context",-1);z(this,"_end",-1);z(this,"_alphabet",new it);z(this,"_metaData",new bf);this._id=e,this._left=t,this._right=n,t!=null&&this.alphabet.addAll(t.alphabet),n!=null&&this.alphabet.addAll(n.alphabet)}deepestLeft(){let e=this;for(;;){let t=e.left;if(t==null&&(t=e.right),t==null)break;e=t}return e}static createUnionNode(e,t){let n=new st(ru,e,t);return n.value="|",n}static createConcatNode(e,t){let n=new st(-1,e,t);return n.value="&",n}static createContextNode(e,t){let n=t.deepestLeft();if(n==null)return null;n.context=0;let s=new st(-1,e,t);return s.value="&",s}static createClosureNode(e){let t=new st(wo,e,null);return t.value="*",t}static createClosureObNode(e){let t=new st(Eo,e,null);return t.value="+",t}static createOptionalNode(e){let t=new st(iu,e,null);return t.value="?",t}static createIntervalNode(e,t){let n=new st(Nn,null,null);for(let o=e.charCodeAt(0);o<=t.charCodeAt(0);o++)n.alphabet.add(o);let s="[";for(let o of n.alphabet)s+=String.fromCharCode(o);return s+="]",n.value=s,n}static createComplementNode(e){let t=new st(Nn,null,null);e.alphabet.has("	".charCodeAt(0))||t.alphabet.add("	".charCodeAt(0)),e.alphabet.has(`
`.charCodeAt(0))||t.alphabet.add(`
`.charCodeAt(0)),e.alphabet.has("\r".charCodeAt(0))||t.alphabet.add("\r".charCodeAt(0)),e.alphabet.has(" ".charCodeAt(0))||t.alphabet.add(" ".charCodeAt(0));for(let s=32;s<=126;s++)e.alphabet.has(s)||t.alphabet.add(s);for(let s=161;s<=255;s++)e.alphabet.has(s)||t.alphabet.add(s);let n="[";for(let s of t.alphabet)n+=String.fromCharCode(s);return n+="]",t.value=n,t}static createCharNode(e){let t=new st(Nn,null,null);return t.value=e,t.alphabet.add(e.charCodeAt(0)),t}static createAllNode(){let e=new st(Nn,null,null);e.alphabet.add("	".charCodeAt(0));for(let n=32;n<=126;n++)e.alphabet.add(n);for(let n=161;n<=255;n++)e.alphabet.add(n);let t="[";return e.alphabet.list().forEach(n=>{t+=String.fromCharCode(n)}),t+="]",e.value=t,e}static createEndNode(e,t){let n=new st(Nn,null,null);return n.end=e,n.backtrack=t,n.value="#"+n.end,n}clone(){let e=structuredClone(this);return e.alphabet=new it(this._alphabet),e.metaData=new bf,e.backtrack=!0,e.context=-1,e.end=-1,this._left!=null&&(e.left=this._left.clone()),this._right!=null&&(e.right=this._right.clone()),e}get left(){return this._left}set left(e){this._left=e}get right(){return this._right}set right(e){this._right=e}get id(){return this._id}set id(e){this._id=e}get value(){return this._value}set value(e){this._value=e}doBacktrack(){return this._backtrack}set backtrack(e){this._backtrack=e}get backtrack(){return this._backtrack}get context(){return this._context}set context(e){this._context=e}get end(){return this._end}set end(e){this._end=e}get alphabet(){return this._alphabet}set alphabet(e){this._alphabet=e}get metaData(){return this._metaData}set metaData(e){this._metaData=e}toString(){return String(0)}toStringLevel(e){var n,s;let t="";for(let o=0;o<e-2;o++)t+=" ";return e>2&&(t+="\\-"),t+=`value
`,this._left!=null&&(t+=String((n=this._left)==null?void 0:n.toStringLevel(e+2))),this._right!=null&&(t+=String((s=this._right)==null?void 0:s.toStringLevel(e+2))),t}}class Fd{constructor(e){z(this,"_definitions",new dl);z(this,"_expressions",new dl);z(this,"_specialCases",new dl);z(this,"_root",null);z(this,"_alphabet",new it);z(this,"_lastPosition",-1);z(this,"_tokenList",new qe);z(this,"_sensitive",!0);z(this,"_contextCount",0);z(this,"_next",[new it]);z(this,"_nodes",[]);this._sensitive=e}addDefinition(e,t){if(this._definitions.has(e))throw new Rt("Definição repetida: "+e);this._definitions.set(e,t),this._alphabet.addAll(t.alphabet)}getDefinitionById(e){return this._definitions.get(e)}addExpression(e,t,n){var u;this._alphabet.addAll(t.alphabet),this._tokenList.contains(e)||this._tokenList.add(e);let s=this._tokenList.indexOf(e),o=st.createEndNode(s+2,n);t=st.createConcatNode(t,o);let l=(u=t.left)==null?void 0:u.right;l!=null&&(l=l.deepestLeft(),l!=null&&l.context>=0&&(this._contextCount++,l.context=this._contextCount,o.context=this._contextCount)),this._expressions.set(e,t),this._root==null?this._root=t:this._root=st.createUnionNode(this._root,t)}addIgnore(e,t){this._alphabet.addAll(e.alphabet);let n=st.createEndNode(0,t);e=st.createConcatNode(e,n),this._root==null?this._root=e:this._root=st.createUnionNode(this._root,e)}addSpecialCase(e,t,n){if(this._sensitive||(n=n.toLocaleUpperCase()),!this._expressions.has(t))throw new Rt("Token '"+t+"' não definido");let s=this._tokenList.indexOf(t)+2;if(this._tokenList.contains(e))throw new Rt("Token '"+e+"' já definido");let o=this._tokenList.size()+2,l=this._specialCases.get(s);if(l==null)l=new zn,this._specialCases.set(s,l);else if(l.get(n)!=null)throw new Rt("Já houve a definição de um caso especial de '"+t+`' com o valor"`+n+'"');l.set(n,o),this._tokenList.add(e)}generateAutomata(){let e=new qe,t=new zn,n=new zn,s=new zn,o=new zn,l=new zn;if(this._root==null)throw new Rt("A Especificação Léxica deve conter a definição de pelo menos um Token");this.computeNext(),e.add(this._root.metaData.first);for(let u=0;u<e.size();u++){let h=e.get(u);for(let f of this._alphabet){let v=String.fromCharCode(f),g=new it;for(let A of h){let _=this._nodes[A];if(_.end>=0){let E=u;if(!o.has(E)&&(o.set(E,_.end),l.set(E,_.backtrack),_.context>0&&!t.has(E))){let w=n.get(_.context);w!=null?t.set(E,w):t.set(E,0)}}_.context>=0&&(n.has(_.context)||n.set(_.context,u)),_.alphabet.has(v.charCodeAt(0))&&g.addAll(this._next[A])}let b=-1;g.isEmpty()||(b=this.getPositionStates(e,g),b==-1&&(e.add(g),b=e.size()-1));let m=u;if(s.has(m)||s.set(m,new zn),b!=-1){let A=s.get(m);if(A==null)return null;A.set(v,b)}}}return this.makeAtomata(e,s,o,l,t)}makeAtomata(e,t,n,s,o){let l=new qe;for(let m of t)l.add(m[1]);let u=new Array;u.length=e.size();for(let m=0;m<u.length;m++){let A=n.get(m);A!=null?u[m]=A:u[m]=-1}for(let m=0;m<u.length;m++){let A=s.get(m);A!=null&&A==!1&&this.computPrecedersOf(m,l).forEach(E=>{u[E]<0&&(u[E]=-2)})}let h=[],f=Array(this._tokenList.size()+2).fill(void 0);for(let m=0;m<f.length;m++){let A=this._specialCases.get(m),_=h.length;if(A!=null){const w=new Map([...A.entries()].sort());for(const[S,k]of w.entries())h.push(new vf(S,k))}let E=h.length;f[m]=[_,E]}let v=new Array;const g=Object.assign({},h);v=Object.setPrototypeOf(g,vf.prototype);let b=Array.from({length:e.size()},()=>Array.from({length:2}));for(let m=0;m<b.length;m++)b[m][0]=0,b[m][1]=-1;for(const[m,A]of o.entries())b[A][0]=1,b[m][1]=A;return new Ly(this._alphabet,l,u,f,v,b,this._tokenList,this._sensitive)}getPositionStates(e,t){let n=0;for(let s of e){let o=s.list(),l=t.list();if(o.length===l.length&&o.every((h,f)=>h===l[f]))return n;n++}return-1}computPrecedersOf(e,t){let n=new Set;n.add(e);let s;do{s=!1;for(const o of n)e:for(let l=0;l<t.size();l++)for(const u of t.get(l).values())if(n.has(u)&&u==o&&!n.has(l)){n.add(l),s=!0;break e}}while(s);return n}computeNext(){this.computeMetaData(this._root),this._next=new Array(this._lastPosition+1),this._nodes=new Array(this._lastPosition+1);for(let e=0;e<this._lastPosition+1;e++)this._next[e]=new it;this.computeNextNode(this._root)}computeNextNode(e){if(e===null)throw Error("error");let t;switch(e.id){case-1:if(t=e.left,t!=null)for(let n of t.metaData.last){if(e.right==null)throw new Error("Node direita vazio");this._next[n].addAll(e.right.metaData.first)}break;case wo:case Eo:if(e.left==null)throw new Error("Node direita vazio");for(let n of e.left.metaData.last)this._next[n].addAll(e.left.metaData.first);break;case Nn:this._nodes[e.metaData.position]=e;break}e.left!=null&&this.computeNextNode(e.left),e.right!=null&&this.computeNextNode(e.right)}computeMetaData(e){if(e==null)return;e.left!=null&&this.computeMetaData(e.left),e.right!=null&&this.computeMetaData(e.right);let t=e.metaData,n=e.left,s=e.right;switch(e.id){case Nn:this._lastPosition++,t.position=this._lastPosition,t.nullable=!1,t.first.add(this._lastPosition),t.last.add(this._lastPosition);break;case iu:case wo:t.nullable=!0,n!=null&&(n.metaData.first.list().forEach(o=>t.first.add(o)),n.metaData.last.list().forEach(o=>t.last.add(o)));break;case Eo:t.nullable=!1,n!=null&&(n.metaData.first.list().forEach(o=>t.first.add(o)),n.metaData.last.list().forEach(o=>t.last.add(o)));break;case ru:if(n==null||s==null)return;t.nullable=n.metaData.nullable||s.metaData.nullable,n.metaData.first.list().forEach(o=>t.first.add(o)),s.metaData.first.list().forEach(o=>t.first.add(o)),n.metaData.last.list().forEach(o=>t.last.add(o)),s.metaData.last.list().forEach(o=>t.last.add(o));break;case-1:if(n==null||s==null)return;t.nullable=n.metaData.nullable&&s.metaData.nullable,n.metaData.first.list().forEach(o=>t.first.add(o)),n.metaData.nullable&&s.metaData.first.list().forEach(o=>t.first.add(o)),s.metaData.last.list().forEach(o=>t.last.add(o)),s.metaData.nullable&&n.metaData.last.list().forEach(o=>t.last.add(o));break}}}let Ky=class{constructor(e){z(this,"_exp_simp1",new Rr);z(this,"_termo1",new Rr);z(this,"_fator",new Rr);z(this,"_gen");z(this,"_token",null);this._gen=e}executeAction(e,t){this._token=t;try{switch(e){case 0:break;case 1:this.action1();break;case 2:this.action2();break;case 3:this.action3();break;case 4:this.action4();break;case 5:this.action5();break;case 6:this.action6();break;case 7:this.action7();break;case 8:this.action8();break;case 9:this.action9();break;case 10:this.action10();break;case 11:this.action11();break;case 12:this.action12();break;case 13:this.action13();break;case 14:this.action14();break;case 15:this.action15();break}}catch(n){if(n instanceof Rt)throw new Rt(n.message)}}get root(){return this._exp_simp1.pop()}action1(){let e=this._termo1.pop();e!=null&&this._exp_simp1.push(e)}action2(){let e=this._exp_simp1.pop(),t=this._termo1.pop();if(e==null||t==null)return;let n=st.createUnionNode(e,t);n!=null&&this._exp_simp1.push(n)}action3(){let e=this._exp_simp1.pop(),t=this._exp_simp1.pop();if(t==null||e==null)return;let n=st.createContextNode(t,e);n!=null&&this._exp_simp1.push(n)}action4(){if(this._fator==null)return;let e=this._fator.pop();e!=null&&this._termo1.push(e)}action5(){let e=this._termo1.pop(),t=this._fator.pop();e==null||t==null||this._termo1.push(st.createConcatNode(e,t))}action6(){let e=this._fator.pop();e!=null&&this._fator.push(st.createClosureNode(e))}action7(){let e=this._fator.pop();e!=null&&this._fator.push(st.createClosureObNode(e))}action8(){let e=this._fator.pop();e!=null&&this._fator.push(st.createOptionalNode(e))}action9(){let e=this._exp_simp1.pop();e!=null&&this._fator.push(e)}action10(){this._fator.push(st.createAllNode())}action11(){if(this._token==null)return;let e=this._gen.getDefinitionById(this._token.lexeme);if(e==null)throw new Rt("Definição não declarada: "+this._token.lexeme,this._token.position);const t=Object.assign({},e);this._fator.push(Object.setPrototypeOf(t,st.prototype))}action12(){this._token!=null&&this._fator.push(st.createCharNode(this._token.lexeme.charAt(0)))}action13(){let e=this._fator.pop();e!=null&&this._fator.push(st.createComplementNode(e))}action14(){let e=this._fator.pop(),t=this._fator.pop();if(t==null||e==null)return;let n=st.createUnionNode(t,e);n!=null&&this._fator.push(n)}action15(){if(this._token==null)return;let e=this._fator.pop(),t=st.createCharNode(this._token.lexeme.charAt(0));if(e==null||t==null)return;let n=String.fromCharCode(e.alphabet.list()[0]),s=String.fromCharCode(t.alphabet.list()[0]);if(n>=s)throw new Rt("Intervalo inválido",this._token.position);this._fator.push(st.createIntervalNode(n,s))}};const Yt=["","Era esperado fim de linha",'Era esperado "|"','Era esperado "*"','Era esperado "+"','Era esperado "?"','Era esperado "("','Era esperado ")"','Era esperado "["','Era esperado "]"','Era esperado "."','Era esperado "^"','Era esperado "-"',"Era esperada uma definição","Era esperado um caractere","Era esperada uma expressão regular","Era esperada uma expressão regular","Era esperado ), |, ^ ou o fim da expressão","Era esperada uma expressão","Era esperada uma expressão","Contexto inválido","Termo inválido","Operador inválido","Fator inválido","Era esperado ^ ou um caractere","Classe de caracteres inválida","Item inválido: era esperado um caractere","Era esperado -, ], ou um caractere"];class Dd{constructor(){z(this,"_currentToken",null);z(this,"_previousToken",null);z(this,"_scanner",null);z(this,"_semanticAnalyser",null)}parse(e,t){if(this._scanner=new Gy(e),this._semanticAnalyser=new Ky(t),this._currentToken=this._scanner.nextToken(),this._currentToken==null&&(this._currentToken=new at(ao,"$",0)),this.reg_exp_ctxt(),this._currentToken.id!=ao)throw new _e(Yt[ao],this._currentToken.position);return this._semanticAnalyser.root}match(e){if(this._currentToken==null)throw new $e("Atributo durante comparação do REParser.");if(this._scanner==null)throw new $e("Scanner é nulo.");if(this._currentToken.id==e){if(this._previousToken=this._currentToken,this._currentToken=this._scanner.nextToken(),this._currentToken==null){let t=0;this._previousToken!=null&&(t=this._previousToken.position+this._previousToken.lexeme.length),this._currentToken=new at(ao,"$",t)}}else throw new _e(Yt[e],this._currentToken.position)}reg_exp_ctxt(){if(this._currentToken==null)throw new $e("Atributo Nulo durante reg_exp_ctxt do REParser.");switch(this._currentToken.id){case 6:case 8:case 10:case 13:case 14:this.reg_exp(),this.context();break;default:throw new _e(Yt[15],this._currentToken.position)}}reg_exp(){if(this._currentToken==null)throw new $e("Atributo Nulo durante reg_exp do REParser.");if(this._semanticAnalyser==null)throw new $e("Analisador Semântico é nulo.");switch(this._currentToken.id){case 6:case 8:case 10:case 13:case 14:this.exp(),this._semanticAnalyser.executeAction(1,this._previousToken),this.reg_exp_c();break;default:throw new _e(Yt[16],this._currentToken.position)}}reg_exp_c(){if(this._currentToken==null)throw new $e("Atributo Nulo durante reg_exp_c do REParser.");if(this._semanticAnalyser==null)throw new $e("Analisador Semântico é nulo.");switch(this._currentToken.id){case 1:case 7:case 11:break;case 2:this.match(2),this.exp(),this._semanticAnalyser.executeAction(2,this._previousToken),this.reg_exp_c();break;default:throw new _e(Yt[17],this._currentToken.position)}}exp(){if(this._currentToken==null)throw new $e("Atributo Nulo durante exp do REParser.");if(this._semanticAnalyser==null)throw new $e("Analisador Semântico é nulo.");switch(this._currentToken.id){case 6:case 8:case 10:case 13:case 14:this.term(),this._semanticAnalyser.executeAction(4,this._previousToken),this.exp_c();break;default:throw new _e(Yt[18],this._currentToken.position)}}exp_c(){if(this._currentToken==null)throw new $e("Atributo Nulo durante exp_c do REParser.");if(this._semanticAnalyser==null)throw new $e("Analisador Semântico é nulo.");switch(this._currentToken.id){case 1:case 2:case 7:case 11:break;case 6:case 8:case 10:case 13:case 14:this.term(),this._semanticAnalyser.executeAction(5,this._previousToken),this.exp_c();break;default:throw new _e(Yt[19],this._currentToken.position)}}context(){if(this._currentToken==null)throw new $e("Atributo Nulo durante context do REParser.");if(this._semanticAnalyser==null)throw new $e("Analisador Semântico é nulo.");switch(this._currentToken.id){case 1:break;case 11:this.match(11),this.reg_exp(),this._semanticAnalyser.executeAction(3,this._previousToken);break;default:throw new _e(Yt[20],this._currentToken.position)}}term(){if(this._currentToken==null)throw new $e("Atributo Nulo durante term do REParser.");switch(this._currentToken.id){case 6:case 8:case 10:case 13:case 14:this.factor(),this.op();break;default:throw new _e(Yt[21],this._currentToken.position)}}op(){if(this._currentToken==null)throw new $e("Atributo Nulo durante op do REParser.");if(this._semanticAnalyser==null)throw new $e("Analisador Semântico é nulo.");switch(this._currentToken.id){case 1:case 2:case 6:case 7:case 8:case 10:case 11:case 13:case 14:break;case 3:this.match(3),this._semanticAnalyser.executeAction(6,this._previousToken);break;case 4:this.match(4),this._semanticAnalyser.executeAction(7,this._previousToken);break;case 5:this.match(5),this._semanticAnalyser.executeAction(8,this._previousToken);break;default:throw new _e(Yt[22],this._currentToken.position)}}factor(){if(this._currentToken==null)throw new $e("Atributo Nulo durante factor do REParser.");if(this._semanticAnalyser==null)throw new $e("Analisador Semântico é nulo.");switch(this._currentToken.id){case 6:this.match(6),this.reg_exp(),this.match(7),this._semanticAnalyser.executeAction(9,this._previousToken);break;case 8:this.match(8),this.end_class();break;case 10:this.match(10),this._semanticAnalyser.executeAction(10,this._previousToken);break;case 13:this.match(13),this._semanticAnalyser.executeAction(11,this._previousToken);break;case 14:this.match(14),this._semanticAnalyser.executeAction(12,this._previousToken);break;default:throw new _e(Yt[23],this._currentToken.position)}}end_class(){if(this._currentToken==null)throw new $e("Atributo Nulo durante end_class do REParser.");if(this._semanticAnalyser==null)throw new $e("Analisador Semântico é nulo.");switch(this._currentToken.id){case 11:this.match(11),this.item(),this.class_c(),this.match(9),this._semanticAnalyser.executeAction(13,this._previousToken);break;case 14:this.item(),this.class_c(),this.match(9);break;default:throw new _e(Yt[24],this._currentToken.position)}}class_c(){if(this._currentToken==null)throw new $e("Atributo Nulo durante class_c do REParser.");if(this._semanticAnalyser==null)throw new $e("Analisador Semântico é nulo.");switch(this._currentToken.id){case 9:break;case 14:this.item(),this.class_c(),this._semanticAnalyser.executeAction(14,this._previousToken);break;default:throw new _e(Yt[25],this._currentToken.position)}}item(){if(this._currentToken==null)throw new $e("Atributo Nulo durante item do REParser.");if(this._semanticAnalyser==null)throw new $e("Analisador Semântico é nulo.");switch(this._currentToken.id){case 14:this.match(14),this._semanticAnalyser.executeAction(12,this._previousToken),this.end_interval();break;default:throw new _e(Yt[26],this._currentToken.position)}}end_interval(){if(this._currentToken==null)throw new $e("Atributo Nulo durante end_interval do REParser.");if(this._semanticAnalyser==null)throw new $e("Analisador Semântico é nulo.");switch(this._currentToken.id){case 9:case 14:break;case 12:this.match(12),this.match(14),this._semanticAnalyser.executeAction(15,this._previousToken);break;default:throw new _e(Yt[27],this._currentToken.position)}}}var Md=(i=>(i[i.DEFINITION=0]="DEFINITION",i[i.TOKEN=1]="TOKEN",i[i.NON_TERMINAL=2]="NON_TERMINAL",i[i.GRAMMAR=3]="GRAMMAR",i))(Md||{});const Ao=class Ao extends Error{constructor(t,n,s){super(s.message);z(this,"_mode");z(this,"_index");z(this,"_cause");this._cause=s,this._index=n,this._mode=t,Object.setPrototypeOf(this,Ao.prototype)}};z(Ao,"Mode",Md);let Tt=Ao;class qy{constructor(e,t){z(this,"_lexeme");z(this,"_base");this._lexeme=e,this._base=t}get lexeme(){return this._lexeme}get base(){return this._base}}class zd{constructor(){z(this,"_expressionFor",new Map);z(this,"_specialCasesValues",new Map);z(this,"_definitions",new qe);z(this,"_tokens",new qe);z(this,"_specialCases",new qe);z(this,"_ignore","")}addDefinition(e,t){this._definitions.add(e),this._expressionFor.set(e,t)}addToken(e,t){this._tokens.add(e),this._expressionFor.set(e,t)}clear(){this._definitions.clear,this._tokens.clear,this._specialCases.clear,this._expressionFor.clear,this._specialCasesValues.clear}expressionFor(e){return this._expressionFor.get(e)}get tokens(){return this._tokens}get definitions(){return this._definitions}get specialCases(){return this._specialCases}get ignore(){return this._ignore}addIgnore(e){this._ignore.length>0?this._ignore=this.ignore+"|"+e:this._ignore=e}addSpecialCase(e,t,n){this._specialCases.add(e),this._specialCasesValues.set(e,new qy(t,n))}getSpecialCaseValue(e){return this._specialCasesValues.get(e)}getFA(e){let t=new Dd,n=new Fd(e),s=-1;try{for(s=0;s<this._definitions.size();s++){let o=this.expressionFor(this._definitions.get(s));if(o==null)throw new $e("Expressão de Definições vazia.");let l=t.parse(o,n);if(l==null)throw new $e("Erro no Parse do Automata Finito.");n.addDefinition(this._definitions.get(s),l)}}catch(o){throw new Tt(Tt.Mode.DEFINITION,s,o)}try{for(s=0;s<this._tokens.size();s++){let o=this.expressionFor(this._tokens.get(s));if(o==null)throw new $e("Expressão de Token vazia.");let l=t.parse(o,n);if(l==null)throw new $e("Erro no Parse do Automata Finito.");n.addExpression(this._tokens.get(s),l,!0)}}catch(o){throw new Tt(Tt.Mode.TOKEN,s,o)}try{for(s=0;s<this._specialCases.size();s++){let o=this._specialCases.get(s),l=this._specialCasesValues.get(o);if(l==null)throw new $e("Valor do Caso Especial vazio.");n.addSpecialCase(o,l.base,l.lexeme)}}catch(o){throw new Tt(Tt.Mode.TOKEN,s,o)}try{if(this._ignore.length>0){let o=t.parse(this._ignore,n);if(o==null)throw new $e("Nó ignorado vazio.");n.addIgnore(o,!0)}}catch(o){throw new Tt(Tt.Mode.TOKEN,this._tokens.size(),o)}try{let o=n.generateAutomata();if(o==null)throw new $e("Erro ao criar Autômato Finito.");return o}catch(o){throw new Tt(Tt.Mode.TOKEN,this._tokens.size(),o)}}}class Be{}z(Be,"EPSILON",0),z(Be,"DOLLAR",1),z(Be,"DERIVES",2),z(Be,"PIPE",3),z(Be,"SEMICOLON",4),z(Be,"TERM",5),z(Be,"NON_TERM",6),z(Be,"ACTION",7),z(Be,"START_SYMBOL",8),z(Be,"FIRST_NON_TERMINAL",8),z(Be,"FIRST_SEMANTIC_ACTION",17),z(Be,"LAST_SEMANTIC_ACTION",22),z(Be,"TABLE",[[-1,-1,-1,-1,-1,0,-1],[2,-2,-2,-2,-2,1,-2],[-3,-3,-3,-3,-3,3,-3],[-4,-4,4,5,-4,-4,-4],[-5,-5,-5,-1,6,7,8],[-6,-6,10,10,9,9,9],[-7,-7,-7,-7,11,0,-7],[-8,-8,-8,-8,-8,12,-8],[-9,-9,-9,-9,-9,-9,13]]),z(Be,"PRODUCTIONS",[[10,9],[8],[0],[15,17,2,12,18,11,4],[3,12,18,11],[0],[14,19,13],[15,19,13],[16,20,13],[12],[0],[5,21],[6,21],[7,22]]),z(Be,"EXPECTED_MESSAGE",["î","$","::=","|",";","um símbolo terminal","um símbolo não-terminal","uma ação semântica"]),z(Be,"PARSER_ERROR",["Era esperado um Não-Terminal (Início de produção)","Era esperado um Não-Terminal (Início de produção)","Era esperado um Não-Terminal","Era esperado '|' ou ';'","Era esperado um Terminal, um Não-Terminal, ou uma Ação Semântica","Construção inválida","Era esperado um Terminal","Era esperado um Não-Terminal","Era esperado uma Ação Semântica"]);class Tf{constructor(e){z(this,"symbols");z(this,"actionCount",0);z(this,"lhs");z(this,"rhs");z(this,"productions");z(this,"token");this.symbols=e,this.lhs=0,this.rhs=[],this.productions=new qe,this.token=new at(-1,"ERROR",-1)}getPoductions(){return this.productions}executeAction(e,t){switch(this.token=t,e){case 0:this.action0();break;case 1:this.action1();break;case 2:this.action2();break;case 3:this.action3();break;case 4:this.action4();break;case 5:this.action5();break}}action0(){const e=this.symbols.get(this.token.lexeme);if(e===void 0)throw new Rt("Lexema não pode ser nulo");this.lhs=e}action1(){const e=new wr(null,this.lhs);for(let t=0;t<this.rhs.length;t++)e.add_rhs(this.rhs[t]);this.productions.add(e),this.rhs=[]}action2(){const e=this.symbols.get(this.token.lexeme);if(e===void 0)throw new Rt("Lexema não pode ser nulo");const t=e;t!=Be.EPSILON&&this.rhs.push(t)}action3(){const e=Number(this.token.lexeme);this.rhs.push(this.symbols.size+e+1)}action4(){if(!this.symbols.has(this.token.lexeme))throw new Rt("Símbolo "+this.token.lexeme+" não declarado",this.token.position)}action5(){const e=Number(this.token.lexeme);this.actionCount<e&&(this.actionCount=e)}}class pl{constructor(e){z(this,"input");z(this,"pos");z(this,"returnComents",!1);z(this,"endPosition");e==null?(this.input="",this.pos=-1,this.endPosition=-1):(this.input=e,this.pos=0,this.endPosition=e.length)}setReturnComents(e){this.returnComents=e}setInput(e){this.input=e,this.pos=0,this.endPosition=e.length}nextToken(){for(;this.hasMoreChars();){let e=this.pos,t=this.nextChar();switch(t){case" ":case`
`:case"\r":case"	":continue;case":":return this.analyseDerives();case"|":return new at(Be.PIPE,"|",e);case";":return new at(Be.SEMICOLON,";",e);case"#":return this.analyseAction();case"<":return this.analyseNonTerminal();case"_":case'"':return this.analyseTerminal(t);case"/":{let n=this.analyseComent();if(this.returnComents)return n;continue}default:if(this.isLetter(t))return this.analyseTerminal(t);throw new dt("Caracter Inválido: '"+t+"'",e)}}return null}isLetter(e){return/^[a-zA-Zî]+$/.test(e)}analyseComent(){let e=this.pos-1;if(!this.hasMoreChars())throw new dt("Caracter Inválido: '/'",e);let t=this.nextChar();if(t!="/")throw this.pushChar(),new dt("Caracter Inválido: '/'",e);let n="//";for(;this.hasMoreChars();){if(t=this.nextChar(),t==`
`){this.pushChar();break}n+=t}return new at(-1,n.toString(),e)}analyseDerives(){let e=this.pos-1;if(this.input.length-e>=3){let t=this.nextChar();if(t==":"&&(t=this.nextChar(),t=="="))return new at(Be.DERIVES,"::=",e)}throw new dt("Símbolo Inválido",e)}getPosition(){return this.pos}setPosition(e){this.pos=e}setEnd(e){this.endPosition=e}setRange(e,t){this.setPosition(e),this.setEnd(t)}analyseTerminal(e){let t=this.pos-1,n="";if(n+=e,e=='"'){let s=!1;for(;this.hasMoreChars();)if(e=this.nextChar(),n+=e,e=='"')if(this.hasMoreChars())if(e=this.nextChar(),e=='"')n+=e;else{this.pushChar(),s=!0;break}else s=!0;else if(e==`
`)throw new dt("Terminal inválido",t);if(n.length==0||!s)throw new dt("Terminal inválido",t)}else for(;this.hasMoreChars();){if(e=this.nextChar(),e!="_"&&!this.isLetterOrDigit(e)){this.pushChar();break}n+=e}return new at(Be.TERM,n.toString(),t)}isLetterOrDigit(e){return/^[a-zA-Z0-9]$/.test(e)}analyseNonTerminal(){let e=this.pos-1,t="",n="<";for(;this.hasMoreChars()&&(n=this.nextChar(),n!=">");){if(!this.isLetterOrDigit(n)&&n!="_")throw new dt("Não-Terminal inválido",e);t+=n}if(t.length==0||n!=">")throw new dt("Não-Terminal inválido",e);return new at(Be.NON_TERM,"<"+t+">",e)}analyseAction(){let e=this.pos-1,t="";for(;this.hasMoreChars();){let n=this.nextChar();if(!this.isDigit(n)){this.pushChar();break}t+=n}if(t.length==0)throw new dt("Ação Semântica inválida",e);return new at(Be.ACTION,t.toString(),e)}isDigit(e){return!isNaN(Number(e))&&!isNaN(parseInt(e))}hasMoreChars(){return this.pos<this.endPosition}nextChar(){return this.hasMoreChars()?this.input.charAt(this.pos++):String.fromCharCode(-1)}pushChar(){this.pos--}}class fs{constructor(){z(this,"stack",[]);z(this,"currentToken",null);z(this,"previousToken",new at(-1,"ERROR",-1));z(this,"scanner",new pl);z(this,"semanticAnalyser",new Tf(new Map))}parse(e,t,n){let s=new zn;s.set(Lr.EPSILON_STR,0);let o=2,l=new pl,u=0,h=new Set;try{for(let g=0;g<e.size();g++){let b=e.get(g);if(b==`
`){u++,e.removeByIndex(g),g--;continue}l.setInput(b);let m=l.nextToken();if(m==null)e.removeByIndex(g),g--;else{if(m.id!=Be.TERM)throw new Rt("Era esperada a declaração de um terminal",m.position);let A=m.lexeme;if(h.has(A))throw new Rt("Terminal repetido : "+A,m.position);if(h.add(A),e.set(g,A),s.set(A,o),o++,(m=l.nextToken())!=null)throw new Rt("Cada linha deve conter a declaração de apenas um símbolo terminal",m.position)}}if(e.size()==0)throw new Rt("Conjunto de Terminais não pode ser vazio",0)}catch(g){throw new Tt(Tt.Mode.TOKEN,u,g)}u=0,h=new Set;try{for(let g=0;g<t.size();g++){let b=t.get(g);if(b==`
`){u++,t.removeByIndex(g),g--;continue}l.setInput(b);let m=l.nextToken();if(m==null)t.removeByIndex(g),g--;else{if(m.id!=Be.NON_TERM)throw new Rt("Era esperada a declaração de um não-terminal",m.position);let A=m.lexeme;if(h.has(A))throw new Rt("Não-terminal repetido : "+A,m.position);if(h.add(A),t.set(g,A),s.set(A,o),o++,(m=l.nextToken())!=null)throw new Rt("Cada linha deve conter a declaração de apenas um símbolo não-terminal",m.position)}}if(t.size()==0)throw new Rt("Conjunto de Não-Terminais não pode ser vazio",0)}catch(g){throw new Tt(Tt.Mode.NON_TERMINAL,u,g)}try{this.parseByMap(n,s)}catch(g){throw new Tt(Tt.Mode.GRAMMAR,-1,g)}let f=this.semanticAnalyser.getPoductions(),v=2+e.size();return new Lr(e.toArray(),t.toArray(),f,v)}parseByMap(e,t){for(this.scanner=new pl(e),this.semanticAnalyser=new Tf(t),this.stack.push(Be.DOLLAR),this.stack.push(Be.START_SYMBOL),this.currentToken=this.scanner.nextToken();!this.step(););}step(){let e=this.stack.pop();if(e===void 0)return!1;let t;if(this.currentToken==null?t=Be.DOLLAR:t=this.currentToken.id,e==Be.EPSILON)return!1;if(this.isTerminal(e)){if(e==t)return this.stack.length==0?!0:(this.previousToken=this.currentToken,this.currentToken=this.scanner.nextToken(),!1);throw new _e("Era esperado "+Be.EXPECTED_MESSAGE[e],this.scanner.getPosition())}else if(this.isNonTerminal(e)){let n=Be.TABLE[e-Be.FIRST_NON_TERMINAL][t-1];if(n>=0){let s=Be.PRODUCTIONS[n];if(s===void 0)throw new _e("Produção não definida");for(let o=s.length-1;o>=0;o--)this.stack.push(s[o]);return!1}else throw new _e(Be.PARSER_ERROR[e-Be.FIRST_NON_TERMINAL],this.scanner.getPosition())}else if(this.isSemanticAction(e)){if(this.previousToken===null)throw new dt("Token anterior é Nulo");return this.semanticAnalyser.executeAction(e-Be.FIRST_SEMANTIC_ACTION,this.previousToken),!1}else return!1}isTerminal(e){return e>=0&&e<Be.FIRST_NON_TERMINAL}isNonTerminal(e){return e>=Be.FIRST_NON_TERMINAL&&e<Be.FIRST_SEMANTIC_ACTION}isSemanticAction(e){return e>=Be.FIRST_SEMANTIC_ACTION&&e<=Be.LAST_SEMANTIC_ACTION}}const It=class It{constructor(){z(this,"_text","");z(this,"_pos",0);z(this,"_endPos",0);z(this,"_regularMode",!1);z(this,"_specialCaseMode",!1)}set text(e){this._text=e,this.setRange(0,this._text.length),this._regularMode=!1,this._specialCaseMode=!1}setRange(e,t){this._pos=e,this._endPos=t}nextToken(){if(!this.hasMoreChars)return null;if(this._regularMode)return this._specialCaseMode?(this._regularMode=!1,this._specialCaseMode=!1,this.nextToken()):this.parseRE();for(;this.hasMoreChars();){let e=this._pos,t=this.nextChar();if(t==null)return null;switch(t){case`
`:case"\r":this._specialCaseMode=!1,this._regularMode=!1;case" ":continue;case"	":continue;case":":return this._regularMode=!0,new at(It.COLON,":",e);case"=":return this._specialCaseMode=!0,new at(It.EQUALS,"=",e);case'"':return this.getString();case"/":return this.getComment();default:return this.isLetter(t)?this.getId():this.getError()}}return null}parseRE(){let e=this._pos;for(this._regularMode=!1;this.hasMoreChars();){let n=this.nextChar();if(n==null)return null;if(n==`
`){this._pos--;break}else if(n=="/"&&this.hasMoreChars()){if(this.nextChar()=="/")return this._pos-=2,this._regularMode=!1,new at(It.RE,this._text.substring(e,this._pos),e);this._pos--}}let t=this._text.substring(e,this._pos);return new at(It.RE,t,e)}getString(){let e=this._pos-1;for(;this.hasMoreChars();){let t=this.nextChar();if(t==`
`)break;if(t=='"')if(this.hasMoreChars()){if(this.nextChar()!='"')return this._pos--,new at(It.STR,this._text.substring(e,this._pos),e)}else return new at(It.STR,this._text.substring(e,this._pos),e)}return new at(It.ERROR,this.text.substring(e,this._pos),e)}getId(){let e=this._pos-1;for(;this.hasMoreChars();){let t=this.nextChar();if(t==null)return null;if(!this.isLetterOrDigit(t)&&t!="_"){this._pos--;break}}return new at(It.ID,this._text.substring(e,this._pos),e)}getError(){let e=this._pos-1;for(;this.hasMoreChars();)if(` 	
\r`.indexOf(this.nextChar())==-1){this._pos--;break}return new at(It.ERROR,this._text.substring(e,this._pos),e)}getComment(){let e=this._pos-1;if(this.hasMoreChars()){if(this.nextChar()=="/"){for(;this.hasMoreChars();)if(this.nextChar()==`
`){this._pos--;break}return new at(It.COMMENT,this._text.substring(e,this._pos),e)}this._pos--}return new at(It.ERROR,this._text.substring(e,this._pos),e)}isLetter(e){return e.toLowerCase()!=e.toUpperCase()}isLetterOrDigit(e){return e.toLowerCase()!=e.toUpperCase()||this.isNumber(e)}isNumber(e){return typeof e!="string"||e.trim()===""?!1:!Number.isNaN(Number(e))}hasMoreChars(){return this._pos<this._endPos}nextChar(){return this.hasMoreChars()?this._text.charAt(this._pos++):String.fromCharCode(-1)}};z(It,"ID",0),z(It,"STR",1),z(It,"RE",2),z(It,"COLON",3),z(It,"EQUALS",4),z(It,"COMMENT",5),z(It,"ERROR",6);let Dt=It;class Jr{constructor(){z(this,"scanner",new Dt);z(this,"pos",0);z(this,"gen",null)}parseFA(e,t,n){this.gen=new Fd(n);try{this.parseDefs(e)}catch(s){Or.Instance.add(s)}this.parseTokens(t);try{let s=this.gen.generateAutomata();if(s==null)throw new $e("Automato gerado é nulo");return s}catch(s){throw console.log(s),new Tt(Tt.Mode.TOKEN,0,s)}}parseDefs(e){if(this.gen==null)return;let t=e.split(/(\n)/g);for(let n of t)if(n!=`
`){this.scanner.text=n;try{let s=this.nextToken();if(this.pos=0,s!=null&&s.id==Dt.ID){let o=s.lexeme;if(this.pos=s.position+o.length,s=this.nextToken(),s!=null&&s.id==Dt.COLON)if(this.pos=s.position+1,s=this.nextToken(),s!=null&&s.id==Dt.RE){let l=s.lexeme;try{let u=this.parseRE(l);if(u==null)return;this.gen.addDefinition(o,u)}catch(u){let h=u;throw h.position=h.position+this.pos,h}}else throw new _e("Era esperado uma Expressão Regular",this.pos);else throw new _e("Era esperado ':'",this.pos)}else{if(s==null)continue;throw new _e("Era esperado um identificador",this.pos)}}catch(s){throw new Tt(Tt.Mode.DEFINITION,0,s)}}}parseTokens(e){let t=0,n=e.split(/(\n)/g);for(let s of n){if(s===`
`){t++;continue}this.scanner.text=s;try{let o=this.nextToken();if(this.pos=0,o!=null)switch(this.pos=o.position+o.lexeme.length,o.id){case Dt.COLON:this.parseIgnore();break;case Dt.ID:case Dt.STR:this.parseId(o);break;default:throw new _e("Era esperado um identificador",0)}}catch(o){throw new Tt(Tt.Mode.TOKEN,t,o)}}}parseIgnore(){let e=this.nextToken();if(e!=null&&e.id==Dt.RE){let t=e.lexeme;try{if(this.gen==null)throw new $e("Gerador de Autômatos Finitos não inicializado!");if(t.charAt(0)=="!"){let n=this.parseRE(t.substring(1));n!=null&&this.gen.addIgnore(n,!1)}else{let n=this.parseRE(t);n!=null&&this.gen.addIgnore(n,!0)}}catch(n){let s=n;throw s.position=s.position+e.position,s}}else throw new _e("Era esperado uma Expressão Regular",this.pos)}parseId(e){if(e==null)return;let t=e.lexeme;if(e=this.nextToken(),e==null)try{if(this.gen==null)return;let n=this.parseRE(t);if(n==null)return;this.gen.addExpression(t,n,!0)}catch(n){let s=n;throw s.position=s.position,s}else switch(this.pos=e.position+e.lexeme.length,e.id){case Dt.COLON:this.parseIdEnd(t);break;case Dt.EQUALS:this.parseSpecialCase(t);break;default:throw this.pos=e.position,new _e("Era esperado ':' ou '='",this.pos)}}parseIdEnd(e){let t=this.nextToken();if(t==null||t.id!=Dt.RE)throw new _e("Era esperado uma Expressão Regular",this.pos);let n=t.lexeme;try{if(this.gen==null)return;if(n.charAt(0)=="!"){let s=this.parseRE(n.substring(1));s!=null&&this.gen.addExpression(e,s,!1)}else{let s=this.parseRE(n);s!=null&&this.gen.addExpression(e,s,!0)}}catch(s){let o=s;throw o.position=o.position+t.position,o}}parseSpecialCase(e){let t=this.nextToken();if(t!=null&&t.id==Dt.ID){let n=t.lexeme;if(this.pos=t.position+e.length,t=this.nextToken(),t!=null&&t.id==Dt.COLON)if(this.pos=t.position+1,t=this.nextToken(),t!=null&&t.id==Dt.STR){let s=t.lexeme;s=s.substring(1,s.length-1);try{if(this.gen==null)return;this.gen.addSpecialCase(e,n,s)}catch(o){let l=o;throw l.position=l.position+t.position,l}if(t=this.nextToken(),t!=null)throw new _e("Só é permitido uma definição por linha",t.position)}else throw new _e("Era esperado uma Expressão Regular",this.pos);else throw new _e("Era esperado ':'",this.pos)}else throw new _e("Era esperado um Identificador",this.pos)}nextToken(){let e=this.scanner.nextToken();if(e!=null){if(e.id==Dt.COMMENT)e=this.nextToken();else if(e.id==Dt.ERROR)throw new dt("Token inválido",e.position)}return e}parseRE(e){let t=new Dd;if(this.gen!=null)return t.parse(e,this.gen)}}const ko=class ko{constructor(e){z(this,"stack",new Rr);z(this,"scanner",null);z(this,"currentToken",null);z(this,"previousToken",null);z(this,"table");z(this,"productions");z(this,"semanticStart");z(this,"symbols");z(this,"nodeStack",new Rr);z(this,"errors");this.table=e.buildTable(),this.semanticStart=e.firstSemanticAction;const t=e.grammar.productions;this.productions=[],this.symbols=e.grammar.symbols;for(let n=0;n<t.size();n++)this.productions[n]=[],this.productions[n][0]=t.get(n).get_lhs(),this.productions[n][1]=t.get(n).get_rhs().length;this.errors=e.getErrors(this.table)}parse(e,t){this.scanner=e,this.nodeStack.clear(),this.stack.clear(),this.stack.push(0),this.currentToken=e.nextToken();try{for(;!this.step(););const n=this.nodeStack.pop();if(n===void 0)throw new _e("Node is Null");t.add(n)}catch(n){for(let s=0;s<this.nodeStack.size();s++){const o=this.nodeStack.get(s);if(o===void 0)throw new _e("Node is Null");t.add(o)}t.add(new hn(n.message)),console.log(n)}return t}step(){const e=this.stack.peek();if(this.currentToken==null){let s=0;this.previousToken!=null&&(s=this.previousToken.position+this.previousToken.lexeme.length),this.currentToken=new at(ko.DOLLAR,"$",s)}const t=this.currentToken.id;if(e===void 0)throw new _e("State is undefined");const n=this.table[e][t-1];switch(n.getType()){case _t.SHIFT:if(this.stack.push(n.getParameter()),this.nodeStack.push(new hn(this.symbols[this.currentToken.id])),this.previousToken=this.currentToken,this.scanner===null)throw new _e("Scanner is Null");return this.currentToken=this.scanner.nextToken(),!1;case _t.REDUCE:const s=this.productions[n.getParameter()],o=new Rr;for(let f=0;f<s[1];f++){this.stack.pop();const v=this.nodeStack.pop();if(v===void 0)throw new _e("Node is Null");o.push(v)}const l=this.stack.peek();if(l===void 0)throw new _e("Old State is Null");this.stack.push(this.table[l][s[0]-1].getParameter());const u=new hn(this.symbols[s[0]]);for(;o.size()>0;){const f=o.pop();if(f===void 0)throw new _e("Pivot is Null");u.add(f)}return this.nodeStack.push(u),!1;case _t.ACTION:const h=this.semanticStart+n.getParameter()-1;return this.stack.push(this.table[e][h].getParameter()),this.nodeStack.push(new hn("#"+n.getParameter())),!1;case _t.ACCEPT:return!0;case _t.ERROR:throw new _e("Era esperado: "+this.errors.get(e),this.currentToken.position)}return!1}};z(ko,"DOLLAR",1);let Ol=ko;class Zy{constructor(){z(this,"lrTable",null)}generate(e,t,n){const s=new Map;return s.set("Token.java",this.generateToken(n)),s.set("Constants.java",this.generateConstants(e,t,n)),e!==null&&s.set("ScannerConstants.java",this.generateScannerConstants(e,n)),t!==null&&s.set("ParserConstants.java",this.generateParserConstants(t,n)),s.set("AnalysisError.java",this.generateAnalysisError(n)),s.set("LexicalError.java",this.generateLexicalError(n)),s.set("SyntacticError.java",this.generateSyntacticError(n)),s.set("SemanticError.java",this.generateSemanticError(n)),s}generateToken(e){const t=[],n=e.pkgName;return n&&n!==""&&t.push(`package ${n};

`),t.push(`public class Token
{
    private int id;
    private String lexeme;
    private int position;

    public Token(int id, String lexeme, int position)
    {
        this.id = id;
        this.lexeme = lexeme;
        this.position = position;
    }

    public final int getId()
    {
        return id;
    }

    public final String getLexeme()
    {
        return lexeme;
    }

    public final int getPosition()
    {
        return position;
    }

    public String toString()
    {
        return id+" ( "+lexeme+" ) @ "+position;
    };
}
`),t.join(`
`)}generateAnalysisError(e){const t=[],n=e.pkgName;return n&&n!==""&&t.push(`package ${n};
`),t.push(`public class AnalysisError extends Exception
{
    private int position;

    public AnalysisError(String msg, int position)
    {
        super(msg);
        this.position = position;
    }

    public AnalysisError(String msg)
    {
        super(msg);
        this.position = -1;
    }

    public int getPosition()
    {
        return position;
    }

    public String toString()
    {
        return super.toString() + ", @ "+position;
    }
}
`),t.join(`
`)}generateLexicalError(e){const t=[],n=e.pkgName;return n&&n!==""&&t.push(`package ${n};
`),t.push(`public class LexicalError extends AnalysisError
{
    public LexicalError(String msg, int position)
	 {
        super(msg, position);
    }

    public LexicalError(String msg)
    {
        super(msg);
    }
}
`),t.join(`
`)}generateSyntacticError(e){const t=[],n=e.pkgName;return n&&n!==""&&t.push(`package ${n};

`),t.push(`public class SyntaticError extends AnalysisError
{
    public SyntaticError(String msg, int position)
	 {
        super(msg, position);
    }

    public SyntaticError(String msg)
    {
        super(msg);
    }
}
`),t.join(`
`)}generateSemanticError(e){const t=[],n=e.pkgName;return n&&n!==""&&t.push(`package ${n};

`),t.push(`public class SemanticError extends AnalysisError
{
    public SemanticError(String msg, int position)
	 {
        super(msg, position);
    }

    public SemanticError(String msg)
    {
        super(msg);
    }
}
`),t.join(`
`)}generateConstants(e,t,n){const s=[],o=n.pkgName;o&&o!==""&&s.push(`package ${o};
`);let l=null;if(e===null?l="ParserConstants":t===null?l="ScannerConstants":l="ScannerConstants, ParserConstants",e===null)throw new dt("Automato Finito é nulo");if(t===null)throw new _e("Gramatica é nulo");return s.push("public interface Constants extends "+l+`
{
    int EPSILON  = 0;
    int DOLLAR   = 1;

`+this.constList(e,t)+`
}
`),s.join(`
`)}generateScannerConstants(e,t){const n=[],s=t.pkgName;if(s&&s!==""&&n.push(`package ${s};

`),n.push(`public interface ScannerConstants
{
`),e==null)throw new dt("Automato Finito é nulo.");return n.push(this.genLexTables(e,t)),n.push(`}
`),n.join(`
`)}generateParserConstants(e,t){const n=[],s=t.pkgName;if(s&&s!==""&&n.push(`package ${s};
`),n.push(`public interface ParserConstants
{`),e===null)throw new _e("Gramatica é nulo");const o=this.genSyntTables(e,t);if(o===null)throw new _e("Tabela Sintatica é nula");return n.push(o),n.push("}"),n.join(`
`)}genLexTables(e,t){let n;switch(t.scannerTable){case he.SCANNER_TABLE_FULL:n=this.lex_table(e);break;case he.SCANNER_TABLE_COMPACT:n=this.lex_table_compress(e);break;case he.SCANNER_TABLE_HARDCODE:n="";break;default:n="";break}return n+`
`+this.token_state(e)+(e.hasContext()?`
`+this.context(e):"")+`
`+(e.specialCases.length>0?this.special_cases(e)+`
`:"")+this.scanner_error(e)+`
`}context(e){const t=[];t.push(`    int[][] SCANNER_CONTEXT =
    {
`);for(let n=0;n<e.transitions.size();n++)t.push("        {"),t.push(e.isContext(n)?"1":"0"),t.push(", "),t.push(e.getOrigin(n).toString()),t.push(`},
`);return t.pop(),t.push(`
    };
`),t.join("")}scanner_error(e){const t=[];t.push(`    String[] SCANNER_ERROR =
    {
`);const n=e.transitions.size();for(let s=0;s<n;s++){t.push('        "');const o=e.getError(s);for(let l=0;l<o.length;l++)o.charAt(l)=='"'?t.push('\\"'):t.push(o.charAt(l));t.push(`",
`)}return t.pop(),t.push('"'),t.push(`
    };
`),t.join("")}genSyntTables(e,t){switch(t.parser){case he.PARSER_REC_DESC:case he.PARSER_LL:return this.genLLSyntTables(e,t.parser);case he.PARSER_SLR:case he.PARSER_LALR:case he.PARSER_LR:return this.genLRSyntTables(e,he.PARSER_SLR);default:return null}}genLRSyntTables(e,t){const n=Wo.createGenerator(e,t);if(n==null)throw new _e("Gerador de Tabela é nulo.");this.lrTable=n.buildIntTable();const s=[];return s.push("    int FIRST_SEMANTIC_ACTION = "+e.FIRST_SEMANTIC_ACTION()+`;

    int SHIFT  = 0;
    int REDUCE = 1;
    int ACTION = 2;
    int ACCEPT = 3;
    int GO_TO  = 4;
    int ERROR  = 5;
`),s.push(`
`),s.push(this.emitLRTable(e)),s.push(`
`),s.push(this.emitProductionsForLR(e)),s.push(`
`),s.push(this.emitErrorTableLR()),s.join("")}emitProductionsForLR(e){const t=[],n=e.productions;t.push(`    int[][] PRODUCTIONS =
`),t.push(`    {
`);for(let s=0;s<n.size();s++)t.push("        { "),t.push(n.get(s).get_lhs().toString()),t.push(", "),t.push(n.get(s).get_rhs().length.toString()),t.push(` },
`);return t.pop(),t.push(" }"),t.push(`
    };
`),t.join("")}emitLRTable(e){const t=[];if(this.lrTable===null)throw new _e("Tabela LR está nula.");const n=this.lrTable;t.push(`    int[][][] PARSER_TABLE =
`),t.push(`    {
`);let s=n.length;e.productions.size()>s&&(s=e.productions.size()),s=(""+s).length;for(let o=0;o<n.length;o++){t.push("        {");for(let l=0;l<n[o].length;l++){t.push(" {"),t.push(_t.CONSTANTS[n[o][l][0]]),t.push(", ");const u=""+n[o][l][1];for(let h=u.length;h<s;h++)t.push(" ");t.push(u),t.push("},")}t.pop(),t.push("}"),t.push(` },
`)}return t.pop(),t.push(" }"),t.push(`
    };
`),t.join("")}genLLSyntTables(e,t){const n=[];if(t==he.PARSER_LL){const s=e.startSymbol,o=e.FIRST_NON_TERMINAL,l=e.symbols.length,u="    int START_SYMBOL = "+s+`;

    int FIRST_NON_TERMINAL    = `+o+`;
    int FIRST_SEMANTIC_ACTION = `+l+`;
`;return n.push(u),n.push(`
`),n.push(`
`),n.push(this.emitProductionsForLL(e)),n.push(`
`),n.join("")}else return t==he.PARSER_REC_DESC,null}constList(e,t){const n=[];let s=[];if(e!=null)s=e.tokens.toArray();else if(t!=null)s=t.terminals;else throw new Error("Erro Interno");for(let o=0;o<s.length;o++){const l=s[o];l.charAt(0)=='"'?n.push("    int t_TOKEN_"+(o+2)+" = "+(o+2)+"; //"+l+`
`):n.push("    int t_"+l+" = "+(o+2)+`;
`)}return n.join("")}lex_table_compress(e){const t=[],n=e.transitions,s=new Array(n.size()+1).fill(-1);let o=0;for(let u=0;u<n.size();u++)s[u]=o,o+=n.get(u).size;s[s.length-1]=o;const l=new Array(o).fill(0).map(()=>new Array(2).fill(0));o=0;for(let u=0;u<n.size();u++)for(const[h,f]of n.get(u).entries())l[o][0]=h.charCodeAt(0),l[o][1]=f,o++;t.push(`    int[] SCANNER_TABLE_INDEXES = 
`),t.push(`    {
`);for(let u=0;u<s.length;u++)t.push("        "),t.push(s[u].toString()),t.push(`,
`);t.pop(),t.push(`
    };

`),t.push(`    int[][] SCANNER_TABLE = 
`),t.push(`    {
`);for(let u=0;u<l.length;u++)t.push("        {"),t.push(l[u][0].toString()),t.push(", "),t.push(l[u][1].toString()),t.push(`},
`);return t.pop(),t.push("}"),t.push(`
    };
`),t.join("")}lex_table(e){const t=[];t.push(`    int[][] SCANNER_TABLE = 
`),t.push(`    {
`);const n=e.transitions.size();let s=n.toString().length;s==1&&(s=2);for(let o=0;o<n;o++){t.push("        { ");for(let l=0;l<256;l++){const u=e.nextState(String.fromCharCode(l),o).toString();for(let h=u.length;h<s;h++)t.push(" ");t.push(u),t.push(", ")}t.pop(),t.push(` },
`)}return t.pop(),t.push(" }"),t.push(`
    };
`),t.join("")}token_state(e){const t=[];t.push("    int[] TOKEN_STATE = {");const n=e.transitions.size();let s=n.toString().length;s==1&&(s=2);for(let o=0;o<n;o++){const u=e.tokenForState(o).toString();for(let h=u.length;h<s;h++)t.push(" ");t.push(u),t.push(", ")}return t.pop(),t.push(` };
`),t.join("")}special_cases(e){const t=e.getSpecialCasesIndexes(),n=e.specialCases,s=[];let o=n.length;s.push(`    int[] SPECIAL_CASES_INDEXES =
        { `),o=t.length;for(let l=0;l<o;l++)s.push(t[l][0].toString()),s.push(", ");s.push(t[o-1][1].toString()),s.push(` };

`),s.push(`    String[] SPECIAL_CASES_KEYS =
        {  `),o=n.length;for(let l=0;l<o;l++)s.push('"'),s.push(n[l].key),s.push('", ');s.pop(),s.push('"'),s.push(` };

`),s.push(`    int[] SPECIAL_CASES_VALUES =
        {  `),o=n.length;for(let l=0;l<o;l++)s.push(n[l].value.toString()),s.push(", ");return s.pop(),s.push(` };
`),s.join("")}emitProductionsForLL(e){const t=e.productions,n=new Array(t.size()).fill([]);let s=0;for(let l=0;l<t.size();l++){const u=t.get(l).get_rhs();if(u.length>0){n[l]=[];for(let h=0;h<u.length;h++)n[l][h]=u[h].toString(),n[l][h].length>s&&(s=n[l][h].length)}else n[l]=new Array(1),n[l][0]="0"}const o=[];o.push(`    int[][] PRODUCTIONS = 
`),o.push(`    {
`);for(let l=0;l<n.length;l++){o.push("        {");for(let u=0;u<n[l].length;u++){o.push(" ");for(let h=n[l][u].length;h<s;h++)o.push(" ");o.push(n[l][u]),o.push(",")}o.pop(),o.push(` },
`)}return o.pop(),o.push(` }
`),o.push(`
    };
`),o.join("")}emitErrorTableLR(){if(this.lrTable==null)throw new _e("Tabela LR está nula.");const e=this.lrTable.length,t=[];t.push(`    String[] PARSER_ERROR =
    {
`);for(let n=0;n<e;n++)t.push('        "Erro estado '+n),t.push(`",
`);return t.pop(),t.push('"'),t.push(`
    };
`),t.join("")}emitErrorTableLL(e){const t=e.symbols,n=[];n.push(`    String[] PARSER_ERROR =
    {
        "",
        "Era esperado fim de programa",
`);for(let s=2;s<e.FIRST_NON_TERMINAL;s++){n.push('        "Era esperado ');for(let o=0;o<t[s].length;o++)switch(t[s].charAt(o)){case'"':n.push('\\"');break;case"\\":n.push("\\\\");break;default:n.push(t[s].charAt(o))}n.push(`",
`)}for(let s=e.FIRST_NON_TERMINAL;s<t.length;s++)n.push('        "'+t[s]+" inválido");return n.push(`",
`),n.pop(),n.push('"'),n.push(`
    };
`),n.join("")}}class Yy{constructor(){z(this,"sensitive",!0);z(this,"lookup",!0)}generate(e,t){const n=new Map,s=t.scannerName;let o;return e!=null?(this.sensitive=t.scannerCaseSensitive,this.lookup=e.specialCases.length>0,o=this.buildScanner(e,t)):o=this.buildEmptyScanner(t),n.set(s+".java",o),n}buildEmptyScanner(e){const t=[],n=e.pkgName;t.push(this.emitPackage(n));const s="public class "+e.scannerName+` implements Constants
{
    public Token nextToken() throws LexicalError
    {
        return null;
    }
}
`;return t.push(s),t.toString()}buildScanner(e,t){let n,s,o;t.input==he.INPUT_STREAM?(n="java.io.Reader",s=`StringBuffer bfr = new StringBuffer();
        try
        {
            int c = input.read();
            while (c != -1)
            {
                bfr.append((char)c);
                c = input.read();
            }
            this.input = bfr.toString();
        }
        catch (java.io.IOException e)
        {
            e.printStackTrace();
        }
`,o='this(new java.io.StringReader(""));'):t.input==he.INPUT_STRING?(n="String",s="this.input = input;",o='this("");'):(n="",s="",o="");const l=t.pkgName;return this.emitPackage(l)+"public class "+t.scannerName+` implements Constants
{
    private int position;
    private String input;

    public `+t.scannerName+`()
    {
        `+o+`
    }

    public `+t.scannerName+"("+n+` input)
    {
        setInput(input);
    }

    public void setInput(`+n+` input)
    {
        `+s+`
        setPosition(0);
    }

    public void setPosition(int pos)
    {
        position = pos;
    }

`+this.mainDriver(e)+`
`+this.auxFuncions(e,t)+`}
`}emitPackage(e){return e!=null&&e!==""?"package "+e+`;

`:""}mainDriver(e){return`    public Token nextToken() throws LexicalError
    {
        if ( ! hasInput() )
            return null;

        int start = position;

        int state = 0;
        int lastState = 0;
        int endState = -1;
        int end = -1;
`+(e.hasContext()?`        int ctxtState = -1;
        int ctxtEnd = -1;
`:"")+`
        while (hasInput())
        {
            lastState = state;
            state = nextState(nextChar(), state);

            if (state < 0)
                break;

            else
            {
                if (tokenForState(state) >= 0)
                {
                    endState = state;
                    end = position;
                }
`+(e.hasContext()?`                if (SCANNER_CONTEXT[state][0] == 1)
                {
                    ctxtState = state;
                    ctxtEnd = position;
                }
`:"")+`            }
        }
        if (endState < 0 || (endState != state && tokenForState(lastState) == -2))
            throw new LexicalError(SCANNER_ERROR[lastState], start);

`+(e.hasContext()?`        if (ctxtState != -1 && SCANNER_CONTEXT[endState][1] == ctxtState)
            end = ctxtEnd;

`:"")+`        position = end;

        int token = tokenForState(endState);

        if (token == 0)
            return nextToken();
        else
        {
            String lexeme = input.substring(start, end);
`+(this.lookup?`            token = lookupToken(token, lexeme);
`:"")+`            return new Token(token, lexeme, start);
        }
    }
`}auxFuncions(e,t){let n;switch(t.scannerTable){case he.SCANNER_TABLE_FULL:n=`    private int nextState(char c, int state)
    {
        int next = SCANNER_TABLE[state][c];
        return next;
    }
`;break;case he.SCANNER_TABLE_COMPACT:n=`    private int nextState(char c, int state)
    {
        int start = SCANNER_TABLE_INDEXES[state];
        int end   = SCANNER_TABLE_INDEXES[state+1]-1;

        while (start <= end)
        {
            int half = (start+end)/2;

            if (SCANNER_TABLE[half][0] == c)
                return SCANNER_TABLE[half][1];
            else if (SCANNER_TABLE[half][0] < c)
                start = half+1;
            else  //(SCANNER_TABLE[half][0] > c)
                end = half-1;
        }

        return -1;
    }
`;break;case he.SCANNER_TABLE_HARDCODE:{const s=e.transitions,o=[];for(let l=0;l<s.size();l++){const u=s.get(l);if(u.size!=0){o.push("            case "+l+`:
                switch (c)
                {
`);for(const[h,f]of u.entries()){const v=h,g=f;o.push("                    case "+v+": return "+g+`;
`)}o.push(`                    default: return -1;
                }
`)}}n=`    private int nextState(char c, int state)
    {
        switch (state)
        {
`+o.toString()+`            default: return -1;
        }
    }
`}break;default:n=null}return n+`
    private int tokenForState(int state)
    {
        if (state < 0 || state >= TOKEN_STATE.length)
            return -1;

        return TOKEN_STATE[state];
    }

`+(this.lookup?`    public int lookupToken(int base, String key)
    {
        int start = SPECIAL_CASES_INDEXES[base];
        int end   = SPECIAL_CASES_INDEXES[base+1]-1;

`+(this.sensitive?"":`        key = key.toUpperCase();

`)+`        while (start <= end)
        {
            int half = (start+end)/2;
            int comp = SPECIAL_CASES_KEYS[half].compareTo(key);

            if (comp == 0)
                return SPECIAL_CASES_VALUES[half];
            else if (comp < 0)
                start = half+1;
            else  //(comp > 0)
                end = half-1;
        }

        return base;
    }

`:"")+`    private boolean hasInput()
    {
        return position < input.length();
    }

    private char nextChar()
    {
        if (hasInput())
            return input.charAt(position++);
        else
            return (char) -1;
    }
`}}class Vy{constructor(e){z(this,"input",new zn);z(this,"lhs");this.lhs=e}}class su{constructor(e){z(this,"_grammar");z(this,"_llTable");z(this,"_symbols");z(this,"_functions",new Map);this._grammar=e,this._llTable=[],this._symbols=e.symbols;for(let t=0;t<this._symbols.length;t++)this._symbols[t].charAt(0)=="<"&&(this._symbols[t]=this._symbols[t].substring(1,this._symbols[t].length-1));this.build()}getSymbols(e){return this._symbols[e]}getStart(){return this._symbols[this._grammar.startSymbol]}build(){const e=this._grammar.productions.toArray();for(let t=0;t<this._llTable.length;t++){const n=t+this._grammar.FIRST_NON_TERMINAL,s=new Vy(n);this._functions.set(this._symbols[n],s);for(let o=0;o<this._llTable[0].length;o++){const l=this._llTable[t][o];if(l>=0){const u=o+1,f=e[l].get_rhs();s.input.set(u,f)}}}return this._functions}}class Xy{generate(e,t){const n=new Map;if(e!=null){const s=t.parserName;let o;switch(t.parser){case he.PARSER_REC_DESC:o=this.buildRecursiveDecendantParser(e,t);break;case he.PARSER_LL:o=this.buildLLParser(e,t);break;case he.PARSER_SLR:case he.PARSER_LALR:case he.PARSER_LR:o=this.buildLRParser(e,t);break;default:o=null}if(o===null)throw new _e("String do Parser é nulo.");n.set(s+".java",o),n.set(t.semanticName+".java",this.generateSemanticAnalyser(t))}return n}buildRecursiveDecendantParser(e,t){const n=[],s=t.pkgName;return n.push(this.emitPackage(s)),n.push(this.emitRecursiveDecendantClass(e,t)),n.join("'")}buildLLParser(e,t){const n=[],s=t.pkgName;return n.push(this.emitPackage(s)),n.push(this.emitImports()),n.push(this.emitLLClass(e,t)),n.join("")}buildLRParser(e,t){const n=[],s=t.pkgName;return n.push(this.emitPackage(s)),n.push(this.emitImports()),n.push(this.emitLRClass(e,t)),n.join("")}emitPackage(e){return e!=null&&e!==""?"package "+e+`;
`:""}emitImports(){return`import java.util.Stack;

`}emitLRClass(e,t){const n=[],s=t.parserName;n.push("public class "),n.push(s),n.push(` implements Constants
{
`);const o=t.scannerName,l=t.semanticName,u=`    private Stack stack = new Stack();
    private Token currentToken;
    private Token previousToken;
    private `+o+` scanner;
    private `+l+` semanticAnalyser;

`;return n.push(u),n.push("    public void parse("+o+" scanner, "+l+` semanticAnalyser) throws LexicalError, SyntaticError, SemanticError
    {
        this.scanner = scanner;
        this.semanticAnalyser = semanticAnalyser;

        stack.clear();
        stack.push(new Integer(0));

        currentToken = scanner.nextToken();

        while ( ! step() )
            ;
    }

    private boolean step() throws LexicalError, SyntaticError, SemanticError
    {
        if (currentToken == null)
        {
            int pos = 0;
            if (previousToken != null)
                pos = previousToken.getPosition()+previousToken.getLexeme().length();

            currentToken = new Token(DOLLAR, "$", pos);
        }

        int token = currentToken.getId();
        int state = ((Integer)stack.peek()).intValue();

        int[] cmd = PARSER_TABLE[state][token-1];

        switch (cmd[0])
        {
            case SHIFT:
                stack.push(new Integer(cmd[1]));
                previousToken = currentToken;
                currentToken = scanner.nextToken();
                return false;

            case REDUCE:
                int[] prod = PRODUCTIONS[cmd[1]];

                for (int i=0; i<prod[1]; i++)
                    stack.pop();

                int oldState = ((Integer)stack.peek()).intValue();
                stack.push(new Integer(PARSER_TABLE[oldState][prod[0]-1][1]));
                return false;

            case ACTION:
                int action = FIRST_SEMANTIC_ACTION + cmd[1] - 1;
                stack.push(new Integer(PARSER_TABLE[state][action][1]));
                semanticAnalyser.executeAction(cmd[1], previousToken);
                return false;

            case ACCEPT:
                return true;

            case ERROR:
                throw new SyntaticError(PARSER_ERROR[state], currentToken.getPosition());
        }
        return false;
    }

`),n.push(`}
`),n.join("")}emitLLClass(e,t){const n=[],s=t.parserName;n.push("public class "),n.push(s),n.push(` implements Constants
{
`);const o=t.scannerName,l=t.semanticName,u=`    private Stack stack = new Stack();
    private Token currentToken;
    private Token previousToken;
    private `+o+` scanner;
    private `+l+` semanticAnalyser;

`;return n.push(u),n.push(this.emitLLFunctions(t)),n.push(`}
`),n.join("")}emitLLFunctions(e){const t=[];return t.push(this.emitTesters()),t.push(`
`),t.push(this.emitStep()),t.push(`
`),t.push(this.emitDriver(e)),t.join("")}emitTesters(){return`    private static final boolean isTerminal(int x)
    {
        return x < FIRST_NON_TERMINAL;
    }

    private static final boolean isNonTerminal(int x)
    {
        return x >= FIRST_NON_TERMINAL && x < FIRST_SEMANTIC_ACTION;
    }

    private static final boolean isSemanticAction(int x)
    {
        return x >= FIRST_SEMANTIC_ACTION;
    }
`}emitDriver(e){const t=e.scannerName,n=e.semanticName;return"    public void parse("+t+" scanner, "+n+` semanticAnalyser) throws LexicalError, SyntaticError, SemanticError
    {
        this.scanner = scanner;
        this.semanticAnalyser = semanticAnalyser;

        stack.clear();
        stack.push(new Integer(DOLLAR));
        stack.push(new Integer(START_SYMBOL));

        currentToken = scanner.nextToken();

        while ( ! step() )
            ;
    }
`}emitStep(){return`    private boolean step() throws LexicalError, SyntaticError, SemanticError
    {
        if (currentToken == null)
        {
            int pos = 0;
            if (previousToken != null)
                pos = previousToken.getPosition()+previousToken.getLexeme().length();

            currentToken = new Token(DOLLAR, "$", pos);
        }

        int x = ((Integer)stack.pop()).intValue();
        int a = currentToken.getId();

        if (x == EPSILON)
        {
            return false;
        }
        else if (isTerminal(x))
        {
            if (x == a)
            {
                if (stack.empty())
                    return true;
                else
                {
                    previousToken = currentToken;
                    currentToken = scanner.nextToken();
                    return false;
                }
            }
            else
            {
                throw new SyntaticError(PARSER_ERROR[x], currentToken.getPosition());
            }
        }
        else if (isNonTerminal(x))
        {
            if (pushProduction(x, a))
                return false;
            else
                throw new SyntaticError(PARSER_ERROR[x], currentToken.getPosition());
        }
        else // isSemanticAction(x)
        {
            semanticAnalyser.executeAction(x-FIRST_SEMANTIC_ACTION, previousToken);
            return false;
        }
    }

    private boolean pushProduction(int topStack, int tokenInput)
    {
        int p = PARSER_TABLE[topStack-FIRST_NON_TERMINAL][tokenInput-1];
        if (p >= 0)
        {
            int[] production = PRODUCTIONS[p];
            //empilha a produção em ordem reversa
            for (int i=production.length-1; i>=0; i--)
            {
                stack.push(new Integer(production[i]));
            }
            return true;
        }
        else
            return false;
    }
`}emitRecursiveDecendantClass(e,t){const n=new su(e),s=[],o=t.parserName;s.push("public class "),s.push(o),s.push(` implements Constants
{
`);const l=t.scannerName,u=t.semanticName,h=`    private Token currentToken;
    private Token previousToken;
    private `+l+` scanner;
    private `+u+` semanticAnalyser;

`;s.push(h),s.push("    public void parse("+l+" scanner, "+u+` semanticAnalyser) throws AnalysisError
    {
        this.scanner = scanner;
        this.semanticAnalyser = semanticAnalyser;

        currentToken = scanner.nextToken();
        if (currentToken == null)
            currentToken = new Token(DOLLAR, "$", 0);

        `+n.getStart()+`();

        if (currentToken.getId() != DOLLAR)
            throw new SyntaticError(PARSER_ERROR[DOLLAR], currentToken.getPosition());
    }

    private void match(int token) throws AnalysisError
    {
        if (currentToken.getId() == token)
        {
            previousToken = currentToken;
            currentToken = scanner.nextToken();
            if (currentToken == null)
            {
                int pos = 0;
                if (previousToken != null)
                    pos = previousToken.getPosition()+previousToken.getLexeme().length();

                currentToken = new Token(DOLLAR, "$", pos);
            }
        }
        else
            throw new SyntaticError(PARSER_ERROR[token], currentToken.getPosition());
    }

`);const f=n.build();for(let v=e.FIRST_NON_TERMINAL;v<e.FIRST_SEMANTIC_ACTION();v++){const g=n.getSymbols(v),b=f.get(g);if(s.push("    private void "+g+`() throws AnalysisError
    {
        switch (currentToken.getId())
        {
`),b==null)throw new Ai("Gramática não é LL.");const m=Array.from(b.input.keys());for(let A=0;A<m.length;A++){const _=b.input.get(m[A]);let E=m[A];s.push("            case "+E+": // "+n.getSymbols(E)+`
`);for(let w=A+1;w<m.length;w++)b.input.get(m[w])===_&&(E=m[w],s.push("            case "+E+": // "+n.getSymbols(E)+`
`),m.slice(w,w),w--);if(_===void 0)throw new Ai("Gramática não é LL.");_.length==0&&s.push(`                // EPSILON
`);for(let w=0;w<_.length;w++){const S=_[w];e.isTerminal(S)?s.push("                match("+S+"); // "+n.getSymbols(S)+`
`):e.isNonTerminal(S)?s.push("                "+n.getSymbols(S)+`();
`):s.push("                semanticAnalyser.executeAction("+(S-e.FIRST_SEMANTIC_ACTION())+`, previousToken);
`)}s.push(`                break;
`)}s.push(`            default:
                throw new SyntaticError(PARSER_ERROR[`+b.lhs+`], currentToken.getPosition());
        }
    }

`)}return s.push(`}
`),s.join("")}generateSemanticAnalyser(e){const t=[],n=e.pkgName;n!=null&&n!==""&&t.push("package "+n+`;
`);const s="public class "+e.semanticName+` implements Constants
{
    public void executeAction(int action, Token token)	throws SemanticError
    {
        System.out.println("Ação #"+action+", Token: "+token);
    }	
}
`;return t.push(s),t.join("")}}class Jy extends Id{constructor(){super(...arguments);z(this,"conflict",null);z(this,"stackTop",null)}resolve(t,n){return 1}setup(t,n){this.conflict=t,this.stackTop=n}}class ou{constructor(e){z(this,"g");if(!e.isFactored())throw new Ai("Gramática não Fatorada");if(e.hasLeftRecursion())throw new Ai("Gramática possui Recursão à Esquerda");this.g=e}getGrammar(){return this.g}lookahead(e){if(this.g==null)throw new _e("Gramatica é nula");const t=this.g.first(e.get_rhs());return t.contains(0)&&(t.delete(0),t.addAll(this.g.followSet[e.get_lhs()])),t}generateTable(){if(this.g==null)throw new _e("Gramatica é nula");const e=this.g.symbols,t=[];for(let s=0;s<e.length-this.g.FIRST_NON_TERMINAL;s++){t[s]=[];for(let o=0;o<this.g.FIRST_NON_TERMINAL-1;o++)t[s][o]=new it}for(let s=0;s<this.g.productions.size();s++){const o=this.g.productions.get(s),l=this.lookahead(o);for(let u=1;u<this.g.FIRST_NON_TERMINAL;u++)l.contains(u)&&t[o.get_lhs()-this.g.FIRST_NON_TERMINAL][u-1].add(s)}const n=new Jy;return this.resolveConflicts(t,n)}resolveConflicts(e,t){if(this.g==null)throw new _e("Gramatica é nula");const n=[];for(let s=0;s<e.length;s++){n[s]=[];for(let o=0;o<e[s].length;o++)switch(e[s][o].size){case 0:n[s][o]=-1;break;case 1:n[s][o]=e[s][o].first();break;default:t.setup(e[s][o],s),n[s][o]=t.resolve(this.g,o);break}}return n}tableAsHTML(){if(this.g==null)throw new _e("Gramatica é nula");const e=this.generateTable();let t="";t+='<HTML><HEAD><TITLE>Tabela de Análise LL(1)</TITLE></HEAD><BODY><FONT face="Verdana, Arial, Helvetica, sans-serif"><TABLE border=1 cellspacing=0>',t+="<TR align=center><TD bgcolor=black><FONT color=white><B>&nbsp;</B></FONT></TD><TD bgcolor=black><FONT color=white><B>$</B></FONT></TD>";for(let n=Lr.FIRST_TERMINAL;n<this.g.FIRST_NON_TERMINAL;n++)t+="<TD nowrap bgcolor=black><FONT color=white><B>"+jn.translateString(this.g.symbols[n])+"</B></FONT></TD>";t+="</TR>";for(let n=0;n<e.length;n++){t+="<TR align=center><TD nowrap bgcolor=black><FONT color=white><B>"+jn.translateString(this.g.symbols[n+this.g.FIRST_NON_TERMINAL])+"</B></FONT></TD>";for(let s=0;s<e[n].length;s++){const o=e[n][s];o>=0?t+="<TD width=40 bgcolor=#F5F5F5>"+o+"</TD>":t+="<TD width=40 bgcolor=#F5F5F5>-</TD>"}t+="</TR>"}t+="</TABLE>",t+="<BR></FONT><CODE><TABLE border=0>";for(let n=0;n<this.g.productions.size();n++)t+="<TR>",t+="<TD align=right nowrap>"+n+"&nbsp;-&nbsp;</TD>",t+="<TD>"+jn.translateString(this.g.productions.get(n).toString())+"</TD>",t+="</TR>";return t+="</TABLE></CODE></BODY></HTML>",t.toString()}}class Qy{constructor(){z(this,"lrTable",null)}generate(e,t,n){const s=new Map;if(e===null||t===null)throw new Error("FiniteAutomata and Grammar must not be null");return s.set("Token.h",this.generateToken(n)),s.set("Constants.h",this.generateConstantsH(e,t,n)),s.set("Constants.cpp",this.generateConstantsCpp(e,t,n)),s.set("AnalysisError.h",this.generateAnalysisError(n)),s.set("LexicalError.h",this.generateLexicalError(n)),s.set("SyntaticError.h",this.generateSyntaticError(n)),s.set("SemanticError.h",this.generateSemanticError(n)),s}openNamespace(e){const t=e.pkgName;return t!=null&&t!==""?"namespace "+t+` {

`:""}closeNamespace(e){const t=e.pkgName;return t!=null&&t!==""?"} //namespace "+t+`

`:""}generateToken(e){return`#ifndef TOKEN_H
#define TOKEN_H

#include "Constants.h"

#include <string>

`+this.openNamespace(e)+`class Token
{
public:
    Token(TokenId id, const std::string &lexeme, int position)
      : id(id), lexeme(lexeme), position(position) { }

    TokenId getId() const { return id; }
    const std::string &getLexeme() const { return lexeme; }
    int getPosition() const { return position; }

private:
    TokenId id;
    std::string lexeme;
    int position;
};

`+this.closeNamespace(e)+`#endif
`}generateAnalysisError(e){return`#ifndef ANALYSIS_ERROR_H
#define ANALYSIS_ERROR_H

#include <string>

`+this.openNamespace(e)+`class AnalysisError
{
public:

    AnalysisError(const std::string &msg, int position = -1)
      : message(msg), position(position) { }

    const char *getMessage() const { return message.c_str(); }
    int getPosition() const { return position; }

private:
    std::string message;
    int position;
};

`+this.closeNamespace(e)+`#endif
`}generateLexicalError(e){return`#ifndef LEXICAL_ERROR_H
#define LEXICAL_ERROR_H

#include "AnalysisError.h"

#include <string>

`+this.openNamespace(e)+`class LexicalError : public AnalysisError
{
public:

    LexicalError(const std::string &msg, int position = -1)
      : AnalysisError(msg, position) { }
};

`+this.closeNamespace(e)+`#endif
`}generateSyntaticError(e){return`#ifndef SYNTATIC_ERROR_H
#define SYNTATIC_ERROR_H

#include "AnalysisError.h"

#include <string>

`+this.openNamespace(e)+`class SyntaticError : public AnalysisError
{
public:

    SyntaticError(const std::string &msg, int position = -1)
      : AnalysisError(msg, position) { }
};

`+this.closeNamespace(e)+`#endif
`}generateSemanticError(e){return`#ifndef SEMANTIC_ERROR_H
#define SEMANTIC_ERROR_H

#include "AnalysisError.h"

#include <string>

`+this.openNamespace(e)+`class SemanticError : public AnalysisError
{
public:

    SemanticError(const std::string &msg, int position = -1)
      : AnalysisError(msg, position) { }
};

`+this.closeNamespace(e)+`#endif
`}generateConstantsH(e,t,n){return`#ifndef CONSTANTS_H
#define CONSTANTS_H

`+this.openNamespace(n)+`enum TokenId 
{
    EPSILON  = 0,
    DOLLAR   = 1,
`+this.constList(e,t)+`};

`+this.lexDecls(e,n)+this.syntDecls(t,n)+this.closeNamespace(n)+`#endif
`}constList(e,t){let n="",s=null;if(e!=null)s=e.tokens.toArray();else if(t!=null)s=t.terminals;else throw new Error("Erro Interno");for(let o=0;o<s.length;o++){const l=s[o];l.charAt(0)=='"'?n+="    t_TOKEN_"+(o+2)+" = "+(o+2)+", //"+l+`
`:n+="    t_"+l+" = "+(o+2)+`,
`}return n=n.slice(0,-2),n+=`
`,n.toString()}lexDecls(e,t){return e==null?"":"const int STATES_COUNT = "+e.transitions.size()+`;
`+(t.scannerTable==he.SCANNER_TABLE_HARDCODE?"":`
extern int SCANNER_TABLE[STATES_COUNT][256];
`)+`
extern int TOKEN_STATE[STATES_COUNT];

`+(e.hasContext()?`extern int SCANNER_CONTEXT[STATES_COUNT][2];

`:"")+(e.specialCases.length>0?"extern int SPECIAL_CASES_INDEXES["+(e.getSpecialCasesIndexes().length+1)+`];

extern const char *SPECIAL_CASES_KEYS[`+e.specialCases.length+`];

extern int SPECIAL_CASES_VALUES[`+e.specialCases.length+`];

`:"")+`extern const char *SCANNER_ERROR[STATES_COUNT];

`}syntDecls(e,t){if(e==null)return"";switch(t.parser){case he.PARSER_REC_DESC:{const n=e.FIRST_SEMANTIC_ACTION()-e.FIRST_NON_TERMINAL;return"extern const char *PARSER_ERROR["+(e.FIRST_NON_TERMINAL+n)+`];

`}case he.PARSER_LL:{let n=0;for(let o=0;o<e.productions.size();o++){const l=e.productions.get(o).get_rhs().length;l>n&&(n=l)}const s=e.FIRST_SEMANTIC_ACTION()-e.FIRST_NON_TERMINAL;return"const int START_SYMBOL = "+e.startSymbol+`;

const int FIRST_NON_TERMINAL    = `+e.FIRST_NON_TERMINAL+`;
const int FIRST_SEMANTIC_ACTION = `+e.FIRST_SEMANTIC_ACTION()+`;

extern int PARSER_TABLE[`+s+"]["+(e.FIRST_NON_TERMINAL-1)+`];

extern int PRODUCTIONS[`+e.productions.size()+"]["+(n+1)+`];

extern const char *PARSER_ERROR[`+(e.FIRST_NON_TERMINAL+s)+`];

`}default:{const n=Wo.createGenerator(e,he.PARSER_SLR);if(n==null)throw new _e("Gerador de Tabela é nulo.");return this.lrTable=n.buildIntTable(),"const int FIRST_SEMANTIC_ACTION = "+e.FIRST_SEMANTIC_ACTION()+`;

const int SHIFT  = 0;
const int REDUCE = 1;
const int ACTION = 2;
const int ACCEPT = 3;
const int GO_TO  = 4;
const int ERROR  = 5;

extern const int PARSER_TABLE[`+this.lrTable.length+"]["+this.lrTable[0].length+`][2];

extern const int PRODUCTIONS[`+e.productions.size()+`][2];

extern const char *PARSER_ERROR[`+this.lrTable.length+`];

`}}}generateConstantsCpp(e,t,n){return`#include "Constants.h"

`+this.openNamespace(n)+this.lexTables(e,n)+this.syntTables(t,n)+this.closeNamespace(n)}lexTables(e,t){if(e==null)return"";let n,s,o="";o+=this.scannerTable(e,t)+`
`,o+="int TOKEN_STATE[STATES_COUNT] = {",n=e.transitions.size(),s=n.toString().length,s==1&&(s=2);for(let l=0;l<n;l++){const h=e.tokenForState(l).toString();for(let f=h.length;f<s;f++)o+=" ";o+=h+", "}o=o.slice(0,-2),o+=` };

`,o+=this.context(e),o+=this.specialCases(e),o+=`const char *SCANNER_ERROR[STATES_COUNT] =
{
`,n=e.transitions.size();for(let l=0;l<n;l++){o+='        "';const u=e.getError(l);for(let h=0;h<u.length;h++)u.charAt(h)=='"'?o+='\\"':o+=u.charAt(h);o+=`",
`}return o=o.slice(0,-2),o+=`
};

`,o.toString()}context(e){if(!e.hasContext())return"";let t="";t+=`int SCANNER_CONTEXT[STATES_COUNT][2] =
{
`;for(let n=0;n<e.transitions.size();n++)t+="    {",t+=e.isContext(n)?"1":"0",t+=", ",t+=e.getOrigin(n),t+=`},
`;return t=t.slice(0,-2),t+=`
};

`,t.toString()}scannerTable(e,t){if(t.scannerTable==he.SCANNER_TABLE_HARDCODE)return"";let n="";n+=`int SCANNER_TABLE[STATES_COUNT][256] = 
`,n+=`{
`;const s=e.transitions.size();let o=s.toString().length;o==1&&(o=2);for(let l=0;l<s;l++){n+="    { ";for(let u=0;u<256;u++){const h=e.nextState(String.fromCharCode(u),l).toString();for(let f=h.length;f<o;f++)n+=" ";n+=h+", ",u==200&&(n+=`
      `)}n=n.slice(0,-2),n+=` },
`}return n=n.slice(0,-2),n+=`
};
`,n.toString()}specialCases(e){if(e.specialCases.length>0){const t=e.getSpecialCasesIndexes(),n=e.specialCases;let s="",o=n.length;s+="int SPECIAL_CASES_INDEXES["+(t.length+1)+`] =
    { `,o=t.length;for(let l=0;l<o;l++)s+=t[l][0]+", ";s+=t[o-1][1],s=s.slice(0,-2),s+=` };

`,o=n.length,s+="const char *SPECIAL_CASES_KEYS["+o+`] =
    { `,o=n.length;for(let l=0;l<o;l++)s+='"'+n[l].key+'", ';s=s.slice(0,-2),s+=` };

`,s+="int SPECIAL_CASES_VALUES["+o+`] =
    { `;for(let l=0;l<o;l++)s+=n[l].value+", ";return s=s.slice(0,-2),s+=` };

`,s.toString()}else return""}syntTables(e,t){if(e==null)return"";switch(t.parser){case he.PARSER_REC_DESC:return this.syntErrorsLL(e);case he.PARSER_LL:return this.syntTransTable(new ou(e))+this.productionsLL(e)+this.syntErrorsLL(e);default:return this.syntTransTable(e)+this.productionsLR(e)+this.syntErrorsLR()}}productionsLR(e){let t="";const n=e.productions.toArray();t+="const int PRODUCTIONS["+n.length+`][2] =
`,t+=`{
`;for(let s=0;s<n.length;s++)t+="    { ",t+=n[s].get_lhs(),t+=", ",t+=n[s].get_rhs().length,t+=` },
`;return t=t.slice(0,-2),t+=`
};
`,t.toString()}syntTransTable(e){return e instanceof Lr?this.syntTransTableGrammar(e):this.syntTransTableLL(e)}syntTransTableGrammar(e){if(this.lrTable===null)throw new _e("Tabela LR está nula.");let t="";t+="const int PARSER_TABLE["+this.lrTable.length+"]["+this.lrTable[0].length+`][2] =
`,t+=`{
`;let n=this.lrTable.length;e.productions.size()>n&&(n=e.productions.size()),n=(""+n).length;for(let s=0;s<this.lrTable.length;s++){t+="    {";for(let o=0;o<this.lrTable[s].length;o++){t+=" {",t+=_t.CONSTANTS[this.lrTable[s][o][0]],t+=", ";const l=""+this.lrTable[s][o][1];for(let u=l.length;u<n;u++)t+=" ";t+=l+"},"}t=t.slice(0,-1),t+=` },
`}return t=t.slice(0,-2),t+=`
};
`,t.toString()}syntTransTableLL(e){const t=e.generateTable(),n=[];let s=0;for(let l=0;l<n.length;l++){n[l]=[];for(let u=0;u<n[l].length;u++){const h=t[l][u].toString();n[l][u]=h,h.length>s&&(s=h.length)}}let o="";o+("int PARSER_TABLE["+n.length+"]["+n[0].length+`] =
`),o+"";for(let l=0;l<n.length;l++){o+"";for(let u=0;u<n[l].length;u++){o+"";for(let h=n[l][u].length;h<s;h++)o+"";o+n[l][u]+""}o=o.slice(0,-1)}return o=o.slice(0,-2),o.toString()}productionsLL(e){const t=e.productions.toArray(),n=[];let s=0,o=0;for(let u=0;u<t.length;u++){const h=t[u].get_rhs();if(h.length>o&&(o=h.length),h.length>0){n[u]=[],n[u][0]=h.length.toString();for(let f=0;f<h.length;f++)n[u][f+1]=h[f].toString(),n[u][f+1].length>s&&(s=n[u][f+1].length)}else n[u]=[],n[u][0]="1",n[u][1]="0"}let l="";l+("int PRODUCTIONS["+t.length+"]["+(o+1)+`] = 
`),l+"";for(let u=0;u<n.length;u++){l+"";for(let h=0;h<n[u].length;h++){l+"";for(let f=n[u][h].length;f<s;f++)l+"";l+n[u][h]+""}for(let h=n[u].length;h<=o;h++){l+"";for(let f=1;f<s;f++)l+"";l+""}l=l.slice(0,-1)}return l=l.slice(0,-2),l.toString()}syntErrorsLL(e){const t=e.symbols;let n="";n+="const char *PARSER_ERROR["+e.FIRST_SEMANTIC_ACTION()+`] =
{
    "",
    "Era esperado fim de programa",
`;for(let s=2;s<e.FIRST_NON_TERMINAL;s++){n+='    "Era esperado ';for(let o=0;o<t[s].length;o++)switch(t[s].charAt(o)){case'"':n+='\\"';break;case"\\":n+="\\\\";break;default:n+=t[s].charAt(o)}n+=`",
`}for(let s=e.FIRST_NON_TERMINAL;s<t.length;s++)n+='    "'+t[s]+` inválido",
`;return n=n.slice(0,-2),n+=`
};

`,n.toString()}syntErrorsLR(){if(this.lrTable===null)throw new _e("Tabela LR está nula.");let e="";e+="const char *PARSER_ERROR["+this.lrTable.length+`] =
{
`;for(let t=0;t<this.lrTable.length;t++)e+='    "Erro estado '+t+`",
`;return e=e.slice(0,-2),e+=`
};

`,e.toString()}}class ew{constructor(){z(this,"sensitive",!0);z(this,"lookup",!0)}generate(e,t){const n=new Map,s=t.scannerName;let o,l;return e!=null?(this.sensitive=t.scannerCaseSensitive,this.lookup=e.specialCases.length>0,o=this.buildScannerH(e,t),l=this.buildScannerCpp(e,t)):(o=this.buildEmptyScannerH(t),l=this.buildEmptyScannerCpp(t)),n.set(s+".h",o),n.set(s+".cpp",l),n}openNamespace(e){const t=e.pkgName;return t!=null&&t!==""?"namespace "+t+` {

`:""}closeNamespace(e){const t=e.pkgName;return t!=null&&t!==""?"} //namespace "+t+`

`:""}buildScannerH(e,t){let n="";const s=t.scannerName;let o,l,u;t.input==he.INPUT_STREAM?(o="std::istream &",l=`#include <iostream>
`,u="    "+s+"("+o+`input) { setInput(input); }
    `+s+`() : input(""), position(0) { }
`):t.input==he.INPUT_STRING?(o="const char *",l="",u="    "+s+"("+o+`input = "") { setInput(input); }
`):(o=null,l=null,u=null),n+="#ifndef "+s.toUpperCase()+`_H
`,n+="#define "+s.toUpperCase()+`_H
`,n+=`
#include "Token.h"
#include "LexicalError.h"

#include <string>
`+l+`
`,n+=this.openNamespace(t);const h="class "+s+`
{
public:
`+u+`
    void setInput(`+o+`input);
    void setPosition(unsigned pos) { position = pos; }
    Token *nextToken() throw (LexicalError);

private:
    unsigned position;
    std::string input;

    int nextState(unsigned char c, int state) const;
    TokenId tokenForState(int state) const;
`+(this.lookup?`    TokenId lookupToken(TokenId base, const std::string &key);
`:"")+`
    bool hasInput() const { return position < input.size(); }
    char nextChar() { return hasInput() ? input[position++] : (char) -1; }
};

`;return n+=h,n+=this.closeNamespace(t),n+=`#endif
`,n.toString()}buildScannerCpp(e,t){let n="";const s=t.scannerName;n+='#include "'+s+`.h"

`,this.sensitive||(n+=`#include <cctype>

`),n+=this.openNamespace(t);let o,l;t.input==he.INPUT_STREAM?(o="std::istream &",l=`    std::istreambuf_iterator<char> in(input);
    std::istreambuf_iterator<char> eof;

    this->input.assign(in, eof);

`):t.input==he.INPUT_STRING?(o="const char *",l=`    this->input = input;
`):(o=null,l=null);const u="void "+s+"::setInput("+o+`input)
{
`+l+`    setPosition(0);
}

Token *`+s+`::nextToken()
{
    if ( ! hasInput() )
        return 0;

    unsigned start = position;

    int state = 0;
    int oldState = 0;
    int endState = -1;
    int end = -1;
`+(e.hasContext()?`    int ctxtState = -1;
    int ctxtEnd = -1;
`:"")+`
    while (hasInput())
    {
        oldState = state;
        state = nextState(nextChar(), state);

        if (state < 0)
            break;

        else
        {
            if (tokenForState(state) >= 0)
            {
                endState = state;
                end = position;
            }
`+(e.hasContext()?`            if (SCANNER_CONTEXT[state][0] == 1)
            {
                ctxtState = state;
                ctxtEnd = position;
            }
`:"")+`        }
    }
    if (endState < 0 || (endState != state && tokenForState(oldState) == -2))
        throw LexicalError(SCANNER_ERROR[oldState], start);

`+(e.hasContext()?`    if (ctxtState != -1 && SCANNER_CONTEXT[endState][1] == ctxtState)
        end = ctxtEnd;

`:"")+`    position = end;

    TokenId token = tokenForState(endState);

    if (token == 0)
        return nextToken();
    else
    {
            std::string lexeme = input.substr(start, end-start);
`+(this.lookup?`            token = lookupToken(token, lexeme);
`:"")+`            return new Token(token, lexeme, start);
    }
}

int `+s+`::nextState(unsigned char c, int state) const
{
`+this.nextStateImpl(e,t)+`}

TokenId `+s+`::tokenForState(int state) const
{
    int token = -1;

    if (state >= 0 && state < STATES_COUNT)
        token = TOKEN_STATE[state];

    return static_cast<TokenId>(token);
}

`+(this.lookup?"TokenId "+s+`::lookupToken(TokenId base, const std::string &key)
{
    int start = SPECIAL_CASES_INDEXES[base];
    int end   = SPECIAL_CASES_INDEXES[base+1]-1;

`+(this.sensitive?"":`    std::string key_u = key;
    for (int i=0; i<key.size(); i++)
        key_u[i] = std::toupper(key_u[i]);

`)+`    while (start <= end)
    {
        int half = (start+end)/2;
        const std::string current = SPECIAL_CASES_KEYS[half];

`+(this.sensitive?`        if (current == key)
`:`        if (current == key_u)
`)+`            return static_cast<TokenId>(SPECIAL_CASES_VALUES[half]);
`+(this.sensitive?`        else if (current < key)
`:`        else if (current < key_u)
`)+`            start = half+1;
        else  //(current > key)
            end = half-1;
    }

    return base;
}

`:"");return n+=u,n+=this.closeNamespace(t),n.toString()}nextStateImpl(e,t){switch(t.scannerTable){case he.SCANNER_TABLE_FULL:case he.SCANNER_TABLE_COMPACT:return`    int next = SCANNER_TABLE[state][c];
    return next;
`;case he.SCANNER_TABLE_HARDCODE:{const n=e.transitions;let s="";for(let o=0;o<n.size();o++){const l=n.get(o);if(l.size!=0){s+="        case "+o+`:
            switch (c)
            {
`;for(const[u,h]of l.entries()){const f=u,v=h;s+=`                case ${f.charCodeAt(0)}: return ${v};
`}s+=`                default: return -1;
            }
`}}return`    switch (state)
    {
`+s.toString()+`        default: return -1;
    }
`}default:return""}}buildEmptyScannerH(e){let t="";const n=e.scannerName;t+="#ifndef "+n.toUpperCase()+`_H
`,t+="#define "+n.toUpperCase()+`_H
`,t+=`
#include "Token.h"
#include "LexicalError.h"

`,t+=this.openNamespace(e);const s="class "+n+`
{
public:

    Token *nextToken() throw (LexicalError);

};

`;return t+=s,t+=this.closeNamespace(e),t+=`#endif
`,t.toString()}buildEmptyScannerCpp(e){let t="";const n=e.scannerName;t+='#include "'+n+`.h"

`,t+=this.openNamespace(e);const s="Token *"+n+`::nextToken()
{
    return 0;
}

`;return t+=s,t+=this.closeNamespace(e),t.toString()}}class tw{constructor(){z(this,"rd")}generate(e,t){const n=new Map;if(e!=null){const s=t.parserName;n.set(s+".h",this.parserH(e,t)),n.set(s+".cpp",this.parserCpp(e,t)),n.set(t.semanticName+".cpp",this.semanticAnalyserCpp(t)),n.set(t.semanticName+".h",this.semanticAnalyserH(t))}return n}openNamespace(e){const t=e.pkgName;return t!=null&&t!==""?"namespace "+t+` {

`:""}closeNamespace(e){const t=e.pkgName;return t!=null&&t!==""?"} //namespace "+t+`

`:""}semanticAnalyserH(e){const t=e.semanticName;return"#ifndef "+t.toUpperCase()+`_H
#define `+t.toUpperCase()+`_H

#include "Token.h"
#include "SemanticError.h"

`+this.openNamespace(e)+"class "+t+`
{
public:
    void executeAction(int action, const Token *token)
};

`+this.closeNamespace(e)+`#endif
`}semanticAnalyserCpp(e){const t=e.semanticName;return'#include "'+t+`.h"
#include "Constants.h"

#include <iostream>

`+this.openNamespace(e)+"void "+t+`::executeAction(int action, const Token *token)
{
    std::cout << "Ação: " << action << ", Token: "  << token->getId() 
              << ", Lexema: " << token->getLexeme() << std::endl;
}

`+this.closeNamespace(e)}parserH(e,t){const n=t.scannerName,s=t.parserName,o=t.semanticName,l=t.parser,u=l==he.PARSER_REC_DESC;let h="";if(u){this.rd=new su(e);let v="";v+="    void match(int token) throw (AnalysisError);";for(let g=e.FIRST_NON_TERMINAL;g<e.FIRST_SEMANTIC_ACTION();g++)v+="    void "+this.rd.getSymbols(g)+`() throw (AnalysisError);
`;h=v.toString()}return"#ifndef "+s+`_H
#define `+s+`_H

#include "Constants.h"
#include "Token.h"
#include "`+n+`.h"
#include "`+o+`.h"
#include "SyntaticError.h"

`+(u?"":`#include <stack>

`)+this.openNamespace(t)+"class "+s+`
{
public:
    `+s+`() : previousToken(0), currentToken(0) { }

    ~`+s+`()
    {
        if (previousToken != 0 && previousToken != currentToken) delete previousToken;
        if (currentToken != 0)  delete currentToken;
    }

    void parse(`+n+" *scanner, "+o+` *semanticAnalyser);

private:
`+(u?"":`    std::stack<int> stack;
`)+`    Token *currentToken;
    Token *previousToken;
    `+n+` *scanner;
    `+o+` *semanticAnalyser;

`+(u?h:`    bool step()
`+(l==he.PARSER_LL?`    bool pushProduction(int topStack, int tokenInput);

    static bool isTerminal(int x) { return x < FIRST_NON_TERMINAL; }
    static bool isNonTerminal(int x) { return x >= FIRST_NON_TERMINAL && x < FIRST_SEMANTIC_ACTION; }
    static bool isSemanticAction(int x) { return x >= FIRST_SEMANTIC_ACTION; }
`:""))+`};

`+this.closeNamespace(t)+`#endif
`}parserCpp(e,t){switch(t.parser){case he.PARSER_REC_DESC:return this.parserCppRecursiveDescendant(e,t);case he.PARSER_LL:return this.parserCppLL(e,t);default:return this.parserCppLR(e,t)}}parserCppRecursiveDescendant(e,t){if(this.rd==null)throw new _e("RecursiveDescendent é nulo.");const n=t.scannerName,s=t.parserName,o=t.semanticName,l='#include "'+s+`.h"

`+this.openNamespace(t)+"void "+s+"::parse("+n+" *scanner, "+o+` *semanticAnalyser);
{
    this->scanner = scanner;
    this->semanticAnalyser = semanticAnalyser;

    if (previousToken != 0 && previousToken != currentToken)
        delete previousToken;
    previousToken = 0;

    if (currentToken != 0)
        delete currentToken;
    currentToken = scanner->nextToken();
    if (currentToken == 0)
        currentToken = new Token(DOLLAR, "$", 0);

    `+this.rd.getStart()+`();

    if (currentToken->getId() != DOLLAR)
        throw SyntaticError(PARSER_ERROR[DOLLAR], currentToken->getPosition());
}

void `+s+`::match(int token) throw (AnalysisError)
{
    if (currentToken->getId() == token)
    {
        if (previousToken != 0)
            delete previousToken;
        previousToken = currentToken;
        currentToken = scanner->nextToken();
        if (currentToken == 0)
        {
            int pos = 0;
            if (previousToken != 0)
                pos = previousToken->getPosition()+previousToken->getLexeme().size();

            currentToken = new Token(DOLLAR, "$", pos);
        }
    }
    else
        throw SyntaticError(PARSER_ERROR[token], currentToken->getPosition());
}
`;let u="";const h=this.rd.build();for(let v=e.FIRST_NON_TERMINAL;v<e.FIRST_SEMANTIC_ACTION();v++){const g=this.rd.getSymbols(v),b=h.get(g);if(b==null)throw new _e("FunctionCustom é nulo");u+=`
void `+s+"::"+g+`()
{
    switch (currentToken->getId())
    {
`;const m=Object.keys(b.input).map(Number);for(let A=0;A<m.length;A++){const _=b.input.get(m[A]);let E=m[A];u+="        case "+E+": // "+this.rd.getSymbols(E)+`
`;for(let w=A+1;w<m.length;w++){const S=b.input.get(m[w]);if(_==null||S==null)throw new _e("rhs é nulo");_.sort().toString()==S.sort().toString()&&(E=m[w],u+="        case "+E+": // "+this.rd.getSymbols(E)+`
`,m.splice(w,1),w--)}if((_==null?void 0:_.length)==0&&(u+=`            // EPSILON
`),_==null)throw new _e("rhs é nulo");for(let w=0;w<_.length;w++){const S=_[w];e.isTerminal(S)?u+="            match("+S+"); // "+this.rd.getSymbols(S)+`
`:e.isNonTerminal(S)?u+="            "+this.rd.getSymbols(S)+`();
`:u+="            semanticAnalyser->executeAction("+(S-e.FIRST_SEMANTIC_ACTION())+`, previousToken);
`}u+=`            break;
`}u+=`        default:
            throw SyntaticError(PARSER_ERROR[`+b.lhs+`], currentToken->getPosition());
    }
}
`}const f=`
`+this.closeNamespace(t);return l+u.toString()+f}parserCppLL(e,t){const n=t.scannerName,s=t.parserName,o=t.semanticName;return'#include "'+s+`.h"

`+this.openNamespace(t)+"void "+s+"::parse("+n+" *scanner, "+o+` *semanticAnalyser);
{
    this->scanner = scanner;
    this->semanticAnalyser = semanticAnalyser;

    //Limpa a pilha
    while (! stack.empty())
        stack.pop();

    stack.push(DOLLAR);
    stack.push(START_SYMBOL);

    if (previousToken != 0 && previousToken != currentToken)
        delete previousToken;
    previousToken = 0;

    if (currentToken != 0)
        delete currentToken;
    currentToken = scanner->nextToken();

    while ( ! step() )
        ;
}

bool `+s+`::step()
{
    if (currentToken == 0) //Fim de Sentenca
    {
        int pos = 0;
        if (previousToken != 0)
            pos = previousToken->getPosition() + previousToken->getLexeme().size();

        currentToken = new Token(DOLLAR, "$", pos);
    }

    int a = currentToken->getId();
    int x = stack.top();

    stack.pop();

    if (x == EPSILON)
    {
        return false;
    }
    else if (isTerminal(x))
    {
        if (x == a)
        {
            if (stack.empty())
                return true;
            else
            {
                if (previousToken != 0)
                    delete previousToken;
                previousToken = currentToken;
                currentToken = scanner->nextToken();
                return false;
            }
        }
        else
        {
            throw SyntaticError(PARSER_ERROR[x], currentToken->getPosition());
        }
    }
    else if (isNonTerminal(x))
    {
        if (pushProduction(x, a))
            return false;
        else
            throw SyntaticError(PARSER_ERROR[x], currentToken->getPosition());
    }
    else // isSemanticAction(x)
    {
        semanticAnalyser->executeAction(x-FIRST_SEMANTIC_ACTION, previousToken);
        return false;
    }
}

bool `+s+`::pushProduction(int topStack, int tokenInput)
{
    int p = PARSER_TABLE[topStack-FIRST_NON_TERMINAL][tokenInput-1];
    if (p >= 0)
    {
        int *production = PRODUCTIONS[p];
        //empilha a produção em ordem reversa
        int length = production[0];
        for (int i=length; i>=1; i--)
        {
            stack.push( production[i] );
        }
        return true;
    }
    else
        return false;
}

`+this.closeNamespace(t)}parserCppLR(e,t){const n=t.scannerName,s=t.parserName,o=t.semanticName;return'#include "'+s+`.h"

`+this.openNamespace(t)+"void "+s+"::parse("+n+" *scanner, "+o+` *semanticAnalyser)
{
    this->scanner = scanner;
    this->semanticAnalyser = semanticAnalyser;

    //Limpa a pilha
    while (! stack.empty())
        stack.pop();

    stack.push(0);

    if (previousToken != 0 && previousToken != currentToken)
        delete previousToken;
    previousToken = 0;

    if (currentToken != 0)
        delete currentToken;
    currentToken = scanner->nextToken();

    while ( ! step() )
        ;
}

bool `+s+`::step()
{
    if (currentToken == 0) //Fim de Sentensa
    {
        int pos = 0;
        if (previousToken != 0)
            pos = previousToken->getPosition() + previousToken->getLexeme().size();

        currentToken = new Token(DOLLAR, "$", pos);
    }

    int token = currentToken->getId();
    int state = stack.top();

    const int* cmd = PARSER_TABLE[state][token-1];

    switch (cmd[0])
    {
        case SHIFT:
        {
            stack.push(cmd[1]);
            if (previousToken != 0)
                delete previousToken;
            previousToken = currentToken;
            currentToken = scanner->nextToken();
            return false;
        }
        case REDUCE:
        {
            const int* prod = PRODUCTIONS[cmd[1]];

            for (int i=0; i<prod[1]; i++)
                stack.pop();

            int oldState = stack.top();
            stack.push(PARSER_TABLE[oldState][prod[0]-1][1]);
            return false;
        }
        case ACTION:
        {
            int action = FIRST_SEMANTIC_ACTION + cmd[1] - 1;
            stack.push(PARSER_TABLE[state][action][1]);
            semanticAnalyser->executeAction(cmd[1], previousToken);
            return false;
        }
        case ACCEPT:
            return true;

        case ERROR:
            throw SyntaticError(PARSER_ERROR[state], currentToken->getPosition());
    }
    return false;
}

`+this.closeNamespace(t)}}class nw{constructor(){z(this,"lrTable",null)}generate(e,t,n){if(e===null||t===null)throw new Error("FiniteAutomata and Grammar must not be null");const s=new Map;return s.set("UToken.pas",this.generateToken()),s.set("UConstants.pas",this.generateConstants(e,t,n)),s.set("UAnalysisError.pas",this.generateAnalysisError()),s.set("ULexicalError.pas",this.generateLexicalError()),s.set("USyntaticError.pas",this.generateSyntaticError()),s.set("USemanticError.pas",this.generateSemanticError()),s}generateToken(){return`unit UToken;

interface

uses UConstants;

type
    TToken = class
    public
        constructor create(id:integer; lexeme:string; position:integer);

        function getId : integer;
        function getLexeme : string;
        function getPosition : integer;

    private
        id : integer;
        lexeme : string;
        position : integer
    end;

implementation

constructor TToken.create(id:integer; lexeme:string; position:integer);
begin
    self.id := id;
    self.lexeme := lexeme;
    self.position := position;
end;

function TToken.getId : integer;
begin
    result := id;
end;

function TToken.getLexeme : string;
begin
    result := lexeme;
end;

function TToken.getPosition : integer;
begin
    result := position;
end;

end.
`}generateAnalysisError(){return`unit UAnalysisError;

interface

uses sysutils;

type
    EAnalysisError = class(Exception)
    public
        constructor create(message:string; position:integer); overload;
        constructor create(message:string); overload;

        function getMessage : string;
        function getPosition : integer;

    private
        position : integer
    end;

implementation

constructor EAnalysisError.create(message:string; position:integer);
begin
    inherited create(message);
    self.position := position;
end;

constructor EAnalysisError.create(message:string);
begin
    inherited create(message);
    self.position := -1;
end;

function EAnalysisError.getMessage : string;
begin
    result := inherited Message;
end;

function EAnalysisError.getPosition : integer;
begin
   result := position;
end;

end.
`}generateLexicalError(){return`unit ULexicalError;

interface

uses UAnalysisError;

type
    ELexicalError = class(EAnalysisError)
    public
        constructor create(message:string; position:integer); overload;
        constructor create(message:string); overload;
    end;

implementation

constructor ELexicalError.create(message:string; position:integer);
begin
    inherited create(message, position);
end;

constructor ELexicalError.create(message:string);
begin
    inherited create(message);
end;

end.
`}generateSyntaticError(){return`unit USyntaticError;

interface

uses UAnalysisError;

type
    ESyntaticError = class(EAnalysisError)
    public
        constructor create(message:string; position:integer); overload;
        constructor create(message:string); overload;
    end;

implementation

constructor ESyntaticError.create(message:string; position:integer);
begin
    inherited create(message, position);
end;

constructor ESyntaticError.Create(message:string);
begin
    inherited create(message);
end;

end.
`}generateSemanticError(){return`unit USemanticError;

interface

uses UAnalysisError;

type
    ESemanticError = class(EAnalysisError)
    public
        constructor create(message:string; position:integer); overload;
        constructor create(message:string); overload;
    end;

implementation

constructor ESemanticError.Create(message:string; position:integer);
begin
    inherited create(message, position);
end;

constructor ESemanticError.Create(message:string);
begin
    inherited create(message);
end;

end.
`}generateConstants(e,t,n){return`unit UConstants;

interface

const

`+this.constants(e,t)+this.lexTables(e,n)+this.syntTables(t,n)+`implementation

end.
`}constants(e,t){let n="",s=null;if(e!=null)s=e.tokens.toArray();else if(t!=null)s=t.terminals;else throw new Error("Erro Interno");n+=`    EPSILON = 0;
    DOLLAR  = 1;

`;for(let o=0;o<s.length;o++){const l=s[o];l.charAt(0)=='"'?n+="    t_TOKEN_"+(o+2)+" = "+(o+2)+"; //"+l+`
`:n+="    t_"+l+" = "+(o+2)+`;
`}return n+=`
`,n.toString()}lexTables(e,t){return e==null?"":"    STATES_COUNT = "+e.transitions.size()+`;

`+this.mainLex(e,t)+this.context(e)+(e.specialCases.length>0?this.lookup(e):"")+this.scanner_error(e)}context(e){if(!e.hasContext())return"";let t="";t+=`    SCANNER_CONTEXT : array[0..STATES_COUNT-1][0..1] of integer =
    (
`;for(let n=0;n<e.transitions.size();n++)t+="        (",t+=e.isContext(n)?"1":"0",t+=", ",t+=e.getOrigin(n),t+=`),
`;return t=t.slice(0,-2),t+=`
    );
`,t.toString()}scanner_error(e){let t="";t+=`    SCANNER_ERROR : array[0..STATES_COUNT-1] of string =
    (
`;const n=e.transitions.size();for(let s=0;s<n;s++){t+="        '";const o=e.getError(s);for(let l=0;l<o.length;l++)o.charAt(l)=="'"?t+="''":t+=o.charAt(l);t+=`',
`}return t=t.slice(0,-2),t+=`
    );
`,t.toString()}mainLex(e,t){let n="",s;n+=this.scannerTable(e,t),n+=`    TOKEN_STATE : array[0..STATES_COUNT-1] of integer =
        ( `;const o=e.transitions.size();s=o.toString().length,s==1&&(s=2);for(let l=0;l<o;l++){const h=e.tokenForState(l).toString();for(let f=h.length;f<s;f++)n+=" ";n+=h+", "}return n=n.slice(0,-2),n+=` );

`,n.toString()}scannerTable(e,t){if(t.scannerTable==he.SCANNER_TABLE_HARDCODE)return"";let n="";n+=`    SCANNER_TABLE : array[0..STATES_COUNT-1, char] of integer =
    ( 
`;const s=e.transitions.size();let o=s.toString().length;o==1&&(o=2);for(let l=0;l<s;l++){n+="        ( ";for(let u=0;u<256;u++){const h=e.nextState(String.fromCharCode(u),l).toString();for(let f=h.length;f<o;f++)n+=" ";n+=h+", ",u==200&&(n+=`
          `)}n=n.slice(0,-2),n+=` ),
`}return n=n.slice(0,-2),n+=`
    );

`,n.toString()}lookup(e){let t="";const n=e.getSpecialCasesIndexes();t+="    SPECIAL_CASES_INDEXES : array[0.."+n.length+`] of integer =
        ( `;let s=n.length;for(let l=0;l<n.length;l++)t+=n[l][0],t+=", ";t+=n[s-1][1],t+=` );

`;const o=e.specialCases;s=o.length,t+="    SPECIAL_CASES_KEYS : array[0.."+(s-1)+`] of string =
        (  `;for(let l=0;l<s;l++)t+="'",t+=o[l].key,t+="', ";t=t.slice(0,-2),t+=` );

`,t+="    SPECIAL_CASES_VALUES : array[0.."+(s-1)+`] of integer =
        (  `;for(let l=0;l<s;l++)t+=o[l].value,t+=", ";return t=t.slice(0,-2),t+=` );

`,t.toString()}syntTables(e,t){if(e==null)return"";switch(t.parser){case he.PARSER_REC_DESC:return this.errorLL(e);case he.PARSER_LL:return"    START_SYMBOL = "+e.startSymbol+`;

    FIRST_NON_TERMINAL    = `+e.FIRST_NON_TERMINAL+`;
    FIRST_SEMANTIC_ACTION = `+e.FIRST_SEMANTIC_ACTION()+`;

`+this.transTablesLL(new ou(e))+this.prodsLL(e)+this.errorLL(e);case he.PARSER_SLR:case he.PARSER_LALR:case he.PARSER_LR:return"    FIRST_SEMANTIC_ACTION = "+e.FIRST_SEMANTIC_ACTION()+`;

    SHIFT  = 0;
    REDUCE = 1;
    ACTION = 2;
    ACCEPT = 3;
    GO_TO  = 4;
    ERROR  = 5;

`+this.transTablesLR(e)+`
`+this.prodsLR(e)+`
`+this.errorLR();default:return""}}transTablesLR(e){const t=Wo.createGenerator(e,he.PARSER_SLR);if(t==null)throw new _e("Gerador de Tabela é nulo.");this.lrTable=t.buildIntTable();let n="";n+="    PARSER_TABLE : array[0.."+(this.lrTable.length-1)+", 0.."+(this.lrTable[0].length-1)+`, 0..1] of integer =
`,n+=`    (
`;let s=this.lrTable.length;e.productions.size()>s&&(s=e.productions.size()),s=(""+s).length;for(let o=0;o<this.lrTable.length;o++){n+="        (";for(let l=0;l<this.lrTable[o].length;l++){n+=" (",n+=_t.CONSTANTS[this.lrTable[o][l][0]],n+=", ";const u=""+this.lrTable[o][l][1];for(let h=u.length;h<s;h++)n+=" ";n+=u+"),"}n=n.slice(0,-1),n+=` ),
`}return n=n.slice(0,-2),n+=`
    );
`,n.toString()}prodsLR(e){let t="";const n=e.productions.toArray();t+="    PRODUCTIONS : array[0.."+(n.length-1)+`, 0..1] of Integer =
`,t+=`    (
`;for(let s=0;s<n.length;s++)t+="        ( ",t+=n[s].get_lhs(),t+=", ",t+=n[s].get_rhs().length,t+=` ),
`;return t=t.slice(0,-2),t+=`
    );
`,t.toString()}transTablesLL(e){const t=e.generateTable(),n=[];let s=0;for(let l=0;l<t.length;l++)for(let u=0;u<n[l].length;u++){const h=t[l][u].toString();n[l][u]=h,h.length>s&&(s=h.length)}let o="";o+="    PARSER_TABLE : array[0.."+(n.length-1)+", 0.."+(n[0].length-1)+`] of integer =
`,o+=`    (
`;for(let l=0;l<n.length;l++){o+="        (";for(let u=0;u<n[l].length;u++){o+=" ";for(let h=n[l][u].length;h<s;h++)o+=" ";o+=n[l][u]+","}o=o.slice(0,-1),o+=` ),
`}return o=o.slice(0,-2),o+=`
    );

`,o.toString()}prodsLL(e){const t=e.productions.toArray(),n=[];let s=0,o=0;for(let u=0;u<t.length;u++){const h=t[u].get_rhs();if(h.length>o&&(o=h.length),h.length>0){n[u]=[],n[u][0]=h.length.toString();for(let f=0;f<h.length+1;f++)n[u][f+1]=h[f].toString(),n[u][f+1].length>s&&(s=n[u][f+1].length)}else n[u]=new Array(2),n[u][0]="1",n[u][1]="0"}let l="";l+="    PRODUCTIONS : array[0.."+(t.length-1)+", 0.."+o+`] of integer =
`,l+=`    (
`;for(let u=0;u<n.length;u++){l+="        (";for(let h=0;h<n[u].length;h++){l+=" ";for(let f=n[u][h].length;f<s;f++)l+=" ";l+=n[u][h]+","}for(let h=n[u].length;h<=o;h++){l+=" ";for(let f=1;f<s;f++)l+=" ";l+="0,"}l=l.slice(0,-1),l+=` ),
`}return l=l.slice(0,-2),l+=`
    );

`,l.toString()}errorLL(e){const t=e.symbols;let n="";n+="    PARSER_ERROR : array [0.."+(e.symbols.length-1)+`] of string =
    (
        '',
        'Era esperado fim de programa',
`;for(let s=2;s<e.FIRST_NON_TERMINAL;s++){n+="        'Era esperado ";for(let o=0;o<t[s].length;o++)switch(t[s].charAt(o)){case"'":n+="''";break;default:n+=t[s].charAt(o)}n+=`',
`}for(let s=e.FIRST_NON_TERMINAL;s<t.length;s++)n+="        '"+t[s]+` inválido',
`;return n=n.slice(0,-2),n+=`
    );

`,n.toString()}errorLR(){if(this.lrTable===null)throw new _e("Tabela LR está nula.");let e="";e+="    PARSER_ERROR : array [0.."+(this.lrTable.length-1)+`] of string =
    (
`;for(let t=0;t<this.lrTable.length;t++)e+="        'Erro estado "+t+`',
`;return e=e.slice(0,-2),e+=`
    );

`,e.toString()}}class rw{constructor(){z(this,"sensitive",!0);z(this,"lookup",!0)}generate(e,t){const n=new Map,s=t.scannerName;let o;return e!=null?(this.sensitive=t.scannerCaseSensitive,this.lookup=e.specialCases.length>0,o=this.buildScanner(e,t)):o=this.buildEmptyScanner(t),n.set("U"+s+".pas",o),n}buildScanner(e,t){const n=t.scannerName;let s,o,l,u;return t.input==he.INPUT_STREAM?(s="TStream",o=`var
    strStream: TStringStream;
begin
    strStream := TStringStream.Create('');

    if input <>  nil then
        strStream.CopyFrom(input, input.Size);

    self.input := strStream.DataString;
    setPosition(1);
    setEnd(Length(self.input));

    strStream.Destroy;
end;
`,l="setInput(nil);",u=", classes"):t.input==he.INPUT_STRING?(s="string",o=`begin
    self.input := input;
    setPosition(1);
    setEnd(Length(input));
end;
`,l="setInput('');",u=""):(s="",o="",l="",u=""),"unit U"+n+`;

interface

uses UToken, ULexicalError, UConstants`+u+`, SysUtils;

type
    T`+n+` = class
    public
        constructor create; overload;
        constructor create(input : `+s+`); overload;

        procedure setInput(input : `+s+`);
        procedure setPosition(pos : integer);
        procedure setEnd(endPos : integer);
        function nextToken : TToken; //raises ELexicalError

    private
        input : string;
        position : integer;
        endPos : integer;

        function nextState(c : char; state : integer) : integer;
        function tokenForState(state : integer) : integer;
`+(this.lookup?`        function lookupToken(base : integer; key : string) : integer;
`:"")+`
        function hasInput : boolean;
        function nextChar : char;
    end;

implementation

constructor T`+n+`.create;
begin
    `+l+`
end;

constructor T`+n+".create(input : "+s+`);
begin
    setInput(input);
end;

procedure T`+n+".setInput(input : "+s+`);
`+o+`
function T`+n+`.nextToken : TToken;
var
    start,
    oldState,
    state,
    endState,
    endPos,
`+(e.hasContext()?`    ctxtState;
    ctxtEnd;
`:"")+`    token : integer;
    lexeme : string;
begin
    if not hasInput then
        result := nil
    else
    begin
        start := position;

        state := 0;
        oldState := 0;
        endState := -1;
        endPos := -1;
`+(e.hasContext()?`        ctxtState := -1;
        ctxtEnd := -1;
`:"")+`
        while hasInput do
        begin
            oldState := state;
            state := nextState(nextChar, state);

            if state < 0 then
                break

            else
            begin
                if tokenForState(state) >= 0 then
                begin
                    endState := state;
                    endPos := position;
                end;
`+(e.hasContext()?`                if SCANNER_CONTEXT[state][0] = 1 then
                begin
                    ctxtState := state;
                    ctxtEnd := position;
                end
`:"")+`            end;
        end;
        if (endState < 0) or ( (endState <> state) and (tokenForState(oldState) = -2) ) then
            raise ELexicalError.create(SCANNER_ERROR[oldState], start);

`+(e.hasContext()?`        if (ctxtState <> -1) and (SCANNER_CONTEXT[endState][1] = ctxtState) then
            endPos := ctxtEnd;

`:"")+`        position := endPos;

        token := tokenForState(endState);

        if token = 0 then
            result := nextToken
        else
        begin
            lexeme := Copy(input, start, endPos-start);
`+(this.lookup?`            token  := lookupToken(token, lexeme);
`:"")+`            result := TToken.create(token, lexeme, start);
        end;
    end;
end;

procedure T`+n+`.setPosition(pos : integer);
begin
    position := pos;
end;

procedure T`+n+`.setEnd(endPos : integer);
begin
    self.endPos := endPos;
end;

function T`+n+`.nextState(c : char; state : integer) : integer;
begin
`+this.nextStateImpl(e,t)+`end;

function T`+n+`.tokenForState(state : integer) : integer;
begin
    if (state >= 0) and (state < STATES_COUNT) then
        result := TOKEN_STATE[state]
    else
        result := -1;
end;

`+(this.lookup?"function T"+n+`.lookupToken(base : integer; key : string) : integer;
var
    start, end_, half : integer;
    str : string;
begin
    result := base;

    start := SPECIAL_CASES_INDEXES[base];
    end_  := SPECIAL_CASES_INDEXES[base+1]-1;

`+(this.sensitive?"":`    key := UpperCase(key);

`)+`    while start <= end_ do
    begin
        half := (start+end_) div 2;
        str := SPECIAL_CASES_KEYS[half];

        if str = key then
        begin
            result := SPECIAL_CASES_VALUES[half];
            break;
        end
        else if str < key then
            start := half+1
        else  //str > key
            end_ := half-1;
    end;
end;

`:"")+"function T"+n+`.hasInput : boolean;
begin
    result := position <= endPos;
end;

function T`+n+`.nextChar : char;
begin
    if hasInput then
    begin
        result := input[position];
        position := position + 1;
    end
    else
        result := char(0);
end;

end.
`}nextStateImpl(e,t){switch(t.scannerTable){case he.SCANNER_TABLE_FULL:case he.SCANNER_TABLE_COMPACT:return`    result := SCANNER_TABLE[state][c];
`;case he.SCANNER_TABLE_HARDCODE:{const n=e.transitions,s=[];for(let o=0;o<n.size();o++){const l=n.get(o);if(l.size!=0){s.push("        "+o+`: case integer(c) of
`);for(const[u,h]of l.entries()){const f=u,v=h;s.push("            "+f.charCodeAt(0)+": result := "+v+`;
`)}s.push(`            else result := -1;
        end;
`)}}return`    case state of
`+s.toString()+`        else result := -1;
    end;
`}default:return null}}buildEmptyScanner(e){const t=e.scannerName;return"unit U"+t+`;

interface

uses UToken, ULexicalError;

type
    T`+t+` = class
    public
        function nextToken : TToken; //raises ELexicalError
    end;

implementation

function T`+t+`.nextToken : TToken;
begin
    result := nil;
end;

end.
`}}class iw{generate(e,t){const n=new Map;if(e!=null){const s=t.parserName;let o;switch(t.parser){case he.PARSER_REC_DESC:o=this.buildRecursiveDescendantParser(e,t);break;case he.PARSER_LL:o=this.buildLLParser(e,t);break;case he.PARSER_SLR:case he.PARSER_LALR:case he.PARSER_LR:o=this.buildLRParser(e,t);break;default:o=null}if(o===null)throw new _e("String do Parser é nulo.");n.set("U"+s+".pas",o),n.set("U"+t.semanticName+".pas",this.generateSemanticAnalyser(t))}return n}buildRecursiveDescendantParser(e,t){const n=t.parserName,s=t.scannerName,o=t.semanticName,l=new su(e),u=l.build();let h="";for(let g=e.FIRST_NON_TERMINAL;g<e.FIRST_SEMANTIC_ACTION();g++)h+="        procedure "+l.getSymbols(g)+`;
`;const f=h;h="";for(let g=e.FIRST_NON_TERMINAL;g<e.FIRST_SEMANTIC_ACTION();g++){const b=l.getSymbols(g),m=u.get(b);if(h+=`
procedure T`+n+"."+b+`;
begin
    case currentToken.getId of
`,m==null)throw new Ai("Gramática não é LL.");const A=Array.from(m.input.keys());for(let _=0;_<A.length;_++){const E=m.input.get(A[_]);let w=A[_];h+="        "+w+" (* "+l.getSymbols(w)+" *)";for(let S=_+1;S<A.length;S++)m.input.get(A[S])===E&&(w=A[S],h+=`,
        `+w+" (* "+l.getSymbols(w)+" *)",A.slice(S,S),S--);if(E===void 0)throw new Ai("Gramática não é LL.");h+=` : 
        begin
`,E.length==0&&(h+=`            // EPSILON
`);for(let S=0;S<E.length;S++){const k=E[S];e.isTerminal(k)?h+="            match("+k+"); // "+l.getSymbols(k)+`
`:e.isNonTerminal(k)?h+="            "+l.getSymbols(k)+`;
`:h+="            semanticAnalyser.executeAction("+(k-e.FIRST_SEMANTIC_ACTION())+`, previousToken);
`}h+=`        end;
`}h+=`        else
            raise ESyntaticError.create(PARSER_ERROR[`+m.lhs+`], currentToken.getPosition());
    end;
end;
`}const v=h;return"unit U"+n+`;

interface

uses UConstants, UToken, U`+s+", U"+o+`, USyntaticError, UAnalysisError;

type
    T`+n+` = class
    public
        constructor create;
        destructor destroy; override;

        procedure parse(scanner : T`+s+"; semanticAnalyser : T"+o+`); //raises EAnaliserError

    private
        currentToken : TToken;
        previousToken : TToken;
        scanner : T`+s+`;
        semanticAnalyser : T`+o+`;

        procedure match(token : integer);

`+f+`    end;

implementation

constructor T`+n+`.create;
begin
    currentToken := nil;
    previousToken := nil;
end;

destructor T`+n+`.destroy;
begin
    if (currentToken <> nil) and (currentToken <> previousToken) then
        currentToken.destroy;
    if previousToken <> nil then
        previousToken.destroy;
end;

procedure T`+n+".parse(scanner : T"+s+"; semanticAnalyser : T"+o+`);
begin
    self.scanner := scanner;
    self.semanticAnalyser := semanticAnalyser;

    if (previousToken <> nil) and (previousToken <> currentToken) then
        previousToken.destroy;
    previousToken := nil;

    if currentToken <> nil then
        currentToken.destroy;
    currentToken := scanner.nextToken;
    if currentToken = nil then
        currentToken := TToken.create(DOLLAR, '$', 0);

    `+l.getStart()+`;

    if currentToken.getId <> DOLLAR then
        raise ESyntaticError.create(PARSER_ERROR[DOLLAR], currentToken.getPosition);
end;

procedure T`+n+`.match(token : integer);
var pos : integer;
begin
    if currentToken.getId() = token then
    begin
        if previousToken <> nil then
            previousToken.destroy;
        previousToken := currentToken;
        currentToken := scanner.nextToken;
        if currentToken = nil then
        begin
            pos := 0;
            if previousToken <> nil then
                pos := previousToken.getPosition+Length(previousToken.getLexeme);

            currentToken := TToken.create(DOLLAR, '$', pos);
        end;
    end
    else
        raise ESyntaticError.create(PARSER_ERROR[token], currentToken.getPosition);
end;
`+v+`
end.
`}buildLLParser(e,t){const n=t.parserName,s=t.scannerName,o=t.semanticName;return"unit U"+n+`;

interface

uses UConstants, UToken, U`+s+", U"+o+`, USyntaticError, UAnalysisError, classes;

type
    T`+n+` = class
    public
        constructor create;
        destructor destroy; override;

        procedure parse(scanner : T`+s+"; semanticAnalyser : T"+o+`); //raises EAnaliserError

    private
        stack : TList;
        currentToken : TToken;
        previousToken : TToken;
        scanner : T`+s+`;
        semanticAnalyser : T`+o+`;

        function step : boolean;
        function pushProduction(topStack, tokenInput : integer) : boolean;

        function isTerminal(x : integer) : boolean;
        function isNonTerminal(x : integer) : boolean;
        function isSemanticAction(x : integer) : boolean;
    end;

implementation

constructor T`+n+`.create;
begin
    currentToken := nil;
    previousToken := nil;
    stack := TList.create;
end;

destructor T`+n+`.destroy;
begin
    if (currentToken <> nil) and (currentToken <> previousToken) then
        currentToken.destroy;
    if previousToken <> nil then
        previousToken.destroy;
    stack.destroy;
end;

procedure T`+n+".parse(scanner : T"+s+"; semanticAnalyser : T"+o+`);
begin
    self.scanner := scanner;
    self.semanticAnalyser := semanticAnalyser;

    stack.clear;
    stack.add(Pointer(DOLLAR));
    stack.add(Pointer(START_SYMBOL));

    if (previousToken <> nil) and (previousToken <> currentToken) then
        previousToken.destroy;
    previousToken := nil;

    if currentToken <> nil then
        currentToken.destroy;
    currentToken := scanner.nextToken;

    while not step do
        ;
end;

function T`+n+`.step : boolean;
var
    a, x, pos : integer;
begin
    if currentToken = nil then //Fim de Sentenca
    begin
        pos := 0;
        if previousToken <> nil then
            pos := previousToken.getPosition + Length(previousToken.getLexeme);

        currentToken := TToken.create(DOLLAR, '$', pos);
    end;

    a := currentToken.getId;
    x := Integer(stack.Last);
    stack.Delete(stack.Count-1);

    if x = EPSILON then
    begin
        result := false;
    end
    else if isTerminal(x) then
    begin
        if x = a then
        begin
            if stack.Count = 0 then
                result := true
            else
            begin
                if previousToken <> nil then
                    previousToken.destroy;
                previousToken := currentToken;
                currentToken := scanner.nextToken;
                result := false;
            end;
        end
        else
            raise ESyntaticError.create(PARSER_ERROR[x], currentToken.getPosition);
    end
    else if isNonTerminal(x) then
    begin
        if pushProduction(x, a) then
            result := false
        else
            raise ESyntaticError.create(PARSER_ERROR[x], currentToken.getPosition);
    end
    else // isSemanticAction(x)
    begin
        semanticAnalyser.executeAction(x-FIRST_SEMANTIC_ACTION, previousToken);
        result := false;
    end;
end;

function T`+n+`.pushProduction(topStack, tokenInput : integer) : boolean;
var
    i, p, length : integer;
begin
    p := PARSER_TABLE[topStack-FIRST_NON_TERMINAL, tokenInput-1];
    if p >= 0 then
    begin
        //empilha a produção em ordem reversa
        length := PRODUCTIONS[p, 0];
        for i := length downto 1 do
            stack.add( Pointer( PRODUCTIONS[p, i] ) );

        result := true;
    end
    else
        result := false;
end;

function T`+n+`.isTerminal(x : integer) : boolean;
begin
    result := x < FIRST_NON_TERMINAL;
end;

function T`+n+`.isNonTerminal(x : integer) : boolean;
begin
    result := (x >= FIRST_NON_TERMINAL) and (x < FIRST_SEMANTIC_ACTION);
end;

function T`+n+`.isSemanticAction(x : integer) : boolean;
begin
    result := x >= FIRST_SEMANTIC_ACTION;
end;

end.
`}buildLRParser(e,t){const n=t.parserName,s=t.scannerName,o=t.semanticName;return"unit U"+n+`;

interface

uses UConstants, UToken, U`+s+", U"+o+`, USyntaticError, UAnalysisError, classes;

type
    T`+n+` = class
    public
        constructor create;
        destructor destroy; override;

        procedure parse(scanner : T`+s+"; semanticAnalyser : T"+o+`); //raises EAnaliserError

    private
        stack : TList;
        currentToken : TToken;
        previousToken : TToken;
        scanner : T`+s+`;
        semanticAnalyser : T`+o+`;

        function step : boolean;
    end;

implementation

constructor T`+n+`.create;
begin
    currentToken := nil;
    previousToken := nil;
    stack := TList.create;
end;

destructor T`+n+`.destroy;
begin
    if (currentToken <> nil) and (currentToken <> previousToken) then
        currentToken.destroy;
    if previousToken <> nil then
        previousToken.destroy;
    stack.destroy;
end;

procedure T`+n+".parse(scanner : T"+s+"; semanticAnalyser : T"+o+`);
begin
    self.scanner := scanner;
    self.semanticAnalyser := semanticAnalyser;

    stack.clear;
    stack.add(Pointer(0));

    if (previousToken <> nil) and (previousToken <> currentToken) then
        previousToken.destroy;
    previousToken := nil;

    if currentToken <> nil then
        previousToken.destroy;
    currentToken := scanner.nextToken;

    while not step do
        ;
end;

function T`+n+`.step : boolean;
var
    state, oldState, pos, token, act, i : integer;
    cmd, prod : array[0..1] of integer;
begin
    if currentToken = nil then //Fim de Sentensa
    begin
        pos := 0;
        if previousToken <> nil then
            pos := previousToken.getPosition + Length(previousToken.getLexeme);

        currentToken := TToken.create(DOLLAR, '$', pos);
    end;

    token := currentToken.getId;
    state := Integer(stack.Last);

    cmd[0] := PARSER_TABLE[state, token-1, 0];
    cmd[1] := PARSER_TABLE[state, token-1, 1];

    case cmd[0] of
        SHIFT:
            begin
                stack.Add(Pointer(cmd[1]));
                if previousToken <> nil then
                    previousToken.destroy;
                previousToken := currentToken;
                currentToken := scanner.nextToken;
                result := false;
            end;

        REDUCE:
            begin
                prod[0] := PRODUCTIONS[cmd[1], 0];
                prod[1] := PRODUCTIONS[cmd[1], 1];

                for i :=0 to prod[1]-1 do
                    stack.Delete(stack.Count-1);

                oldState := Integer(stack.Last);
                stack.Add(Pointer(PARSER_TABLE[oldState, prod[0]-1, 1]));
                result := false;
            end;

        ACTION:
            begin
                act := FIRST_SEMANTIC_ACTION + cmd[1] - 1;
                stack.Add(Pointer(PARSER_TABLE[state, act, 1]));
                semanticAnalyser.executeAction(cmd[1], previousToken);
                result := false;
            end;

        ACCEPT:
            result := true;

        ERROR:
            raise ESyntaticError.create(PARSER_ERROR[state], currentToken.getPosition);
    end;
end;

end.
`}generateSemanticAnalyser(e){const t=e.semanticName;return"unit U"+t+`;

interface

uses UToken, USemanticError;

type
    T`+t+` = class
    public
        procedure executeAction(action : integer; const token : TToken); //raises ESemanticError
    end;

implementation

procedure T`+t+`.executeAction(action : integer; const token : TToken);
begin

end;

end.
`}}const Er=class Er{constructor(e){z(this,"FIRST_NON_TERMINAL");z(this,"FIRST_SEMANTIC_ACTION");z(this,"LAST_SEMANTIC_ACTION");z(this,"START_SYMBOL",0);z(this,"grammar");z(this,"scanner",null);z(this,"table");z(this,"productions");z(this,"stack",new Rr);z(this,"currentToken",null);z(this,"symb");z(this,"node",new hn);z(this,"nodeCount",new Rr);this.grammar=e.getGrammar()||(()=>{throw new Error("Grammar is undefined")})(),this.table=e.generateTable(),this.FIRST_NON_TERMINAL=this.grammar.FIRST_NON_TERMINAL,this.FIRST_SEMANTIC_ACTION=this.grammar.FIRST_SEMANTIC_ACTION(),this.LAST_SEMANTIC_ACTION=this.grammar.LAST_SEMANTIC_ACTION(),this.START_SYMBOL=this.grammar.startSymbol;const t=this.grammar.productions;this.productions=[];for(let n=0;n<t.size();n++){const s=t.get(n).get_rhs();if(s.length>0){this.productions[n]=[];for(let o=0;o<s.length;o++)this.productions[n][o]=s[o]}else this.productions[n]=[0]}this.symb=this.grammar.symbols}step(){this.currentToken==null&&(this.currentToken=new at(Er.DOLLAR,"$",0));const e=this.stack.pop(),t=this.currentToken.id;if(e==null)throw new _e("Stack is not initialized");if(e==Er.EPSILON){this.node.add(new hn("EPSILON"));let n=this.nodeCount.pop();for(;n==1;){const s=this.node.parent;if(s===null)throw new _e("Null parent");if(this.node=s,this.nodeCount.size()>0)n=this.nodeCount.pop();else break}return this.nodeCount.push(n-1),!1}else if(this.isTerminal(e)){this.node.add(new hn(this.symb[t]));let n=this.nodeCount.pop();for(;n==1;){const s=this.node.parent;if(s===null)throw new _e("Null parent");if(this.node=s,this.nodeCount.size()>0)n=this.nodeCount.pop();else break}if(this.nodeCount.push(n-1),e==t){if(this.stack.empty())return!0;if(this.scanner==null)throw new _e("Scanner is NULL");return this.currentToken=this.scanner.nextToken(),!1}else throw this.node.add(new hn("ERRO SINTÁTICO: Era esperado "+this.symb[e])),new _e("Era esperado "+this.symb[e],this.currentToken.position)}else if(this.isNonTerminal(e)){const n=this.table[e-this.FIRST_NON_TERMINAL][t-1];if(n!=-1){const s=this.productions[n];for(let l=s.length-1;l>=0;l--)this.stack.push(s[l]);const o=new hn(this.symb[e]);return this.node.add(o),this.node=o,this.nodeCount.push(s.length),!1}else throw this.node.add(new hn("ERRO SINTÁTICO: "+this.symb[t]+" inesperado")),new _e(this.symb[t]+" inesperado",this.currentToken.position)}else if(this.isSemanticAction(e)){this.node.add(new hn("#"+(e-this.FIRST_SEMANTIC_ACTION)));let n=this.nodeCount.pop();for(;n==1;){const s=this.node.parent;if(s===null)throw new _e("Null parent");if(this.node=s,this.nodeCount.size()>0)n=this.nodeCount.pop();else break}return this.nodeCount.push(n-1),!1}else return!1}parse(e,t){for(this.scanner=e,this.node=t,this.nodeCount.clear(),this.stack.clear(),this.stack.push(Er.DOLLAR),this.stack.push(this.START_SYMBOL),this.currentToken=this.scanner.nextToken();!this.step(););return t}isTerminal(e){return e>=0&&e<this.FIRST_NON_TERMINAL}isNonTerminal(e){return e>=this.FIRST_NON_TERMINAL&&e<this.FIRST_SEMANTIC_ACTION}isSemanticAction(e){return e>=this.FIRST_SEMANTIC_ACTION&&e<=this.LAST_SEMANTIC_ACTION}};z(Er,"EPSILON",0),z(Er,"DOLLAR",1),z(Er,"FIRST_TERMINAL",2);let Pl=Er;function Qr(i,e){const t=i.split(`
`).filter(Boolean),n=new Map;for(let s of t){s=s.trim();const o=s.split(":").filter(Boolean);n.set("{"+o[0].trim()+"}",o[1].trim())}for(const[s,o]of n.entries()){const l=new RegExp(s,"g");e=e.replace(l,o)}return e}function sw(i,e,t){try{t=Qr(e,t),e=""}catch{throw new dt("Definições com problemas - Verificar Definições")}const n=!0;Or.Instance;const o=new Jr().parseFA(e,t,n),l=new qe;{const b=o.tokens;for(let m=0;m<b.size();m++)l.add(b.get(m))}const u=l;for(;u.remove(`
`););function h(b){try{const m=new zd;for(let A=0;A<f.size();A++){const _=f.get(A);m.addToken(_,_)}return m.addIgnore("[\\ \\n\\r\\t]"),m.getFA(b)}catch(m){return console.log(m),null}}const f=u;let v;if(o!=null)v=new Xr(o,n);else{const b=h(n);if(b==null)throw Error("Finite Automata from Lexical Data is NULL");v=new Xr(b,n)}v.setInput(i);const g=new Map;try{let b=v.nextToken();for(;b!=null;){const m=f.get(b.id-2);g.set(b,m),b=v.nextToken()}}catch(b){const m=new at(-1,b.message,b.position);g.set(m,"ERRO LÉXICO"),console.log(b)}return g}function ow(i,e){try{e=Qr(i,e),i=""}catch{throw new dt("Definições com problemas - Verificar Definições")}const t=!0;return new Jr().parseFA(i,e,t).asHTML()}function aw(i,e,t,n,s,o,l){try{t=Qr(e,t),e=""}catch{throw new dt("Definições com problemas - Verificar Definições")}const u=s.split(`
`),h=new Set;u.forEach(W=>{const Y=W.match(/^[^:]+(?=\s*::=)/);Y&&h.add(Y[0].trim())});const f=Array.from(h),v=f.indexOf(n.trim());if(v==-1)throw new _e("Símbolo inicial da Gramática não encontrado.");const g=f.splice(v,1)[0];f.splice(0,0,g);let b=!0;const m=!0;Or.Instance;const _=new Jr().parseFA(e,t,m);let E;if(b||E==null){b=!1;const W=new qe;{const te=_.tokens;for(let de=0;de<te.size();de++)W.add(te.get(de)),W.add(`
`)}const Y=f,B=new qe;Y.forEach(te=>B.add(te)),E=new fs().parse(W,B,s)}else E=void 0;const w=_.tokens.toArray();if(E===void 0)throw new _e("Grammar is Undefined");let S=null,k=null,I=null,L=null;switch(o){case he.PARSER_REC_DESC:case he.PARSER_LL:[k,l,L]=au(_,E,w,l,m);break;case he.PARSER_SLR:case he.PARSER_LALR:case he.PARSER_LR:[S,l,I]=lu(_,E,w,l,m);break}if(I===null&&L===null)throw new _e("Erro na criação do Parser Sintático");let j=new hn("Derivação");if(l===null)throw new _e("Finite Automata Simulator is Null");return l.setInput(i),k!=null?j=k.parse(l,j):S!=null&&(j=S.parse(l,j)),j}function lw(i,e,t,n,s,o){try{e=Qr(i,e),i=""}catch{throw new dt("Definições com problemas - Verificar Definições")}const l=n.split(`
`),u=new Set;l.forEach(L=>{const j=L.match(/^[^:]+(?=\s*::=)/);j&&u.add(j[0].trim())});const h=Array.from(u),f=h.indexOf(t.trim());if(f==-1)throw new _e("Símbolo inicial da Gramática não encontrado.");const v=h.splice(f,1)[0];h.splice(0,0,v);let g=!0;const b=!0;Or.Instance;const A=new Jr().parseFA(i,e,b);let _;if(g||_==null){g=!1;const L=new qe;{const Y=A.tokens;for(let B=0;B<Y.size();B++)L.add(Y.get(B)),L.add(`
`)}const j=h,W=new qe;j.forEach(Y=>W.add(Y)),_=new fs().parse(L,W,n)}else _=void 0;const E=A.tokens.toArray();if(_===void 0)throw new _e("Grammar is Undefined");let w=null,S=null,k=null,I=null;switch(s){case he.PARSER_REC_DESC:case he.PARSER_LL:[S,o,I]=au(A,_,E,o,b);break;case he.PARSER_SLR:case he.PARSER_LALR:case he.PARSER_LR:[w,o,k]=lu(A,_,E,o,b);break}if(k!==null)return k.tableAsHTML();if(I!==null)return I.tableAsHTML();throw new _e("Erro na criação do Parser Sintático")}function uw(i,e,t,n,s,o){try{e=Qr(i,e),i=""}catch{throw new dt("Definições com problemas - Verificar Definições")}const l=n.split(`
`),u=new Set;l.forEach(L=>{const j=L.match(/^[^:]+(?=\s*::=)/);j&&u.add(j[0].trim())});const h=Array.from(u),f=h.indexOf(t.trim());if(f==-1)throw new _e("Símbolo inicial da Gramática não encontrado.");const v=h.splice(f,1)[0];h.splice(0,0,v);let g=!0;const b=!0;Or.Instance;const A=new Jr().parseFA(i,e,b);let _;if(g||_==null){g=!1;const L=new qe;{const Y=A.tokens;for(let B=0;B<Y.size();B++)L.add(Y.get(B)),L.add(`
`)}const j=h,W=new qe;j.forEach(Y=>W.add(Y)),_=new fs().parse(L,W,n)}else _=void 0;const E=A.tokens.toArray();if(_===void 0)throw new _e("Grammar is Undefined");let w=null,S=null,k=null,I=null;switch(s){case he.PARSER_REC_DESC:case he.PARSER_LL:[S,o,I]=au(A,_,E,o,b);break;case he.PARSER_SLR:case he.PARSER_LALR:case he.PARSER_LR:[w,o,k]=lu(A,_,E,o,b);break}if(k===null&&I===null)throw new _e("Erro na criação do Parser Sintático");return k!=null?k.itemsAsHTML():I!=null?I.tableAsHTML():"ERROR"}function cw(i,e,t,n,s,o){try{e=Qr(i,e),i=""}catch{throw new dt("Definições com problemas - Verificar Definições")}const l=n.split(`
`),u=new Set;l.forEach(E=>{const w=E.match(/^[^:]+(?=\s*::=)/);w&&u.add(w[0].trim())});const h=Array.from(u),f=h.indexOf(t.trim());if(f==-1)throw new _e("Símbolo inicial da Gramática não encontrado.");const v=h.splice(f,1)[0];h.splice(0,0,v);let g=!0;const b=!0;Or.Instance;const A=new Jr().parseFA(i,e,b);let _;if(g||_==null){g=!1;const E=new qe;{const k=A.tokens;for(let I=0;I<k.size();I++)E.add(k.get(I)),E.add(`
`)}const w=h,S=new qe;w.forEach(k=>S.add(k)),_=new fs().parse(E,S,n)}else _=void 0;if(A.tokens.toArray(),_===void 0)throw new _e("Grammar is Undefined");return _.ffAsHTML()}function hw(i,e){const t=e.split(`
`),n=new Set;t.forEach(l=>{const u=l.match(/^[^:]+(?=\s*::=)/);u&&n.add(u[0].trim())});const s=Array.from(n),o=s.indexOf(i.trim());if(o!=-1){const l=s.splice(o,1)[0];s.splice(0,0,l)}else s.splice(0,0,i);return s.join(`
`)}function fw(i,e,t,n,s){try{e=Qr(i,e),i=""}catch{throw new dt("Definições com problemas - Verificar Definições")}const o=n.split(`
`),l=new Set;o.forEach(E=>{const w=E.match(/^[^:]+(?=\s*::=)/);w&&l.add(w[0].trim())});const u=Array.from(l),h=u.indexOf(t.trim());if(h==-1)throw new _e("Símbolo inicial da Gramática não encontrado.");const f=u.splice(h,1)[0];u.splice(0,0,f);let v=!0;const g=!0;Or.Instance;const m=new Jr().parseFA(i,e,g);let A;if(v||A==null){v=!1;const E=new qe;{const k=m.tokens;for(let I=0;I<k.size();I++)E.add(k.get(I)),E.add(`
`)}const w=u,S=new qe;w.forEach(k=>S.add(k)),A=new fs().parse(E,S,n)}else A=void 0;if(m.tokens.toArray(),A===void 0)throw new _e("Grammar is Undefined");const _=new zn;switch(alert(s.language),s.language){case he.LANG_JAVA:_.setAll(new Zy().generate(m,A,s)),_.setAll(new Yy().generate(m,s)),_.setAll(new Xy().generate(A,s));break;case he.LANG_CPP:_.setAll(new Qy().generate(m,A,s)),_.setAll(new ew().generate(m,s)),_.setAll(new tw().generate(A,s));break;case he.LANG_DELPHI:_.setAll(new nw().generate(m,A,s)),_.setAll(new rw().generate(m,s)),_.setAll(new iw().generate(A,s));break}return _}function au(i,e,t,n,s){i!=null?n=new Xr(i,s):n=new Xr(Bd(t,s),s);let o,l;if(e!=null){if(l=new ou(e),l===null)throw new _e("Parser is Null");o=new Pl(l)}else throw new _e("Grammar is Null");return[o,n,l]}function lu(i,e,t,n,s){i!=null?n=new Xr(i,s):n=new Xr(Bd(t,s),s);let o,l;if(e!=null){if(l=Wo.createGenerator(e,he.PARSER_SLR),l===null)throw new _e("Parser is Null");o=new Ol(l)}else throw new _e("Grammar is Null");return[o,n,l]}function Bd(i,e){try{const t=new zd;for(let n=0;n<i.length;n++){const s=i[n];t.addToken(s,s)}return t.addIgnore("[\\ \\n\\r\\t]"),t.getFA(e)}catch(t){throw t}}const ei=ly("projetos",{state:()=>({listaProjetos:[{id:0,fileName:"untitled.gals",options:"",regularDefinitions:"",tokens:"",nonTerminals:"",grammar:"",textSimulator:"",consoleExit:"",optionsGals:new he}],selecionado:0,layout:{token:33.3333,simulacao:33.3333,saidaSimulacao:33.3333,gramatica:50}}),getters:{totalProjetos:i=>i.listaProjetos.length},actions:{changeSelected(i){this.selecionado=i},deleteProject(i){const e=this.selecionado;this.selecionado=-1,this.listaProjetos.splice(i,1);for(let t=0;t<this.listaProjetos.length;t++)this.listaProjetos[t].id=t;this.totalProjetos==0||this.selecionado==-1?this.selecionado=-1:this.selecionado=e-1},addProject(i){this.listaProjetos.push(i)},selectLastProject(){this.selecionado=this.listaProjetos.length-1}}});function lo(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ud={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(n,s,o){function l(f,v){if(!s[f]){if(!n[f]){var g=typeof lo=="function"&&lo;if(!v&&g)return g(f,!0);if(u)return u(f,!0);var b=new Error("Cannot find module '"+f+"'");throw b.code="MODULE_NOT_FOUND",b}var m=s[f]={exports:{}};n[f][0].call(m.exports,function(A){var _=n[f][1][A];return l(_||A)},m,m.exports,t,n,s,o)}return s[f].exports}for(var u=typeof lo=="function"&&lo,h=0;h<o.length;h++)l(o[h]);return l}({1:[function(t,n,s){var o=t("./utils"),l=t("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(h){for(var f,v,g,b,m,A,_,E=[],w=0,S=h.length,k=S,I=o.getTypeOf(h)!=="string";w<h.length;)k=S-w,g=I?(f=h[w++],v=w<S?h[w++]:0,w<S?h[w++]:0):(f=h.charCodeAt(w++),v=w<S?h.charCodeAt(w++):0,w<S?h.charCodeAt(w++):0),b=f>>2,m=(3&f)<<4|v>>4,A=1<k?(15&v)<<2|g>>6:64,_=2<k?63&g:64,E.push(u.charAt(b)+u.charAt(m)+u.charAt(A)+u.charAt(_));return E.join("")},s.decode=function(h){var f,v,g,b,m,A,_=0,E=0,w="data:";if(h.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var S,k=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===u.charAt(64)&&k--,h.charAt(h.length-2)===u.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=l.uint8array?new Uint8Array(0|k):new Array(0|k);_<h.length;)f=u.indexOf(h.charAt(_++))<<2|(b=u.indexOf(h.charAt(_++)))>>4,v=(15&b)<<4|(m=u.indexOf(h.charAt(_++)))>>2,g=(3&m)<<6|(A=u.indexOf(h.charAt(_++))),S[E++]=f,m!==64&&(S[E++]=v),A!==64&&(S[E++]=g);return S}},{"./support":30,"./utils":32}],2:[function(t,n,s){var o=t("./external"),l=t("./stream/DataWorker"),u=t("./stream/Crc32Probe"),h=t("./stream/DataLengthProbe");function f(v,g,b,m,A){this.compressedSize=v,this.uncompressedSize=g,this.crc32=b,this.compression=m,this.compressedContent=A}f.prototype={getContentWorker:function(){var v=new l(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),g=this;return v.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new l(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(v,g,b){return v.pipe(new u).pipe(new h("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new h("compressedSize")).withStreamInfo("compression",g)},n.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,s){var o=t("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,s){var o=t("./utils"),l=function(){for(var u,h=[],f=0;f<256;f++){u=f;for(var v=0;v<8;v++)u=1&u?3988292384^u>>>1:u>>>1;h[f]=u}return h}();n.exports=function(u,h){return u!==void 0&&u.length?o.getTypeOf(u)!=="string"?function(f,v,g,b){var m=l,A=b+g;f^=-1;for(var _=b;_<A;_++)f=f>>>8^m[255&(f^v[_])];return-1^f}(0|h,u,u.length,0):function(f,v,g,b){var m=l,A=b+g;f^=-1;for(var _=b;_<A;_++)f=f>>>8^m[255&(f^v.charCodeAt(_))];return-1^f}(0|h,u,u.length,0):0}},{"./utils":32}],5:[function(t,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(t,n,s){var o=null;o=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:o}},{lie:37}],7:[function(t,n,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),u=t("./utils"),h=t("./stream/GenericWorker"),f=o?"uint8array":"array";function v(g,b){h.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}s.magic="\b\0",u.inherits(v,h),v.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(f,g.data),!1)},v.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},s.compressWorker=function(g){return new v("Deflate",g)},s.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,s){function o(m,A){var _,E="";for(_=0;_<A;_++)E+=String.fromCharCode(255&m),m>>>=8;return E}function l(m,A,_,E,w,S){var k,I,L=m.file,j=m.compression,W=S!==f.utf8encode,Y=u.transformTo("string",S(L.name)),B=u.transformTo("string",f.utf8encode(L.name)),te=L.comment,de=u.transformTo("string",S(te)),D=u.transformTo("string",f.utf8encode(te)),ne=B.length!==L.name.length,y=D.length!==te.length,ae="",Te="",ie="",ge=L.dir,ce=L.date,Ee={crc32:0,compressedSize:0,uncompressedSize:0};A&&!_||(Ee.crc32=m.crc32,Ee.compressedSize=m.compressedSize,Ee.uncompressedSize=m.uncompressedSize);var J=0;A&&(J|=8),W||!ne&&!y||(J|=2048);var X=0,xe=0;ge&&(X|=16),w==="UNIX"?(xe=798,X|=function(pe,Me){var ut=pe;return pe||(ut=Me?16893:33204),(65535&ut)<<16}(L.unixPermissions,ge)):(xe=20,X|=function(pe){return 63&(pe||0)}(L.dosPermissions)),k=ce.getUTCHours(),k<<=6,k|=ce.getUTCMinutes(),k<<=5,k|=ce.getUTCSeconds()/2,I=ce.getUTCFullYear()-1980,I<<=4,I|=ce.getUTCMonth()+1,I<<=5,I|=ce.getUTCDate(),ne&&(Te=o(1,1)+o(v(Y),4)+B,ae+="up"+o(Te.length,2)+Te),y&&(ie=o(1,1)+o(v(de),4)+D,ae+="uc"+o(ie.length,2)+ie);var ve="";return ve+=`
\0`,ve+=o(J,2),ve+=j.magic,ve+=o(k,2),ve+=o(I,2),ve+=o(Ee.crc32,4),ve+=o(Ee.compressedSize,4),ve+=o(Ee.uncompressedSize,4),ve+=o(Y.length,2),ve+=o(ae.length,2),{fileRecord:g.LOCAL_FILE_HEADER+ve+Y+ae,dirRecord:g.CENTRAL_FILE_HEADER+o(xe,2)+ve+o(de.length,2)+"\0\0\0\0"+o(X,4)+o(E,4)+Y+ae+de}}var u=t("../utils"),h=t("../stream/GenericWorker"),f=t("../utf8"),v=t("../crc32"),g=t("../signature");function b(m,A,_,E){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=_,this.encodeFileName=E,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,h),b.prototype.push=function(m){var A=m.meta.percent||0,_=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,h.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:_?(A+100*(_-E-1))/_:100}}))},b.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var A=this.streamFiles&&!m.file.dir;if(A){var _=l(m,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(m){this.accumulate=!1;var A=this.streamFiles&&!m.file.dir,_=l(m,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),A)this.push({data:function(E){return g.DATA_DESCRIPTOR+o(E.crc32,4)+o(E.compressedSize,4)+o(E.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var m=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var _=this.bytesWritten-m,E=function(w,S,k,I,L){var j=u.transformTo("string",L(I));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(w,2)+o(w,2)+o(S,4)+o(k,4)+o(j.length,2)+j}(this.dirRecords.length,_,m,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(m){this._sources.push(m);var A=this;return m.on("data",function(_){A.processChunk(_)}),m.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),m.on("error",function(_){A.error(_)}),this},b.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(m){var A=this._sources;if(!h.prototype.error.call(this,m))return!1;for(var _=0;_<A.length;_++)try{A[_].error(m)}catch{}return!0},b.prototype.lock=function(){h.prototype.lock.call(this);for(var m=this._sources,A=0;A<m.length;A++)m[A].lock()},n.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,s){var o=t("../compressions"),l=t("./ZipFileWorker");s.generateWorker=function(u,h,f){var v=new l(h.streamFiles,f,h.platform,h.encodeFileName),g=0;try{u.forEach(function(b,m){g++;var A=function(S,k){var I=S||k,L=o[I];if(!L)throw new Error(I+" is not a valid compression method !");return L}(m.options.compression,h.compression),_=m.options.compressionOptions||h.compressionOptions||{},E=m.dir,w=m.date;m._compressWorker(A,_).withStreamInfo("file",{name:b,dir:E,date:w,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(v)}),v.entriesCount=g}catch(b){v.error(b)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new o;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(l,u){return new o().loadAsync(l,u)},o.external=t("./external"),n.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,s){var o=t("./utils"),l=t("./external"),u=t("./utf8"),h=t("./zipEntries"),f=t("./stream/Crc32Probe"),v=t("./nodejsUtils");function g(b){return new l.Promise(function(m,A){var _=b.decompressed.getContentWorker().pipe(new f);_.on("error",function(E){A(E)}).on("end",function(){_.streamInfo.crc32!==b.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(b,m){var A=this;return m=o.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),v.isNode&&v.isStream(b)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",b,!0,m.optimizedBinaryString,m.base64).then(function(_){var E=new h(m);return E.load(_),E}).then(function(_){var E=[l.Promise.resolve(_)],w=_.files;if(m.checkCRC32)for(var S=0;S<w.length;S++)E.push(g(w[S]));return l.Promise.all(E)}).then(function(_){for(var E=_.shift(),w=E.files,S=0;S<w.length;S++){var k=w[S],I=k.fileNameStr,L=o.resolve(k.fileNameStr);A.file(L,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:m.createFolders}),k.dir||(A.file(L).unsafeOriginalName=I)}return E.zipComment.length&&(A.comment=E.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,s){var o=t("../utils"),l=t("../stream/GenericWorker");function u(h,f){l.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(f)}o.inherits(u,l),u.prototype._bindStream=function(h){var f=this;(this._stream=h).pause(),h.on("data",function(v){f.push({data:v,meta:{percent:0}})}).on("error",function(v){f.isPaused?this.generatedError=v:f.error(v)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,s){var o=t("readable-stream").Readable;function l(u,h,f){o.call(this,h),this._helper=u;var v=this;u.on("data",function(g,b){v.push(g)||v._helper.pause(),f&&f(b)}).on("error",function(g){v.emit("error",g)}).on("end",function(){v.push(null)})}t("../utils").inherits(l,o),l.prototype._read=function(){this._helper.resume()},n.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,l);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,l)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var l=new Buffer(o);return l.fill(0),l},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,n,s){function o(L,j,W){var Y,B=u.getTypeOf(j),te=u.extend(W||{},v);te.date=te.date||new Date,te.compression!==null&&(te.compression=te.compression.toUpperCase()),typeof te.unixPermissions=="string"&&(te.unixPermissions=parseInt(te.unixPermissions,8)),te.unixPermissions&&16384&te.unixPermissions&&(te.dir=!0),te.dosPermissions&&16&te.dosPermissions&&(te.dir=!0),te.dir&&(L=w(L)),te.createFolders&&(Y=E(L))&&S.call(this,Y,!0);var de=B==="string"&&te.binary===!1&&te.base64===!1;W&&W.binary!==void 0||(te.binary=!de),(j instanceof g&&j.uncompressedSize===0||te.dir||!j||j.length===0)&&(te.base64=!1,te.binary=!0,j="",te.compression="STORE",B="string");var D=null;D=j instanceof g||j instanceof h?j:A.isNode&&A.isStream(j)?new _(L,j):u.prepareContent(L,j,te.binary,te.optimizedBinaryString,te.base64);var ne=new b(L,D,te);this.files[L]=ne}var l=t("./utf8"),u=t("./utils"),h=t("./stream/GenericWorker"),f=t("./stream/StreamHelper"),v=t("./defaults"),g=t("./compressedObject"),b=t("./zipObject"),m=t("./generate"),A=t("./nodejsUtils"),_=t("./nodejs/NodejsStreamInputAdapter"),E=function(L){L.slice(-1)==="/"&&(L=L.substring(0,L.length-1));var j=L.lastIndexOf("/");return 0<j?L.substring(0,j):""},w=function(L){return L.slice(-1)!=="/"&&(L+="/"),L},S=function(L,j){return j=j!==void 0?j:v.createFolders,L=w(L),this.files[L]||o.call(this,L,null,{dir:!0,createFolders:j}),this.files[L]};function k(L){return Object.prototype.toString.call(L)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(L){var j,W,Y;for(j in this.files)Y=this.files[j],(W=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&L(W,Y)},filter:function(L){var j=[];return this.forEach(function(W,Y){L(W,Y)&&j.push(Y)}),j},file:function(L,j,W){if(arguments.length!==1)return L=this.root+L,o.call(this,L,j,W),this;if(k(L)){var Y=L;return this.filter(function(te,de){return!de.dir&&Y.test(te)})}var B=this.files[this.root+L];return B&&!B.dir?B:null},folder:function(L){if(!L)return this;if(k(L))return this.filter(function(B,te){return te.dir&&L.test(B)});var j=this.root+L,W=S.call(this,j),Y=this.clone();return Y.root=W.name,Y},remove:function(L){L=this.root+L;var j=this.files[L];if(j||(L.slice(-1)!=="/"&&(L+="/"),j=this.files[L]),j&&!j.dir)delete this.files[L];else for(var W=this.filter(function(B,te){return te.name.slice(0,L.length)===L}),Y=0;Y<W.length;Y++)delete this.files[W[Y].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(L){var j,W={};try{if((W=u.extend(L||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=W.type.toLowerCase(),W.compression=W.compression.toUpperCase(),W.type==="binarystring"&&(W.type="string"),!W.type)throw new Error("No output type specified.");u.checkSupport(W.type),W.platform!=="darwin"&&W.platform!=="freebsd"&&W.platform!=="linux"&&W.platform!=="sunos"||(W.platform="UNIX"),W.platform==="win32"&&(W.platform="DOS");var Y=W.comment||this.comment||"";j=m.generateWorker(this,W,Y)}catch(B){(j=new h("error")).error(B)}return new f(j,W.type||"string",W.mimeType)},generateAsync:function(L,j){return this.generateInternalStream(L).accumulate(j)},generateNodeStream:function(L,j){return(L=L||{}).type||(L.type="nodebuffer"),this.generateInternalStream(L).toNodejsStream(j)}};n.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,s){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,s){var o=t("./DataReader");function l(u){o.call(this,u);for(var h=0;h<this.data.length;h++)u[h]=255&u[h]}t("../utils").inherits(l,o),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var h=u.charCodeAt(0),f=u.charCodeAt(1),v=u.charCodeAt(2),g=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===h&&this.data[b+1]===f&&this.data[b+2]===v&&this.data[b+3]===g)return b-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var h=u.charCodeAt(0),f=u.charCodeAt(1),v=u.charCodeAt(2),g=u.charCodeAt(3),b=this.readData(4);return h===b[0]&&f===b[1]&&v===b[2]&&g===b[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},n.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,n,s){var o=t("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var h,f=0;for(this.checkOffset(u),h=this.index+u-1;h>=this.index;h--)f=(f<<8)+this.byteAt(h);return this.index+=u,f},readString:function(u){return o.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},n.exports=l},{"../utils":32}],19:[function(t,n,s){var o=t("./Uint8ArrayReader");function l(u){o.call(this,u)}t("../utils").inherits(l,o),l.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},n.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,s){var o=t("./DataReader");function l(u){o.call(this,u)}t("../utils").inherits(l,o),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},n.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,n,s){var o=t("./ArrayReader");function l(u){o.call(this,u)}t("../utils").inherits(l,o),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},n.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,s){var o=t("../utils"),l=t("../support"),u=t("./ArrayReader"),h=t("./StringReader"),f=t("./NodeBufferReader"),v=t("./Uint8ArrayReader");n.exports=function(g){var b=o.getTypeOf(g);return o.checkSupport(b),b!=="string"||l.uint8array?b==="nodebuffer"?new f(g):l.uint8array?new v(o.transformTo("uint8array",g)):new u(o.transformTo("array",g)):new h(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,s){var o=t("./GenericWorker"),l=t("../utils");function u(h){o.call(this,"ConvertWorker to "+h),this.destType=h}l.inherits(u,o),u.prototype.processChunk=function(h){this.push({data:l.transformTo(this.destType,h.data),meta:h.meta})},n.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,s){var o=t("./GenericWorker"),l=t("../crc32");function u(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(u,o),u.prototype.processChunk=function(h){this.streamInfo.crc32=l(h.data,this.streamInfo.crc32||0),this.push(h)},n.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,s){var o=t("../utils"),l=t("./GenericWorker");function u(h){l.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}o.inherits(u,l),u.prototype.processChunk=function(h){if(h){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+h.data.length}l.prototype.processChunk.call(this,h)},n.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,s){var o=t("../utils"),l=t("./GenericWorker");function u(h){l.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(v){f.dataIsReady=!0,f.data=v,f.max=v&&v.length||0,f.type=o.getTypeOf(v),f.isPaused||f._tickAndRepeat()},function(v){f.error(v)})}o.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,f);break;case"uint8array":h=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":h=this.data.slice(this.index,f)}return this.index=f,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,s){function o(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var h=0;h<this._listeners[l].length;h++)this._listeners[l][h].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(h){u.processChunk(h)}),l.on("end",function(){u.end()}),l.on("error",function(h){u.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},n.exports=o},{}],29:[function(t,n,s){var o=t("../utils"),l=t("./ConvertWorker"),u=t("./GenericWorker"),h=t("../base64"),f=t("../support"),v=t("../external"),g=null;if(f.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(A,_){return new v.Promise(function(E,w){var S=[],k=A._internalType,I=A._outputType,L=A._mimeType;A.on("data",function(j,W){S.push(j),_&&_(W)}).on("error",function(j){S=[],w(j)}).on("end",function(){try{var j=function(W,Y,B){switch(W){case"blob":return o.newBlob(o.transformTo("arraybuffer",Y),B);case"base64":return h.encode(Y);default:return o.transformTo(W,Y)}}(I,function(W,Y){var B,te=0,de=null,D=0;for(B=0;B<Y.length;B++)D+=Y[B].length;switch(W){case"string":return Y.join("");case"array":return Array.prototype.concat.apply([],Y);case"uint8array":for(de=new Uint8Array(D),B=0;B<Y.length;B++)de.set(Y[B],te),te+=Y[B].length;return de;case"nodebuffer":return Buffer.concat(Y);default:throw new Error("concat : unsupported type '"+W+"'")}}(k,S),L);E(j)}catch(W){w(W)}S=[]}).resume()})}function m(A,_,E){var w=_;switch(_){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=_,this._mimeType=E,o.checkSupport(w),this._worker=A.pipe(new l(w)),A.lock()}catch(S){this._worker=new u("error"),this._worker.error(S)}}m.prototype={accumulate:function(A){return b(this,A)},on:function(A,_){var E=this;return A==="data"?this._worker.on(A,function(w){_.call(E,w.data,w.meta)}):this._worker.on(A,function(){o.delay(_,arguments,E)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},A)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(o),s.blob=l.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!t("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,s){for(var o=t("./utils"),l=t("./support"),u=t("./nodejsUtils"),h=t("./stream/GenericWorker"),f=new Array(256),v=0;v<256;v++)f[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;f[254]=f[254]=1;function g(){h.call(this,"utf-8 decode"),this.leftOver=null}function b(){h.call(this,"utf-8 encode")}s.utf8encode=function(m){return l.nodebuffer?u.newBufferFrom(m,"utf-8"):function(A){var _,E,w,S,k,I=A.length,L=0;for(S=0;S<I;S++)(64512&(E=A.charCodeAt(S)))==55296&&S+1<I&&(64512&(w=A.charCodeAt(S+1)))==56320&&(E=65536+(E-55296<<10)+(w-56320),S++),L+=E<128?1:E<2048?2:E<65536?3:4;for(_=l.uint8array?new Uint8Array(L):new Array(L),S=k=0;k<L;S++)(64512&(E=A.charCodeAt(S)))==55296&&S+1<I&&(64512&(w=A.charCodeAt(S+1)))==56320&&(E=65536+(E-55296<<10)+(w-56320),S++),E<128?_[k++]=E:(E<2048?_[k++]=192|E>>>6:(E<65536?_[k++]=224|E>>>12:(_[k++]=240|E>>>18,_[k++]=128|E>>>12&63),_[k++]=128|E>>>6&63),_[k++]=128|63&E);return _}(m)},s.utf8decode=function(m){return l.nodebuffer?o.transformTo("nodebuffer",m).toString("utf-8"):function(A){var _,E,w,S,k=A.length,I=new Array(2*k);for(_=E=0;_<k;)if((w=A[_++])<128)I[E++]=w;else if(4<(S=f[w]))I[E++]=65533,_+=S-1;else{for(w&=S===2?31:S===3?15:7;1<S&&_<k;)w=w<<6|63&A[_++],S--;1<S?I[E++]=65533:w<65536?I[E++]=w:(w-=65536,I[E++]=55296|w>>10&1023,I[E++]=56320|1023&w)}return I.length!==E&&(I.subarray?I=I.subarray(0,E):I.length=E),o.applyFromCharCode(I)}(m=o.transformTo(l.uint8array?"uint8array":"array",m))},o.inherits(g,h),g.prototype.processChunk=function(m){var A=o.transformTo(l.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var _=A;(A=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),A.set(_,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var E=function(S,k){var I;for((k=k||S.length)>S.length&&(k=S.length),I=k-1;0<=I&&(192&S[I])==128;)I--;return I<0||I===0?k:I+f[S[I]]>k?I:k}(A),w=A;E!==A.length&&(l.uint8array?(w=A.subarray(0,E),this.leftOver=A.subarray(E,A.length)):(w=A.slice(0,E),this.leftOver=A.slice(E,A.length))),this.push({data:s.utf8decode(w),meta:m.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=g,o.inherits(b,h),b.prototype.processChunk=function(m){this.push({data:s.utf8encode(m.data),meta:m.meta})},s.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,s){var o=t("./support"),l=t("./base64"),u=t("./nodejsUtils"),h=t("./external");function f(_){return _}function v(_,E){for(var w=0;w<_.length;++w)E[w]=255&_.charCodeAt(w);return E}t("setimmediate"),s.newBlob=function(_,E){s.checkSupport("blob");try{return new Blob([_],{type:E})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(_),w.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(_,E,w){var S=[],k=0,I=_.length;if(I<=w)return String.fromCharCode.apply(null,_);for(;k<I;)E==="array"||E==="nodebuffer"?S.push(String.fromCharCode.apply(null,_.slice(k,Math.min(k+w,I)))):S.push(String.fromCharCode.apply(null,_.subarray(k,Math.min(k+w,I)))),k+=w;return S.join("")},stringifyByChar:function(_){for(var E="",w=0;w<_.length;w++)E+=String.fromCharCode(_[w]);return E},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function b(_){var E=65536,w=s.getTypeOf(_),S=!0;if(w==="uint8array"?S=g.applyCanBeUsed.uint8array:w==="nodebuffer"&&(S=g.applyCanBeUsed.nodebuffer),S)for(;1<E;)try{return g.stringifyByChunk(_,w,E)}catch{E=Math.floor(E/2)}return g.stringifyByChar(_)}function m(_,E){for(var w=0;w<_.length;w++)E[w]=_[w];return E}s.applyFromCharCode=b;var A={};A.string={string:f,array:function(_){return v(_,new Array(_.length))},arraybuffer:function(_){return A.string.uint8array(_).buffer},uint8array:function(_){return v(_,new Uint8Array(_.length))},nodebuffer:function(_){return v(_,u.allocBuffer(_.length))}},A.array={string:b,array:f,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return u.newBufferFrom(_)}},A.arraybuffer={string:function(_){return b(new Uint8Array(_))},array:function(_){return m(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:f,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return u.newBufferFrom(new Uint8Array(_))}},A.uint8array={string:b,array:function(_){return m(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:f,nodebuffer:function(_){return u.newBufferFrom(_)}},A.nodebuffer={string:b,array:function(_){return m(_,new Array(_.length))},arraybuffer:function(_){return A.nodebuffer.uint8array(_).buffer},uint8array:function(_){return m(_,new Uint8Array(_.length))},nodebuffer:f},s.transformTo=function(_,E){if(E=E||"",!_)return E;s.checkSupport(_);var w=s.getTypeOf(E);return A[w][_](E)},s.resolve=function(_){for(var E=_.split("/"),w=[],S=0;S<E.length;S++){var k=E[S];k==="."||k===""&&S!==0&&S!==E.length-1||(k===".."?w.pop():w.push(k))}return w.join("/")},s.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":o.nodebuffer&&u.isBuffer(_)?"nodebuffer":o.uint8array&&_ instanceof Uint8Array?"uint8array":o.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(_){if(!o[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(_){var E,w,S="";for(w=0;w<(_||"").length;w++)S+="\\x"+((E=_.charCodeAt(w))<16?"0":"")+E.toString(16).toUpperCase();return S},s.delay=function(_,E,w){setImmediate(function(){_.apply(w||null,E||[])})},s.inherits=function(_,E){function w(){}w.prototype=E.prototype,_.prototype=new w},s.extend=function(){var _,E,w={};for(_=0;_<arguments.length;_++)for(E in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],E)&&w[E]===void 0&&(w[E]=arguments[_][E]);return w},s.prepareContent=function(_,E,w,S,k){return h.Promise.resolve(E).then(function(I){return o.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new h.Promise(function(L,j){var W=new FileReader;W.onload=function(Y){L(Y.target.result)},W.onerror=function(Y){j(Y.target.error)},W.readAsArrayBuffer(I)}):I}).then(function(I){var L=s.getTypeOf(I);return L?(L==="arraybuffer"?I=s.transformTo("uint8array",I):L==="string"&&(k?I=l.decode(I):w&&S!==!0&&(I=function(j){return v(j,o.uint8array?new Uint8Array(j.length):new Array(j.length))}(I))),I):h.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,s){var o=t("./reader/readerFor"),l=t("./utils"),u=t("./signature"),h=t("./zipEntry"),f=t("./support");function v(g){this.files=[],this.loadOptions=g}v.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(b)+", expected "+l.pretty(g)+")")}},isSignature:function(g,b){var m=this.reader.index;this.reader.setIndex(g);var A=this.reader.readString(4)===b;return this.reader.setIndex(m),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=f.uint8array?"uint8array":"array",m=l.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,m,A=this.zip64EndOfCentralSize-44;0<A;)g=this.reader.readInt(2),b=this.reader.readInt(4),m=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(g=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var A=b-m;if(0<A)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(g){this.reader=o(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,s){var o=t("./reader/readerFor"),l=t("./utils"),u=t("./compressedObject"),h=t("./crc32"),f=t("./utf8"),v=t("./compressions"),g=t("./support");function b(m,A){this.options=m,this.loadOptions=A}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var A,_;if(m.skip(22),this.fileNameLength=m.readInt(2),_=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=function(E){for(var w in v)if(Object.prototype.hasOwnProperty.call(v,w)&&v[w].magic===E)return v[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,A,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var A=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(A),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=o(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var A,_,E,w=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<w;)A=m.readInt(2),_=m.readInt(2),E=m.readData(_),this.extraFields[A]={id:A,length:_,value:E};m.setIndex(w)},handleUTF8:function(){var m=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var _=l.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var w=l.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var A=o(m.value);return A.readInt(1)!==1||h(this.fileName)!==A.readInt(4)?null:f.utf8decode(A.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var A=o(m.value);return A.readInt(1)!==1||h(this.fileComment)!==A.readInt(4)?null:f.utf8decode(A.readData(m.length-5))}return null}},n.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,s){function o(A,_,E){this.name=A,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=_,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var l=t("./stream/StreamHelper"),u=t("./stream/DataWorker"),h=t("./utf8"),f=t("./compressedObject"),v=t("./stream/GenericWorker");o.prototype={internalStream:function(A){var _=null,E="string";try{if(!A)throw new Error("No output type specified.");var w=(E=A.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),_=this._decompressWorker();var S=!this._dataBinary;S&&!w&&(_=_.pipe(new h.Utf8EncodeWorker)),!S&&w&&(_=_.pipe(new h.Utf8DecodeWorker))}catch(k){(_=new v("error")).error(k)}return new l(_,E,"")},async:function(A,_){return this.internalStream(A).accumulate(_)},nodeStream:function(A,_){return this.internalStream(A||"nodebuffer").toNodejsStream(_)},_compressWorker:function(A,_){if(this._data instanceof f&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new h.Utf8EncodeWorker)),f.createWorkerFrom(E,A,_)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof v?this._data:new u(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<g.length;m++)o.prototype[g[m]]=b;n.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,s){(function(o){var l,u,h=o.MutationObserver||o.WebKitMutationObserver;if(h){var f=0,v=new h(A),g=o.document.createTextNode("");v.observe(g,{characterData:!0}),l=function(){g.data=f=++f%2}}else if(o.setImmediate||o.MessageChannel===void 0)l="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var _=o.document.createElement("script");_.onreadystatechange=function(){A(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},o.document.documentElement.appendChild(_)}:function(){setTimeout(A,0)};else{var b=new o.MessageChannel;b.port1.onmessage=A,l=function(){b.port2.postMessage(0)}}var m=[];function A(){var _,E;u=!0;for(var w=m.length;w;){for(E=m,m=[],_=-1;++_<w;)E[_]();w=m.length}u=!1}n.exports=function(_){m.push(_)!==1||u||l()}}).call(this,typeof Rn<"u"?Rn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,s){var o=t("immediate");function l(){}var u={},h=["REJECTED"],f=["FULFILLED"],v=["PENDING"];function g(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,w!==l&&_(this,w)}function b(w,S,k){this.promise=w,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function m(w,S,k){o(function(){var I;try{I=S(k)}catch(L){return u.reject(w,L)}I===w?u.reject(w,new TypeError("Cannot resolve promise with itself")):u.resolve(w,I)})}function A(w){var S=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof S=="function")return function(){S.apply(w,arguments)}}function _(w,S){var k=!1;function I(W){k||(k=!0,u.reject(w,W))}function L(W){k||(k=!0,u.resolve(w,W))}var j=E(function(){S(L,I)});j.status==="error"&&I(j.value)}function E(w,S){var k={};try{k.value=w(S),k.status="success"}catch(I){k.status="error",k.value=I}return k}(n.exports=g).prototype.finally=function(w){if(typeof w!="function")return this;var S=this.constructor;return this.then(function(k){return S.resolve(w()).then(function(){return k})},function(k){return S.resolve(w()).then(function(){throw k})})},g.prototype.catch=function(w){return this.then(null,w)},g.prototype.then=function(w,S){if(typeof w!="function"&&this.state===f||typeof S!="function"&&this.state===h)return this;var k=new this.constructor(l);return this.state!==v?m(k,this.state===f?w:S,this.outcome):this.queue.push(new b(k,w,S)),k},b.prototype.callFulfilled=function(w){u.resolve(this.promise,w)},b.prototype.otherCallFulfilled=function(w){m(this.promise,this.onFulfilled,w)},b.prototype.callRejected=function(w){u.reject(this.promise,w)},b.prototype.otherCallRejected=function(w){m(this.promise,this.onRejected,w)},u.resolve=function(w,S){var k=E(A,S);if(k.status==="error")return u.reject(w,k.value);var I=k.value;if(I)_(w,I);else{w.state=f,w.outcome=S;for(var L=-1,j=w.queue.length;++L<j;)w.queue[L].callFulfilled(S)}return w},u.reject=function(w,S){w.state=h,w.outcome=S;for(var k=-1,I=w.queue.length;++k<I;)w.queue[k].callRejected(S);return w},g.resolve=function(w){return w instanceof this?w:u.resolve(new this(l),w)},g.reject=function(w){var S=new this(l);return u.reject(S,w)},g.all=function(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,I=!1;if(!k)return this.resolve([]);for(var L=new Array(k),j=0,W=-1,Y=new this(l);++W<k;)B(w[W],W);return Y;function B(te,de){S.resolve(te).then(function(D){L[de]=D,++j!==k||I||(I=!0,u.resolve(Y,L))},function(D){I||(I=!0,u.reject(Y,D))})}},g.race=function(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,I=!1;if(!k)return this.resolve([]);for(var L=-1,j=new this(l);++L<k;)W=w[L],S.resolve(W).then(function(Y){I||(I=!0,u.resolve(j,Y))},function(Y){I||(I=!0,u.reject(j,Y))});var W;return j}},{immediate:36}],38:[function(t,n,s){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,s){var o=t("./zlib/deflate"),l=t("./utils/common"),u=t("./utils/strings"),h=t("./zlib/messages"),f=t("./zlib/zstream"),v=Object.prototype.toString,g=0,b=-1,m=0,A=8;function _(w){if(!(this instanceof _))return new _(w);this.options=l.assign({level:b,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},w||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var k=o.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(k!==g)throw new Error(h[k]);if(S.header&&o.deflateSetHeader(this.strm,S.header),S.dictionary){var I;if(I=typeof S.dictionary=="string"?u.string2buf(S.dictionary):v.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(k=o.deflateSetDictionary(this.strm,I))!==g)throw new Error(h[k]);this._dict_set=!0}}function E(w,S){var k=new _(S);if(k.push(w,!0),k.err)throw k.msg||h[k.err];return k.result}_.prototype.push=function(w,S){var k,I,L=this.strm,j=this.options.chunkSize;if(this.ended)return!1;I=S===~~S?S:S===!0?4:0,typeof w=="string"?L.input=u.string2buf(w):v.call(w)==="[object ArrayBuffer]"?L.input=new Uint8Array(w):L.input=w,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new l.Buf8(j),L.next_out=0,L.avail_out=j),(k=o.deflate(L,I))!==1&&k!==g)return this.onEnd(k),!(this.ended=!0);L.avail_out!==0&&(L.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf(L.output,L.next_out))):this.onData(l.shrinkBuf(L.output,L.next_out)))}while((0<L.avail_in||L.avail_out===0)&&k!==1);return I===4?(k=o.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===g):I!==2||(this.onEnd(g),!(L.avail_out=0))},_.prototype.onData=function(w){this.chunks.push(w)},_.prototype.onEnd=function(w){w===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},s.Deflate=_,s.deflate=E,s.deflateRaw=function(w,S){return(S=S||{}).raw=!0,E(w,S)},s.gzip=function(w,S){return(S=S||{}).gzip=!0,E(w,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,s){var o=t("./zlib/inflate"),l=t("./utils/common"),u=t("./utils/strings"),h=t("./zlib/constants"),f=t("./zlib/messages"),v=t("./zlib/zstream"),g=t("./zlib/gzheader"),b=Object.prototype.toString;function m(_){if(!(this instanceof m))return new m(_);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},_||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||_&&_.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&!(15&E.windowBits)&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var w=o.inflateInit2(this.strm,E.windowBits);if(w!==h.Z_OK)throw new Error(f[w]);this.header=new g,o.inflateGetHeader(this.strm,this.header)}function A(_,E){var w=new m(E);if(w.push(_,!0),w.err)throw w.msg||f[w.err];return w.result}m.prototype.push=function(_,E){var w,S,k,I,L,j,W=this.strm,Y=this.options.chunkSize,B=this.options.dictionary,te=!1;if(this.ended)return!1;S=E===~~E?E:E===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof _=="string"?W.input=u.binstring2buf(_):b.call(_)==="[object ArrayBuffer]"?W.input=new Uint8Array(_):W.input=_,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new l.Buf8(Y),W.next_out=0,W.avail_out=Y),(w=o.inflate(W,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&B&&(j=typeof B=="string"?u.string2buf(B):b.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,w=o.inflateSetDictionary(this.strm,j)),w===h.Z_BUF_ERROR&&te===!0&&(w=h.Z_OK,te=!1),w!==h.Z_STREAM_END&&w!==h.Z_OK)return this.onEnd(w),!(this.ended=!0);W.next_out&&(W.avail_out!==0&&w!==h.Z_STREAM_END&&(W.avail_in!==0||S!==h.Z_FINISH&&S!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=u.utf8border(W.output,W.next_out),I=W.next_out-k,L=u.buf2string(W.output,k),W.next_out=I,W.avail_out=Y-I,I&&l.arraySet(W.output,W.output,k,I,0),this.onData(L)):this.onData(l.shrinkBuf(W.output,W.next_out)))),W.avail_in===0&&W.avail_out===0&&(te=!0)}while((0<W.avail_in||W.avail_out===0)&&w!==h.Z_STREAM_END);return w===h.Z_STREAM_END&&(S=h.Z_FINISH),S===h.Z_FINISH?(w=o.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===h.Z_OK):S!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(W.avail_out=0))},m.prototype.onData=function(_){this.chunks.push(_)},m.prototype.onEnd=function(_){_===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},s.Inflate=m,s.inflate=A,s.inflateRaw=function(_,E){return(E=E||{}).raw=!0,A(_,E)},s.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(h){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var v=f.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var g in v)v.hasOwnProperty(g)&&(h[g]=v[g])}}return h},s.shrinkBuf=function(h,f){return h.length===f?h:h.subarray?h.subarray(0,f):(h.length=f,h)};var l={arraySet:function(h,f,v,g,b){if(f.subarray&&h.subarray)h.set(f.subarray(v,v+g),b);else for(var m=0;m<g;m++)h[b+m]=f[v+m]},flattenChunks:function(h){var f,v,g,b,m,A;for(f=g=0,v=h.length;f<v;f++)g+=h[f].length;for(A=new Uint8Array(g),f=b=0,v=h.length;f<v;f++)m=h[f],A.set(m,b),b+=m.length;return A}},u={arraySet:function(h,f,v,g,b){for(var m=0;m<g;m++)h[b+m]=f[v+m]},flattenChunks:function(h){return[].concat.apply([],h)}};s.setTyped=function(h){h?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,l)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,u))},s.setTyped(o)},{}],42:[function(t,n,s){var o=t("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var h=new o.Buf8(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function v(g,b){if(b<65537&&(g.subarray&&u||!g.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(g,b));for(var m="",A=0;A<b;A++)m+=String.fromCharCode(g[A]);return m}h[254]=h[254]=1,s.string2buf=function(g){var b,m,A,_,E,w=g.length,S=0;for(_=0;_<w;_++)(64512&(m=g.charCodeAt(_)))==55296&&_+1<w&&(64512&(A=g.charCodeAt(_+1)))==56320&&(m=65536+(m-55296<<10)+(A-56320),_++),S+=m<128?1:m<2048?2:m<65536?3:4;for(b=new o.Buf8(S),_=E=0;E<S;_++)(64512&(m=g.charCodeAt(_)))==55296&&_+1<w&&(64512&(A=g.charCodeAt(_+1)))==56320&&(m=65536+(m-55296<<10)+(A-56320),_++),m<128?b[E++]=m:(m<2048?b[E++]=192|m>>>6:(m<65536?b[E++]=224|m>>>12:(b[E++]=240|m>>>18,b[E++]=128|m>>>12&63),b[E++]=128|m>>>6&63),b[E++]=128|63&m);return b},s.buf2binstring=function(g){return v(g,g.length)},s.binstring2buf=function(g){for(var b=new o.Buf8(g.length),m=0,A=b.length;m<A;m++)b[m]=g.charCodeAt(m);return b},s.buf2string=function(g,b){var m,A,_,E,w=b||g.length,S=new Array(2*w);for(m=A=0;m<w;)if((_=g[m++])<128)S[A++]=_;else if(4<(E=h[_]))S[A++]=65533,m+=E-1;else{for(_&=E===2?31:E===3?15:7;1<E&&m<w;)_=_<<6|63&g[m++],E--;1<E?S[A++]=65533:_<65536?S[A++]=_:(_-=65536,S[A++]=55296|_>>10&1023,S[A++]=56320|1023&_)}return v(S,A)},s.utf8border=function(g,b){var m;for((b=b||g.length)>g.length&&(b=g.length),m=b-1;0<=m&&(192&g[m])==128;)m--;return m<0||m===0?b:m+h[g[m]]>b?m:b}},{"./common":41}],43:[function(t,n,s){n.exports=function(o,l,u,h){for(var f=65535&o|0,v=o>>>16&65535|0,g=0;u!==0;){for(u-=g=2e3<u?2e3:u;v=v+(f=f+l[h++]|0)|0,--g;);f%=65521,v%=65521}return f|v<<16|0}},{}],44:[function(t,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,s){var o=function(){for(var l,u=[],h=0;h<256;h++){l=h;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[h]=l}return u}();n.exports=function(l,u,h,f){var v=o,g=f+h;l^=-1;for(var b=f;b<g;b++)l=l>>>8^v[255&(l^u[b])];return-1^l}},{}],46:[function(t,n,s){var o,l=t("../utils/common"),u=t("./trees"),h=t("./adler32"),f=t("./crc32"),v=t("./messages"),g=0,b=4,m=0,A=-2,_=-1,E=4,w=2,S=8,k=9,I=286,L=30,j=19,W=2*I+1,Y=15,B=3,te=258,de=te+B+1,D=42,ne=113,y=1,ae=2,Te=3,ie=4;function ge(p,U){return p.msg=v[U],U}function ce(p){return(p<<1)-(4<p?9:0)}function Ee(p){for(var U=p.length;0<=--U;)p[U]=0}function J(p){var U=p.state,F=U.pending;F>p.avail_out&&(F=p.avail_out),F!==0&&(l.arraySet(p.output,U.pending_buf,U.pending_out,F,p.next_out),p.next_out+=F,U.pending_out+=F,p.total_out+=F,p.avail_out-=F,U.pending-=F,U.pending===0&&(U.pending_out=0))}function X(p,U){u._tr_flush_block(p,0<=p.block_start?p.block_start:-1,p.strstart-p.block_start,U),p.block_start=p.strstart,J(p.strm)}function xe(p,U){p.pending_buf[p.pending++]=U}function ve(p,U){p.pending_buf[p.pending++]=U>>>8&255,p.pending_buf[p.pending++]=255&U}function pe(p,U){var F,R,C=p.max_chain_length,O=p.strstart,q=p.prev_length,G=p.nice_match,$=p.strstart>p.w_size-de?p.strstart-(p.w_size-de):0,Q=p.window,oe=p.w_mask,re=p.prev,me=p.strstart+te,ke=Q[O+q-1],ye=Q[O+q];p.prev_length>=p.good_match&&(C>>=2),G>p.lookahead&&(G=p.lookahead);do if(Q[(F=U)+q]===ye&&Q[F+q-1]===ke&&Q[F]===Q[O]&&Q[++F]===Q[O+1]){O+=2,F++;do;while(Q[++O]===Q[++F]&&Q[++O]===Q[++F]&&Q[++O]===Q[++F]&&Q[++O]===Q[++F]&&Q[++O]===Q[++F]&&Q[++O]===Q[++F]&&Q[++O]===Q[++F]&&Q[++O]===Q[++F]&&O<me);if(R=te-(me-O),O=me-te,q<R){if(p.match_start=U,G<=(q=R))break;ke=Q[O+q-1],ye=Q[O+q]}}while((U=re[U&oe])>$&&--C!=0);return q<=p.lookahead?q:p.lookahead}function Me(p){var U,F,R,C,O,q,G,$,Q,oe,re=p.w_size;do{if(C=p.window_size-p.lookahead-p.strstart,p.strstart>=re+(re-de)){for(l.arraySet(p.window,p.window,re,re,0),p.match_start-=re,p.strstart-=re,p.block_start-=re,U=F=p.hash_size;R=p.head[--U],p.head[U]=re<=R?R-re:0,--F;);for(U=F=re;R=p.prev[--U],p.prev[U]=re<=R?R-re:0,--F;);C+=re}if(p.strm.avail_in===0)break;if(q=p.strm,G=p.window,$=p.strstart+p.lookahead,Q=C,oe=void 0,oe=q.avail_in,Q<oe&&(oe=Q),F=oe===0?0:(q.avail_in-=oe,l.arraySet(G,q.input,q.next_in,oe,$),q.state.wrap===1?q.adler=h(q.adler,G,oe,$):q.state.wrap===2&&(q.adler=f(q.adler,G,oe,$)),q.next_in+=oe,q.total_in+=oe,oe),p.lookahead+=F,p.lookahead+p.insert>=B)for(O=p.strstart-p.insert,p.ins_h=p.window[O],p.ins_h=(p.ins_h<<p.hash_shift^p.window[O+1])&p.hash_mask;p.insert&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[O+B-1])&p.hash_mask,p.prev[O&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=O,O++,p.insert--,!(p.lookahead+p.insert<B)););}while(p.lookahead<de&&p.strm.avail_in!==0)}function ut(p,U){for(var F,R;;){if(p.lookahead<de){if(Me(p),p.lookahead<de&&U===g)return y;if(p.lookahead===0)break}if(F=0,p.lookahead>=B&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+B-1])&p.hash_mask,F=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),F!==0&&p.strstart-F<=p.w_size-de&&(p.match_length=pe(p,F)),p.match_length>=B)if(R=u._tr_tally(p,p.strstart-p.match_start,p.match_length-B),p.lookahead-=p.match_length,p.match_length<=p.max_lazy_match&&p.lookahead>=B){for(p.match_length--;p.strstart++,p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+B-1])&p.hash_mask,F=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart,--p.match_length!=0;);p.strstart++}else p.strstart+=p.match_length,p.match_length=0,p.ins_h=p.window[p.strstart],p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+1])&p.hash_mask;else R=u._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++;if(R&&(X(p,!1),p.strm.avail_out===0))return y}return p.insert=p.strstart<B-1?p.strstart:B-1,U===b?(X(p,!0),p.strm.avail_out===0?Te:ie):p.last_lit&&(X(p,!1),p.strm.avail_out===0)?y:ae}function Ie(p,U){for(var F,R,C;;){if(p.lookahead<de){if(Me(p),p.lookahead<de&&U===g)return y;if(p.lookahead===0)break}if(F=0,p.lookahead>=B&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+B-1])&p.hash_mask,F=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),p.prev_length=p.match_length,p.prev_match=p.match_start,p.match_length=B-1,F!==0&&p.prev_length<p.max_lazy_match&&p.strstart-F<=p.w_size-de&&(p.match_length=pe(p,F),p.match_length<=5&&(p.strategy===1||p.match_length===B&&4096<p.strstart-p.match_start)&&(p.match_length=B-1)),p.prev_length>=B&&p.match_length<=p.prev_length){for(C=p.strstart+p.lookahead-B,R=u._tr_tally(p,p.strstart-1-p.prev_match,p.prev_length-B),p.lookahead-=p.prev_length-1,p.prev_length-=2;++p.strstart<=C&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+B-1])&p.hash_mask,F=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),--p.prev_length!=0;);if(p.match_available=0,p.match_length=B-1,p.strstart++,R&&(X(p,!1),p.strm.avail_out===0))return y}else if(p.match_available){if((R=u._tr_tally(p,0,p.window[p.strstart-1]))&&X(p,!1),p.strstart++,p.lookahead--,p.strm.avail_out===0)return y}else p.match_available=1,p.strstart++,p.lookahead--}return p.match_available&&(R=u._tr_tally(p,0,p.window[p.strstart-1]),p.match_available=0),p.insert=p.strstart<B-1?p.strstart:B-1,U===b?(X(p,!0),p.strm.avail_out===0?Te:ie):p.last_lit&&(X(p,!1),p.strm.avail_out===0)?y:ae}function Oe(p,U,F,R,C){this.good_length=p,this.max_lazy=U,this.nice_length=F,this.max_chain=R,this.func=C}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*W),this.dyn_dtree=new l.Buf16(2*(2*L+1)),this.bl_tree=new l.Buf16(2*(2*j+1)),Ee(this.dyn_ltree),Ee(this.dyn_dtree),Ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(Y+1),this.heap=new l.Buf16(2*I+1),Ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*I+1),Ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ye(p){var U;return p&&p.state?(p.total_in=p.total_out=0,p.data_type=w,(U=p.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?D:ne,p.adler=U.wrap===2?0:1,U.last_flush=g,u._tr_init(U),m):ge(p,A)}function M(p){var U=Ye(p);return U===m&&function(F){F.window_size=2*F.w_size,Ee(F.head),F.max_lazy_match=o[F.level].max_lazy,F.good_match=o[F.level].good_length,F.nice_match=o[F.level].nice_length,F.max_chain_length=o[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=B-1,F.match_available=0,F.ins_h=0}(p.state),U}function K(p,U,F,R,C,O){if(!p)return A;var q=1;if(U===_&&(U=6),R<0?(q=0,R=-R):15<R&&(q=2,R-=16),C<1||k<C||F!==S||R<8||15<R||U<0||9<U||O<0||E<O)return ge(p,A);R===8&&(R=9);var G=new ct;return(p.state=G).strm=p,G.wrap=q,G.gzhead=null,G.w_bits=R,G.w_size=1<<G.w_bits,G.w_mask=G.w_size-1,G.hash_bits=C+7,G.hash_size=1<<G.hash_bits,G.hash_mask=G.hash_size-1,G.hash_shift=~~((G.hash_bits+B-1)/B),G.window=new l.Buf8(2*G.w_size),G.head=new l.Buf16(G.hash_size),G.prev=new l.Buf16(G.w_size),G.lit_bufsize=1<<C+6,G.pending_buf_size=4*G.lit_bufsize,G.pending_buf=new l.Buf8(G.pending_buf_size),G.d_buf=1*G.lit_bufsize,G.l_buf=3*G.lit_bufsize,G.level=U,G.strategy=O,G.method=F,M(p)}o=[new Oe(0,0,0,0,function(p,U){var F=65535;for(F>p.pending_buf_size-5&&(F=p.pending_buf_size-5);;){if(p.lookahead<=1){if(Me(p),p.lookahead===0&&U===g)return y;if(p.lookahead===0)break}p.strstart+=p.lookahead,p.lookahead=0;var R=p.block_start+F;if((p.strstart===0||p.strstart>=R)&&(p.lookahead=p.strstart-R,p.strstart=R,X(p,!1),p.strm.avail_out===0)||p.strstart-p.block_start>=p.w_size-de&&(X(p,!1),p.strm.avail_out===0))return y}return p.insert=0,U===b?(X(p,!0),p.strm.avail_out===0?Te:ie):(p.strstart>p.block_start&&(X(p,!1),p.strm.avail_out),y)}),new Oe(4,4,8,4,ut),new Oe(4,5,16,8,ut),new Oe(4,6,32,32,ut),new Oe(4,4,16,16,Ie),new Oe(8,16,32,32,Ie),new Oe(8,16,128,128,Ie),new Oe(8,32,128,256,Ie),new Oe(32,128,258,1024,Ie),new Oe(32,258,258,4096,Ie)],s.deflateInit=function(p,U){return K(p,U,S,15,8,0)},s.deflateInit2=K,s.deflateReset=M,s.deflateResetKeep=Ye,s.deflateSetHeader=function(p,U){return p&&p.state?p.state.wrap!==2?A:(p.state.gzhead=U,m):A},s.deflate=function(p,U){var F,R,C,O;if(!p||!p.state||5<U||U<0)return p?ge(p,A):A;if(R=p.state,!p.output||!p.input&&p.avail_in!==0||R.status===666&&U!==b)return ge(p,p.avail_out===0?-5:A);if(R.strm=p,F=R.last_flush,R.last_flush=U,R.status===D)if(R.wrap===2)p.adler=0,xe(R,31),xe(R,139),xe(R,8),R.gzhead?(xe(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),xe(R,255&R.gzhead.time),xe(R,R.gzhead.time>>8&255),xe(R,R.gzhead.time>>16&255),xe(R,R.gzhead.time>>24&255),xe(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),xe(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(xe(R,255&R.gzhead.extra.length),xe(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(p.adler=f(p.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(xe(R,0),xe(R,0),xe(R,0),xe(R,0),xe(R,0),xe(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),xe(R,3),R.status=ne);else{var q=S+(R.w_bits-8<<4)<<8;q|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(q|=32),q+=31-q%31,R.status=ne,ve(R,q),R.strstart!==0&&(ve(R,p.adler>>>16),ve(R,65535&p.adler)),p.adler=1}if(R.status===69)if(R.gzhead.extra){for(C=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>C&&(p.adler=f(p.adler,R.pending_buf,R.pending-C,C)),J(p),C=R.pending,R.pending!==R.pending_buf_size));)xe(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>C&&(p.adler=f(p.adler,R.pending_buf,R.pending-C,C)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){C=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>C&&(p.adler=f(p.adler,R.pending_buf,R.pending-C,C)),J(p),C=R.pending,R.pending===R.pending_buf_size)){O=1;break}O=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,xe(R,O)}while(O!==0);R.gzhead.hcrc&&R.pending>C&&(p.adler=f(p.adler,R.pending_buf,R.pending-C,C)),O===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){C=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>C&&(p.adler=f(p.adler,R.pending_buf,R.pending-C,C)),J(p),C=R.pending,R.pending===R.pending_buf_size)){O=1;break}O=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,xe(R,O)}while(O!==0);R.gzhead.hcrc&&R.pending>C&&(p.adler=f(p.adler,R.pending_buf,R.pending-C,C)),O===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&J(p),R.pending+2<=R.pending_buf_size&&(xe(R,255&p.adler),xe(R,p.adler>>8&255),p.adler=0,R.status=ne)):R.status=ne),R.pending!==0){if(J(p),p.avail_out===0)return R.last_flush=-1,m}else if(p.avail_in===0&&ce(U)<=ce(F)&&U!==b)return ge(p,-5);if(R.status===666&&p.avail_in!==0)return ge(p,-5);if(p.avail_in!==0||R.lookahead!==0||U!==g&&R.status!==666){var G=R.strategy===2?function($,Q){for(var oe;;){if($.lookahead===0&&(Me($),$.lookahead===0)){if(Q===g)return y;break}if($.match_length=0,oe=u._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,oe&&(X($,!1),$.strm.avail_out===0))return y}return $.insert=0,Q===b?(X($,!0),$.strm.avail_out===0?Te:ie):$.last_lit&&(X($,!1),$.strm.avail_out===0)?y:ae}(R,U):R.strategy===3?function($,Q){for(var oe,re,me,ke,ye=$.window;;){if($.lookahead<=te){if(Me($),$.lookahead<=te&&Q===g)return y;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=B&&0<$.strstart&&(re=ye[me=$.strstart-1])===ye[++me]&&re===ye[++me]&&re===ye[++me]){ke=$.strstart+te;do;while(re===ye[++me]&&re===ye[++me]&&re===ye[++me]&&re===ye[++me]&&re===ye[++me]&&re===ye[++me]&&re===ye[++me]&&re===ye[++me]&&me<ke);$.match_length=te-(ke-me),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=B?(oe=u._tr_tally($,1,$.match_length-B),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(oe=u._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),oe&&(X($,!1),$.strm.avail_out===0))return y}return $.insert=0,Q===b?(X($,!0),$.strm.avail_out===0?Te:ie):$.last_lit&&(X($,!1),$.strm.avail_out===0)?y:ae}(R,U):o[R.level].func(R,U);if(G!==Te&&G!==ie||(R.status=666),G===y||G===Te)return p.avail_out===0&&(R.last_flush=-1),m;if(G===ae&&(U===1?u._tr_align(R):U!==5&&(u._tr_stored_block(R,0,0,!1),U===3&&(Ee(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),J(p),p.avail_out===0))return R.last_flush=-1,m}return U!==b?m:R.wrap<=0?1:(R.wrap===2?(xe(R,255&p.adler),xe(R,p.adler>>8&255),xe(R,p.adler>>16&255),xe(R,p.adler>>24&255),xe(R,255&p.total_in),xe(R,p.total_in>>8&255),xe(R,p.total_in>>16&255),xe(R,p.total_in>>24&255)):(ve(R,p.adler>>>16),ve(R,65535&p.adler)),J(p),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?m:1)},s.deflateEnd=function(p){var U;return p&&p.state?(U=p.state.status)!==D&&U!==69&&U!==73&&U!==91&&U!==103&&U!==ne&&U!==666?ge(p,A):(p.state=null,U===ne?ge(p,-3):m):A},s.deflateSetDictionary=function(p,U){var F,R,C,O,q,G,$,Q,oe=U.length;if(!p||!p.state||(O=(F=p.state).wrap)===2||O===1&&F.status!==D||F.lookahead)return A;for(O===1&&(p.adler=h(p.adler,U,oe,0)),F.wrap=0,oe>=F.w_size&&(O===0&&(Ee(F.head),F.strstart=0,F.block_start=0,F.insert=0),Q=new l.Buf8(F.w_size),l.arraySet(Q,U,oe-F.w_size,F.w_size,0),U=Q,oe=F.w_size),q=p.avail_in,G=p.next_in,$=p.input,p.avail_in=oe,p.next_in=0,p.input=U,Me(F);F.lookahead>=B;){for(R=F.strstart,C=F.lookahead-(B-1);F.ins_h=(F.ins_h<<F.hash_shift^F.window[R+B-1])&F.hash_mask,F.prev[R&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=R,R++,--C;);F.strstart=R,F.lookahead=B-1,Me(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=B-1,F.match_available=0,p.next_in=G,p.input=$,p.avail_in=q,F.wrap=O,m},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,s){n.exports=function(o,l){var u,h,f,v,g,b,m,A,_,E,w,S,k,I,L,j,W,Y,B,te,de,D,ne,y,ae;u=o.state,h=o.next_in,y=o.input,f=h+(o.avail_in-5),v=o.next_out,ae=o.output,g=v-(l-o.avail_out),b=v+(o.avail_out-257),m=u.dmax,A=u.wsize,_=u.whave,E=u.wnext,w=u.window,S=u.hold,k=u.bits,I=u.lencode,L=u.distcode,j=(1<<u.lenbits)-1,W=(1<<u.distbits)-1;e:do{k<15&&(S+=y[h++]<<k,k+=8,S+=y[h++]<<k,k+=8),Y=I[S&j];t:for(;;){if(S>>>=B=Y>>>24,k-=B,(B=Y>>>16&255)===0)ae[v++]=65535&Y;else{if(!(16&B)){if(!(64&B)){Y=I[(65535&Y)+(S&(1<<B)-1)];continue t}if(32&B){u.mode=12;break e}o.msg="invalid literal/length code",u.mode=30;break e}te=65535&Y,(B&=15)&&(k<B&&(S+=y[h++]<<k,k+=8),te+=S&(1<<B)-1,S>>>=B,k-=B),k<15&&(S+=y[h++]<<k,k+=8,S+=y[h++]<<k,k+=8),Y=L[S&W];n:for(;;){if(S>>>=B=Y>>>24,k-=B,!(16&(B=Y>>>16&255))){if(!(64&B)){Y=L[(65535&Y)+(S&(1<<B)-1)];continue n}o.msg="invalid distance code",u.mode=30;break e}if(de=65535&Y,k<(B&=15)&&(S+=y[h++]<<k,(k+=8)<B&&(S+=y[h++]<<k,k+=8)),m<(de+=S&(1<<B)-1)){o.msg="invalid distance too far back",u.mode=30;break e}if(S>>>=B,k-=B,(B=v-g)<de){if(_<(B=de-B)&&u.sane){o.msg="invalid distance too far back",u.mode=30;break e}if(ne=w,(D=0)===E){if(D+=A-B,B<te){for(te-=B;ae[v++]=w[D++],--B;);D=v-de,ne=ae}}else if(E<B){if(D+=A+E-B,(B-=E)<te){for(te-=B;ae[v++]=w[D++],--B;);if(D=0,E<te){for(te-=B=E;ae[v++]=w[D++],--B;);D=v-de,ne=ae}}}else if(D+=E-B,B<te){for(te-=B;ae[v++]=w[D++],--B;);D=v-de,ne=ae}for(;2<te;)ae[v++]=ne[D++],ae[v++]=ne[D++],ae[v++]=ne[D++],te-=3;te&&(ae[v++]=ne[D++],1<te&&(ae[v++]=ne[D++]))}else{for(D=v-de;ae[v++]=ae[D++],ae[v++]=ae[D++],ae[v++]=ae[D++],2<(te-=3););te&&(ae[v++]=ae[D++],1<te&&(ae[v++]=ae[D++]))}break}}break}}while(h<f&&v<b);h-=te=k>>3,S&=(1<<(k-=te<<3))-1,o.next_in=h,o.next_out=v,o.avail_in=h<f?f-h+5:5-(h-f),o.avail_out=v<b?b-v+257:257-(v-b),u.hold=S,u.bits=k}},{}],49:[function(t,n,s){var o=t("../utils/common"),l=t("./adler32"),u=t("./crc32"),h=t("./inffast"),f=t("./inftrees"),v=1,g=2,b=0,m=-2,A=1,_=852,E=592;function w(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(D){var ne;return D&&D.state?(ne=D.state,D.total_in=D.total_out=ne.total=0,D.msg="",ne.wrap&&(D.adler=1&ne.wrap),ne.mode=A,ne.last=0,ne.havedict=0,ne.dmax=32768,ne.head=null,ne.hold=0,ne.bits=0,ne.lencode=ne.lendyn=new o.Buf32(_),ne.distcode=ne.distdyn=new o.Buf32(E),ne.sane=1,ne.back=-1,b):m}function I(D){var ne;return D&&D.state?((ne=D.state).wsize=0,ne.whave=0,ne.wnext=0,k(D)):m}function L(D,ne){var y,ae;return D&&D.state?(ae=D.state,ne<0?(y=0,ne=-ne):(y=1+(ne>>4),ne<48&&(ne&=15)),ne&&(ne<8||15<ne)?m:(ae.window!==null&&ae.wbits!==ne&&(ae.window=null),ae.wrap=y,ae.wbits=ne,I(D))):m}function j(D,ne){var y,ae;return D?(ae=new S,(D.state=ae).window=null,(y=L(D,ne))!==b&&(D.state=null),y):m}var W,Y,B=!0;function te(D){if(B){var ne;for(W=new o.Buf32(512),Y=new o.Buf32(32),ne=0;ne<144;)D.lens[ne++]=8;for(;ne<256;)D.lens[ne++]=9;for(;ne<280;)D.lens[ne++]=7;for(;ne<288;)D.lens[ne++]=8;for(f(v,D.lens,0,288,W,0,D.work,{bits:9}),ne=0;ne<32;)D.lens[ne++]=5;f(g,D.lens,0,32,Y,0,D.work,{bits:5}),B=!1}D.lencode=W,D.lenbits=9,D.distcode=Y,D.distbits=5}function de(D,ne,y,ae){var Te,ie=D.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new o.Buf8(ie.wsize)),ae>=ie.wsize?(o.arraySet(ie.window,ne,y-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):(ae<(Te=ie.wsize-ie.wnext)&&(Te=ae),o.arraySet(ie.window,ne,y-ae,Te,ie.wnext),(ae-=Te)?(o.arraySet(ie.window,ne,y-ae,ae,0),ie.wnext=ae,ie.whave=ie.wsize):(ie.wnext+=Te,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=Te))),0}s.inflateReset=I,s.inflateReset2=L,s.inflateResetKeep=k,s.inflateInit=function(D){return j(D,15)},s.inflateInit2=j,s.inflate=function(D,ne){var y,ae,Te,ie,ge,ce,Ee,J,X,xe,ve,pe,Me,ut,Ie,Oe,ct,Ye,M,K,p,U,F,R,C=0,O=new o.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return m;(y=D.state).mode===12&&(y.mode=13),ge=D.next_out,Te=D.output,Ee=D.avail_out,ie=D.next_in,ae=D.input,ce=D.avail_in,J=y.hold,X=y.bits,xe=ce,ve=Ee,U=b;e:for(;;)switch(y.mode){case A:if(y.wrap===0){y.mode=13;break}for(;X<16;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}if(2&y.wrap&&J===35615){O[y.check=0]=255&J,O[1]=J>>>8&255,y.check=u(y.check,O,2,0),X=J=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&J)<<8)+(J>>8))%31){D.msg="incorrect header check",y.mode=30;break}if((15&J)!=8){D.msg="unknown compression method",y.mode=30;break}if(X-=4,p=8+(15&(J>>>=4)),y.wbits===0)y.wbits=p;else if(p>y.wbits){D.msg="invalid window size",y.mode=30;break}y.dmax=1<<p,D.adler=y.check=1,y.mode=512&J?10:12,X=J=0;break;case 2:for(;X<16;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}if(y.flags=J,(255&y.flags)!=8){D.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){D.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=J>>8&1),512&y.flags&&(O[0]=255&J,O[1]=J>>>8&255,y.check=u(y.check,O,2,0)),X=J=0,y.mode=3;case 3:for(;X<32;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}y.head&&(y.head.time=J),512&y.flags&&(O[0]=255&J,O[1]=J>>>8&255,O[2]=J>>>16&255,O[3]=J>>>24&255,y.check=u(y.check,O,4,0)),X=J=0,y.mode=4;case 4:for(;X<16;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}y.head&&(y.head.xflags=255&J,y.head.os=J>>8),512&y.flags&&(O[0]=255&J,O[1]=J>>>8&255,y.check=u(y.check,O,2,0)),X=J=0,y.mode=5;case 5:if(1024&y.flags){for(;X<16;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}y.length=J,y.head&&(y.head.extra_len=J),512&y.flags&&(O[0]=255&J,O[1]=J>>>8&255,y.check=u(y.check,O,2,0)),X=J=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(ce<(pe=y.length)&&(pe=ce),pe&&(y.head&&(p=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),o.arraySet(y.head.extra,ae,ie,pe,p)),512&y.flags&&(y.check=u(y.check,ae,pe,ie)),ce-=pe,ie+=pe,y.length-=pe),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(ce===0)break e;for(pe=0;p=ae[ie+pe++],y.head&&p&&y.length<65536&&(y.head.name+=String.fromCharCode(p)),p&&pe<ce;);if(512&y.flags&&(y.check=u(y.check,ae,pe,ie)),ce-=pe,ie+=pe,p)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(ce===0)break e;for(pe=0;p=ae[ie+pe++],y.head&&p&&y.length<65536&&(y.head.comment+=String.fromCharCode(p)),p&&pe<ce;);if(512&y.flags&&(y.check=u(y.check,ae,pe,ie)),ce-=pe,ie+=pe,p)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;X<16;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}if(J!==(65535&y.check)){D.msg="header crc mismatch",y.mode=30;break}X=J=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),D.adler=y.check=0,y.mode=12;break;case 10:for(;X<32;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}D.adler=y.check=w(J),X=J=0,y.mode=11;case 11:if(y.havedict===0)return D.next_out=ge,D.avail_out=Ee,D.next_in=ie,D.avail_in=ce,y.hold=J,y.bits=X,2;D.adler=y.check=1,y.mode=12;case 12:if(ne===5||ne===6)break e;case 13:if(y.last){J>>>=7&X,X-=7&X,y.mode=27;break}for(;X<3;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}switch(y.last=1&J,X-=1,3&(J>>>=1)){case 0:y.mode=14;break;case 1:if(te(y),y.mode=20,ne!==6)break;J>>>=2,X-=2;break e;case 2:y.mode=17;break;case 3:D.msg="invalid block type",y.mode=30}J>>>=2,X-=2;break;case 14:for(J>>>=7&X,X-=7&X;X<32;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}if((65535&J)!=(J>>>16^65535)){D.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&J,X=J=0,y.mode=15,ne===6)break e;case 15:y.mode=16;case 16:if(pe=y.length){if(ce<pe&&(pe=ce),Ee<pe&&(pe=Ee),pe===0)break e;o.arraySet(Te,ae,ie,pe,ge),ce-=pe,ie+=pe,Ee-=pe,ge+=pe,y.length-=pe;break}y.mode=12;break;case 17:for(;X<14;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}if(y.nlen=257+(31&J),J>>>=5,X-=5,y.ndist=1+(31&J),J>>>=5,X-=5,y.ncode=4+(15&J),J>>>=4,X-=4,286<y.nlen||30<y.ndist){D.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;X<3;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}y.lens[q[y.have++]]=7&J,J>>>=3,X-=3}for(;y.have<19;)y.lens[q[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,F={bits:y.lenbits},U=f(0,y.lens,0,19,y.lencode,0,y.work,F),y.lenbits=F.bits,U){D.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;Oe=(C=y.lencode[J&(1<<y.lenbits)-1])>>>16&255,ct=65535&C,!((Ie=C>>>24)<=X);){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}if(ct<16)J>>>=Ie,X-=Ie,y.lens[y.have++]=ct;else{if(ct===16){for(R=Ie+2;X<R;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}if(J>>>=Ie,X-=Ie,y.have===0){D.msg="invalid bit length repeat",y.mode=30;break}p=y.lens[y.have-1],pe=3+(3&J),J>>>=2,X-=2}else if(ct===17){for(R=Ie+3;X<R;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}X-=Ie,p=0,pe=3+(7&(J>>>=Ie)),J>>>=3,X-=3}else{for(R=Ie+7;X<R;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}X-=Ie,p=0,pe=11+(127&(J>>>=Ie)),J>>>=7,X-=7}if(y.have+pe>y.nlen+y.ndist){D.msg="invalid bit length repeat",y.mode=30;break}for(;pe--;)y.lens[y.have++]=p}}if(y.mode===30)break;if(y.lens[256]===0){D.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,F={bits:y.lenbits},U=f(v,y.lens,0,y.nlen,y.lencode,0,y.work,F),y.lenbits=F.bits,U){D.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,F={bits:y.distbits},U=f(g,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,F),y.distbits=F.bits,U){D.msg="invalid distances set",y.mode=30;break}if(y.mode=20,ne===6)break e;case 20:y.mode=21;case 21:if(6<=ce&&258<=Ee){D.next_out=ge,D.avail_out=Ee,D.next_in=ie,D.avail_in=ce,y.hold=J,y.bits=X,h(D,ve),ge=D.next_out,Te=D.output,Ee=D.avail_out,ie=D.next_in,ae=D.input,ce=D.avail_in,J=y.hold,X=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;Oe=(C=y.lencode[J&(1<<y.lenbits)-1])>>>16&255,ct=65535&C,!((Ie=C>>>24)<=X);){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}if(Oe&&!(240&Oe)){for(Ye=Ie,M=Oe,K=ct;Oe=(C=y.lencode[K+((J&(1<<Ye+M)-1)>>Ye)])>>>16&255,ct=65535&C,!(Ye+(Ie=C>>>24)<=X);){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}J>>>=Ye,X-=Ye,y.back+=Ye}if(J>>>=Ie,X-=Ie,y.back+=Ie,y.length=ct,Oe===0){y.mode=26;break}if(32&Oe){y.back=-1,y.mode=12;break}if(64&Oe){D.msg="invalid literal/length code",y.mode=30;break}y.extra=15&Oe,y.mode=22;case 22:if(y.extra){for(R=y.extra;X<R;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}y.length+=J&(1<<y.extra)-1,J>>>=y.extra,X-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;Oe=(C=y.distcode[J&(1<<y.distbits)-1])>>>16&255,ct=65535&C,!((Ie=C>>>24)<=X);){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}if(!(240&Oe)){for(Ye=Ie,M=Oe,K=ct;Oe=(C=y.distcode[K+((J&(1<<Ye+M)-1)>>Ye)])>>>16&255,ct=65535&C,!(Ye+(Ie=C>>>24)<=X);){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}J>>>=Ye,X-=Ye,y.back+=Ye}if(J>>>=Ie,X-=Ie,y.back+=Ie,64&Oe){D.msg="invalid distance code",y.mode=30;break}y.offset=ct,y.extra=15&Oe,y.mode=24;case 24:if(y.extra){for(R=y.extra;X<R;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}y.offset+=J&(1<<y.extra)-1,J>>>=y.extra,X-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){D.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(Ee===0)break e;if(pe=ve-Ee,y.offset>pe){if((pe=y.offset-pe)>y.whave&&y.sane){D.msg="invalid distance too far back",y.mode=30;break}Me=pe>y.wnext?(pe-=y.wnext,y.wsize-pe):y.wnext-pe,pe>y.length&&(pe=y.length),ut=y.window}else ut=Te,Me=ge-y.offset,pe=y.length;for(Ee<pe&&(pe=Ee),Ee-=pe,y.length-=pe;Te[ge++]=ut[Me++],--pe;);y.length===0&&(y.mode=21);break;case 26:if(Ee===0)break e;Te[ge++]=y.length,Ee--,y.mode=21;break;case 27:if(y.wrap){for(;X<32;){if(ce===0)break e;ce--,J|=ae[ie++]<<X,X+=8}if(ve-=Ee,D.total_out+=ve,y.total+=ve,ve&&(D.adler=y.check=y.flags?u(y.check,Te,ve,ge-ve):l(y.check,Te,ve,ge-ve)),ve=Ee,(y.flags?J:w(J))!==y.check){D.msg="incorrect data check",y.mode=30;break}X=J=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;X<32;){if(ce===0)break e;ce--,J+=ae[ie++]<<X,X+=8}if(J!==(4294967295&y.total)){D.msg="incorrect length check",y.mode=30;break}X=J=0}y.mode=29;case 29:U=1;break e;case 30:U=-3;break e;case 31:return-4;case 32:default:return m}return D.next_out=ge,D.avail_out=Ee,D.next_in=ie,D.avail_in=ce,y.hold=J,y.bits=X,(y.wsize||ve!==D.avail_out&&y.mode<30&&(y.mode<27||ne!==4))&&de(D,D.output,D.next_out,ve-D.avail_out)?(y.mode=31,-4):(xe-=D.avail_in,ve-=D.avail_out,D.total_in+=xe,D.total_out+=ve,y.total+=ve,y.wrap&&ve&&(D.adler=y.check=y.flags?u(y.check,Te,ve,D.next_out-ve):l(y.check,Te,ve,D.next_out-ve)),D.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(xe==0&&ve===0||ne===4)&&U===b&&(U=-5),U)},s.inflateEnd=function(D){if(!D||!D.state)return m;var ne=D.state;return ne.window&&(ne.window=null),D.state=null,b},s.inflateGetHeader=function(D,ne){var y;return D&&D.state&&2&(y=D.state).wrap?((y.head=ne).done=!1,b):m},s.inflateSetDictionary=function(D,ne){var y,ae=ne.length;return D&&D.state?(y=D.state).wrap!==0&&y.mode!==11?m:y.mode===11&&l(1,ne,ae,0)!==y.check?-3:de(D,ne,ae,ae)?(y.mode=31,-4):(y.havedict=1,b):m},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,s){var o=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(v,g,b,m,A,_,E,w){var S,k,I,L,j,W,Y,B,te,de=w.bits,D=0,ne=0,y=0,ae=0,Te=0,ie=0,ge=0,ce=0,Ee=0,J=0,X=null,xe=0,ve=new o.Buf16(16),pe=new o.Buf16(16),Me=null,ut=0;for(D=0;D<=15;D++)ve[D]=0;for(ne=0;ne<m;ne++)ve[g[b+ne]]++;for(Te=de,ae=15;1<=ae&&ve[ae]===0;ae--);if(ae<Te&&(Te=ae),ae===0)return A[_++]=20971520,A[_++]=20971520,w.bits=1,0;for(y=1;y<ae&&ve[y]===0;y++);for(Te<y&&(Te=y),D=ce=1;D<=15;D++)if(ce<<=1,(ce-=ve[D])<0)return-1;if(0<ce&&(v===0||ae!==1))return-1;for(pe[1]=0,D=1;D<15;D++)pe[D+1]=pe[D]+ve[D];for(ne=0;ne<m;ne++)g[b+ne]!==0&&(E[pe[g[b+ne]]++]=ne);if(W=v===0?(X=Me=E,19):v===1?(X=l,xe-=257,Me=u,ut-=257,256):(X=h,Me=f,-1),D=y,j=_,ge=ne=J=0,I=-1,L=(Ee=1<<(ie=Te))-1,v===1&&852<Ee||v===2&&592<Ee)return 1;for(;;){for(Y=D-ge,te=E[ne]<W?(B=0,E[ne]):E[ne]>W?(B=Me[ut+E[ne]],X[xe+E[ne]]):(B=96,0),S=1<<D-ge,y=k=1<<ie;A[j+(J>>ge)+(k-=S)]=Y<<24|B<<16|te|0,k!==0;);for(S=1<<D-1;J&S;)S>>=1;if(S!==0?(J&=S-1,J+=S):J=0,ne++,--ve[D]==0){if(D===ae)break;D=g[b+E[ne]]}if(Te<D&&(J&L)!==I){for(ge===0&&(ge=Te),j+=y,ce=1<<(ie=D-ge);ie+ge<ae&&!((ce-=ve[ie+ge])<=0);)ie++,ce<<=1;if(Ee+=1<<ie,v===1&&852<Ee||v===2&&592<Ee)return 1;A[I=J&L]=Te<<24|ie<<16|j-_|0}}return J!==0&&(A[j+J]=D-ge<<24|64<<16|0),w.bits=Te,0}},{"../utils/common":41}],51:[function(t,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,s){var o=t("../utils/common"),l=0,u=1;function h(C){for(var O=C.length;0<=--O;)C[O]=0}var f=0,v=29,g=256,b=g+1+v,m=30,A=19,_=2*b+1,E=15,w=16,S=7,k=256,I=16,L=17,j=18,W=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=new Array(2*(b+2));h(de);var D=new Array(2*m);h(D);var ne=new Array(512);h(ne);var y=new Array(256);h(y);var ae=new Array(v);h(ae);var Te,ie,ge,ce=new Array(m);function Ee(C,O,q,G,$){this.static_tree=C,this.extra_bits=O,this.extra_base=q,this.elems=G,this.max_length=$,this.has_stree=C&&C.length}function J(C,O){this.dyn_tree=C,this.max_code=0,this.stat_desc=O}function X(C){return C<256?ne[C]:ne[256+(C>>>7)]}function xe(C,O){C.pending_buf[C.pending++]=255&O,C.pending_buf[C.pending++]=O>>>8&255}function ve(C,O,q){C.bi_valid>w-q?(C.bi_buf|=O<<C.bi_valid&65535,xe(C,C.bi_buf),C.bi_buf=O>>w-C.bi_valid,C.bi_valid+=q-w):(C.bi_buf|=O<<C.bi_valid&65535,C.bi_valid+=q)}function pe(C,O,q){ve(C,q[2*O],q[2*O+1])}function Me(C,O){for(var q=0;q|=1&C,C>>>=1,q<<=1,0<--O;);return q>>>1}function ut(C,O,q){var G,$,Q=new Array(E+1),oe=0;for(G=1;G<=E;G++)Q[G]=oe=oe+q[G-1]<<1;for($=0;$<=O;$++){var re=C[2*$+1];re!==0&&(C[2*$]=Me(Q[re]++,re))}}function Ie(C){var O;for(O=0;O<b;O++)C.dyn_ltree[2*O]=0;for(O=0;O<m;O++)C.dyn_dtree[2*O]=0;for(O=0;O<A;O++)C.bl_tree[2*O]=0;C.dyn_ltree[2*k]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function Oe(C){8<C.bi_valid?xe(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function ct(C,O,q,G){var $=2*O,Q=2*q;return C[$]<C[Q]||C[$]===C[Q]&&G[O]<=G[q]}function Ye(C,O,q){for(var G=C.heap[q],$=q<<1;$<=C.heap_len&&($<C.heap_len&&ct(O,C.heap[$+1],C.heap[$],C.depth)&&$++,!ct(O,G,C.heap[$],C.depth));)C.heap[q]=C.heap[$],q=$,$<<=1;C.heap[q]=G}function M(C,O,q){var G,$,Q,oe,re=0;if(C.last_lit!==0)for(;G=C.pending_buf[C.d_buf+2*re]<<8|C.pending_buf[C.d_buf+2*re+1],$=C.pending_buf[C.l_buf+re],re++,G===0?pe(C,$,O):(pe(C,(Q=y[$])+g+1,O),(oe=W[Q])!==0&&ve(C,$-=ae[Q],oe),pe(C,Q=X(--G),q),(oe=Y[Q])!==0&&ve(C,G-=ce[Q],oe)),re<C.last_lit;);pe(C,k,O)}function K(C,O){var q,G,$,Q=O.dyn_tree,oe=O.stat_desc.static_tree,re=O.stat_desc.has_stree,me=O.stat_desc.elems,ke=-1;for(C.heap_len=0,C.heap_max=_,q=0;q<me;q++)Q[2*q]!==0?(C.heap[++C.heap_len]=ke=q,C.depth[q]=0):Q[2*q+1]=0;for(;C.heap_len<2;)Q[2*($=C.heap[++C.heap_len]=ke<2?++ke:0)]=1,C.depth[$]=0,C.opt_len--,re&&(C.static_len-=oe[2*$+1]);for(O.max_code=ke,q=C.heap_len>>1;1<=q;q--)Ye(C,Q,q);for($=me;q=C.heap[1],C.heap[1]=C.heap[C.heap_len--],Ye(C,Q,1),G=C.heap[1],C.heap[--C.heap_max]=q,C.heap[--C.heap_max]=G,Q[2*$]=Q[2*q]+Q[2*G],C.depth[$]=(C.depth[q]>=C.depth[G]?C.depth[q]:C.depth[G])+1,Q[2*q+1]=Q[2*G+1]=$,C.heap[1]=$++,Ye(C,Q,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(ye,Ge){var Et,At,fn,nt,wn,kt,vt=Ge.dyn_tree,Wn=Ge.max_code,Go=Ge.stat_desc.static_tree,Ko=Ge.stat_desc.has_stree,qo=Ge.stat_desc.extra_bits,Ni=Ge.stat_desc.extra_base,ar=Ge.stat_desc.max_length,ti=0;for(nt=0;nt<=E;nt++)ye.bl_count[nt]=0;for(vt[2*ye.heap[ye.heap_max]+1]=0,Et=ye.heap_max+1;Et<_;Et++)ar<(nt=vt[2*vt[2*(At=ye.heap[Et])+1]+1]+1)&&(nt=ar,ti++),vt[2*At+1]=nt,Wn<At||(ye.bl_count[nt]++,wn=0,Ni<=At&&(wn=qo[At-Ni]),kt=vt[2*At],ye.opt_len+=kt*(nt+wn),Ko&&(ye.static_len+=kt*(Go[2*At+1]+wn)));if(ti!==0){do{for(nt=ar-1;ye.bl_count[nt]===0;)nt--;ye.bl_count[nt]--,ye.bl_count[nt+1]+=2,ye.bl_count[ar]--,ti-=2}while(0<ti);for(nt=ar;nt!==0;nt--)for(At=ye.bl_count[nt];At!==0;)Wn<(fn=ye.heap[--Et])||(vt[2*fn+1]!==nt&&(ye.opt_len+=(nt-vt[2*fn+1])*vt[2*fn],vt[2*fn+1]=nt),At--)}}(C,O),ut(Q,ke,C.bl_count)}function p(C,O,q){var G,$,Q=-1,oe=O[1],re=0,me=7,ke=4;for(oe===0&&(me=138,ke=3),O[2*(q+1)+1]=65535,G=0;G<=q;G++)$=oe,oe=O[2*(G+1)+1],++re<me&&$===oe||(re<ke?C.bl_tree[2*$]+=re:$!==0?($!==Q&&C.bl_tree[2*$]++,C.bl_tree[2*I]++):re<=10?C.bl_tree[2*L]++:C.bl_tree[2*j]++,Q=$,ke=(re=0)===oe?(me=138,3):$===oe?(me=6,3):(me=7,4))}function U(C,O,q){var G,$,Q=-1,oe=O[1],re=0,me=7,ke=4;for(oe===0&&(me=138,ke=3),G=0;G<=q;G++)if($=oe,oe=O[2*(G+1)+1],!(++re<me&&$===oe)){if(re<ke)for(;pe(C,$,C.bl_tree),--re!=0;);else $!==0?($!==Q&&(pe(C,$,C.bl_tree),re--),pe(C,I,C.bl_tree),ve(C,re-3,2)):re<=10?(pe(C,L,C.bl_tree),ve(C,re-3,3)):(pe(C,j,C.bl_tree),ve(C,re-11,7));Q=$,ke=(re=0)===oe?(me=138,3):$===oe?(me=6,3):(me=7,4)}}h(ce);var F=!1;function R(C,O,q,G){ve(C,(f<<1)+(G?1:0),3),function($,Q,oe,re){Oe($),re&&(xe($,oe),xe($,~oe)),o.arraySet($.pending_buf,$.window,Q,oe,$.pending),$.pending+=oe}(C,O,q,!0)}s._tr_init=function(C){F||(function(){var O,q,G,$,Q,oe=new Array(E+1);for($=G=0;$<v-1;$++)for(ae[$]=G,O=0;O<1<<W[$];O++)y[G++]=$;for(y[G-1]=$,$=Q=0;$<16;$++)for(ce[$]=Q,O=0;O<1<<Y[$];O++)ne[Q++]=$;for(Q>>=7;$<m;$++)for(ce[$]=Q<<7,O=0;O<1<<Y[$]-7;O++)ne[256+Q++]=$;for(q=0;q<=E;q++)oe[q]=0;for(O=0;O<=143;)de[2*O+1]=8,O++,oe[8]++;for(;O<=255;)de[2*O+1]=9,O++,oe[9]++;for(;O<=279;)de[2*O+1]=7,O++,oe[7]++;for(;O<=287;)de[2*O+1]=8,O++,oe[8]++;for(ut(de,b+1,oe),O=0;O<m;O++)D[2*O+1]=5,D[2*O]=Me(O,5);Te=new Ee(de,W,g+1,b,E),ie=new Ee(D,Y,0,m,E),ge=new Ee(new Array(0),B,0,A,S)}(),F=!0),C.l_desc=new J(C.dyn_ltree,Te),C.d_desc=new J(C.dyn_dtree,ie),C.bl_desc=new J(C.bl_tree,ge),C.bi_buf=0,C.bi_valid=0,Ie(C)},s._tr_stored_block=R,s._tr_flush_block=function(C,O,q,G){var $,Q,oe=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(re){var me,ke=4093624447;for(me=0;me<=31;me++,ke>>>=1)if(1&ke&&re.dyn_ltree[2*me]!==0)return l;if(re.dyn_ltree[18]!==0||re.dyn_ltree[20]!==0||re.dyn_ltree[26]!==0)return u;for(me=32;me<g;me++)if(re.dyn_ltree[2*me]!==0)return u;return l}(C)),K(C,C.l_desc),K(C,C.d_desc),oe=function(re){var me;for(p(re,re.dyn_ltree,re.l_desc.max_code),p(re,re.dyn_dtree,re.d_desc.max_code),K(re,re.bl_desc),me=A-1;3<=me&&re.bl_tree[2*te[me]+1]===0;me--);return re.opt_len+=3*(me+1)+5+5+4,me}(C),$=C.opt_len+3+7>>>3,(Q=C.static_len+3+7>>>3)<=$&&($=Q)):$=Q=q+5,q+4<=$&&O!==-1?R(C,O,q,G):C.strategy===4||Q===$?(ve(C,2+(G?1:0),3),M(C,de,D)):(ve(C,4+(G?1:0),3),function(re,me,ke,ye){var Ge;for(ve(re,me-257,5),ve(re,ke-1,5),ve(re,ye-4,4),Ge=0;Ge<ye;Ge++)ve(re,re.bl_tree[2*te[Ge]+1],3);U(re,re.dyn_ltree,me-1),U(re,re.dyn_dtree,ke-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,oe+1),M(C,C.dyn_ltree,C.dyn_dtree)),Ie(C),G&&Oe(C)},s._tr_tally=function(C,O,q){return C.pending_buf[C.d_buf+2*C.last_lit]=O>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&O,C.pending_buf[C.l_buf+C.last_lit]=255&q,C.last_lit++,O===0?C.dyn_ltree[2*q]++:(C.matches++,O--,C.dyn_ltree[2*(y[q]+g+1)]++,C.dyn_dtree[2*X(O)]++),C.last_lit===C.lit_bufsize-1},s._tr_align=function(C){ve(C,2,3),pe(C,k,de),function(O){O.bi_valid===16?(xe(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(t,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,s){(function(o){(function(l,u){if(!l.setImmediate){var h,f,v,g,b=1,m={},A=!1,_=l.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(l);E=E&&E.setTimeout?E:l,h={}.toString.call(l.process)==="[object process]"?function(I){process.nextTick(function(){S(I)})}:function(){if(l.postMessage&&!l.importScripts){var I=!0,L=l.onmessage;return l.onmessage=function(){I=!1},l.postMessage("","*"),l.onmessage=L,I}}()?(g="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",k,!1):l.attachEvent("onmessage",k),function(I){l.postMessage(g+I,"*")}):l.MessageChannel?((v=new MessageChannel).port1.onmessage=function(I){S(I.data)},function(I){v.port2.postMessage(I)}):_&&"onreadystatechange"in _.createElement("script")?(f=_.documentElement,function(I){var L=_.createElement("script");L.onreadystatechange=function(){S(I),L.onreadystatechange=null,f.removeChild(L),L=null},f.appendChild(L)}):function(I){setTimeout(S,0,I)},E.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var L=new Array(arguments.length-1),j=0;j<L.length;j++)L[j]=arguments[j+1];var W={callback:I,args:L};return m[b]=W,h(b),b++},E.clearImmediate=w}function w(I){delete m[I]}function S(I){if(A)setTimeout(S,0,I);else{var L=m[I];if(L){A=!0;try{(function(j){var W=j.callback,Y=j.args;switch(Y.length){case 0:W();break;case 1:W(Y[0]);break;case 2:W(Y[0],Y[1]);break;case 3:W(Y[0],Y[1],Y[2]);break;default:W.apply(u,Y)}})(L)}finally{w(I),A=!1}}}}function k(I){I.source===l&&typeof I.data=="string"&&I.data.indexOf(g)===0&&S(+I.data.slice(g.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Rn<"u"?Rn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ud);var dw=Ud.exports;const pw=nu(dw),gw=sr({name:"BarraSuperior",components:{},setup(){const i=ei(),e=Hn(()=>i.layout);return{store:i,layout:e}},methods:{gerarCodigo(){const i=this.store.selecionado;if(i==-1)return;const e=this.store.listaProjetos[i],t=e.optionsGals;let n="";switch(t.input=he.INPUT_STRING,t.language){case he.LANG_CPP:n="C++";break;case he.LANG_JAVA:n="Java";break;case he.LANG_DELPHI:n="Delphi";break}alert(t.toString());let s=null;try{s=fw(e.regularDefinitions,e.tokens,e.nonTerminals,e.grammar,t)}catch(o){console.log(o)}if(s!=null)try{const o=new pw;for(const[l,u]of s.entries())o.file(l,u);o.generateAsync({type:"blob"}).then(l=>{const u=document.createElement("a"),h=URL.createObjectURL(l);u.href=h,u.download=e.fileName.slice(0,-5)+" - "+n+".zip",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(h)}),alert("Arquivos Gerados!")}catch(o){console.error(o),alert("Ocorreu um erro!")}},mudaLayout(i){switch(i){case 0:this.layout.token=33.33333,this.layout.simulacao=33.33333,this.layout.saidaSimulacao=33.33333,this.layout.gramatica=0;break;case 1:this.layout.token=0,this.layout.simulacao=50,this.layout.saidaSimulacao=50,this.layout.gramatica=50;break;case 2:this.layout.token=33.33333,this.layout.simulacao=33.33333,this.layout.saidaSimulacao=33.33333,this.layout.gramatica=50;break;case 3:this.layout.token=0,this.layout.simulacao=50,this.layout.saidaSimulacao=50,this.layout.gramatica=0;break}}}});const Pr=(i,e)=>{const t=i.__vccOpts||i;for(const[n,s]of e)t[n]=s;return t},jd=i=>(Mo("data-v-e9efeda2"),i=i(),zo(),i),mw={class:"barra__superior"},_w=jd(()=>be("span",{class:"logo"},"WEB",-1)),vw={class:"dropdown"},bw=jd(()=>be("button",{class:"dropbtn"},"Layout",-1)),Tw={class:"dropdown-content"};function Sw(i,e,t,n,s,o){return Je(),tt("div",mw,[_w,be("button",{class:"botao__gerar__codigo",onClick:e[0]||(e[0]=(...l)=>i.gerarCodigo&&i.gerarCodigo(...l))},"Gerar Código"),be("div",vw,[bw,be("div",Tw,[be("a",{onClick:e[1]||(e[1]=l=>i.mudaLayout(0))},"Léxico"),be("a",{onClick:e[2]||(e[2]=l=>i.mudaLayout(1))},"Sintático"),be("a",{onClick:e[3]||(e[3]=l=>i.mudaLayout(2))},"Léxico e Sintático"),be("a",{onClick:e[4]||(e[4]=l=>i.mudaLayout(3))},"Simulador")])])])}const yw=Pr(gw,[["render",Sw],["__scopeId","data-v-e9efeda2"]]);function ns(){return ns=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},ns.apply(this,arguments)}var ww=13,Ew=9,Aw=8,kw=89,uo=90,xw=77,Sf=57,yf=219,wf=222,Ef=192,Cw=27,Af=100,Rw=3e3,Nw=typeof window<"u"&&navigator&&/Win/i.test(navigator.platform),gl=typeof window<"u"&&navigator&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),Iw=sr({props:{lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,default:""},highlight:{type:Function,required:!0},tabSize:{type:Number,default:2},insertSpaces:{type:Boolean,default:!0},ignoreTabKey:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{capture:!0,history:{stack:[],offset:-1},lineNumbersHeight:"20px",codeData:""}},watch:{modelValue:{immediate:!0,handler:function(e){e?this.codeData=e:this.codeData=""}},content:{immediate:!0,handler:function(){var e=this;this.lineNumbers&&this.$nextTick(function(){e.setLineNumbersHeight()})}},lineNumbers:function(){var e=this;this.$nextTick(function(){e.styleLineNumbers(),e.setLineNumbersHeight()})}},computed:{isEmpty:function(){return this.codeData.length===0},content:function(){var e=this.highlight(this.codeData)+"<br />";return e},lineNumbersCount:function(){var e=this.codeData.split(/\r\n|\n/).length;return e}},mounted:function(){this._recordCurrentState(),this.styleLineNumbers()},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(!(!this.lineNumbers||!this.autoStyleLineNumbers)){var e=this.$refs.pre,t=this.$el.querySelector(".prism-editor__line-numbers"),n=window.getComputedStyle(e);this.$nextTick(function(){var s="border-top-left-radius",o="border-bottom-left-radius";if(t){t.style[s]=n[s],t.style[o]=n[o],e.style[s]="0",e.style[o]="0";var l=["background-color","margin-top","padding-top","font-family","font-size","line-height"];l.forEach(function(u){t.style[u]=n[u]}),t.style["margin-bottom"]="-"+n["padding-top"]}})}},_recordCurrentState:function(){var e=this.$refs.textarea;if(e){var t=e.value,n=e.selectionStart,s=e.selectionEnd;this._recordChange({value:t,selectionStart:n,selectionEnd:s})}},_getLines:function(e,t){return e.substring(0,t).split(`
`)},_applyEdits:function(e){var t=this.$refs.textarea,n=this.history.stack[this.history.offset];n&&t&&(this.history.stack[this.history.offset]=ns({},n,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),this._recordChange(e),this._updateInput(e)},_recordChange:function(e,t){t===void 0&&(t=!1);var n=this.history,s=n.stack,o=n.offset;if(s.length&&o>-1){this.history.stack=s.slice(0,o+1);var l=this.history.stack.length;if(l>Af){var u=l-Af;this.history.stack=s.slice(u,l),this.history.offset=Math.max(this.history.offset-u,0)}}var h=Date.now();if(t){var f=this.history.stack[this.history.offset];if(f&&h-f.timestamp<Rw){var v,g,b=/[^a-z0-9]([a-z0-9]+)$/i,m=(v=this._getLines(f.value,f.selectionStart).pop())===null||v===void 0?void 0:v.match(b),A=(g=this._getLines(e.value,e.selectionStart).pop())===null||g===void 0?void 0:g.match(b);if(m&&A&&A[1].startsWith(m[1])){this.history.stack[this.history.offset]=ns({},e,{timestamp:h});return}}}this.history.stack.push(ns({},e,{timestamp:h})),this.history.offset++},_updateInput:function(e){var t=this.$refs.textarea;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,this.$emit("update:modelValue",e.value))},handleChange:function(e){var t=e.target,n=t.value,s=t.selectionStart,o=t.selectionEnd;this._recordChange({value:n,selectionStart:s,selectionEnd:o},!0),this.$emit("update:modelValue",n)},_undoEdit:function(){var e=this.history,t=e.stack,n=e.offset,s=t[n-1];s&&(this._updateInput(s),this.history.offset=Math.max(n-1,0))},_redoEdit:function(){var e=this.history,t=e.stack,n=e.offset,s=t[n+1];s&&(this._updateInput(s),this.history.offset=Math.min(n+1,t.length-1))},handleKeyDown:function(e){var t=this.tabSize,n=this.insertSpaces,s=this.ignoreTabKey;if(this.$emit("keydown",e),!e.defaultPrevented){e.keyCode===Cw&&(e.target.blur(),this.$emit("blur",e));var o=e.target,l=o.value,u=o.selectionStart,h=o.selectionEnd,f=(n?" ":"	").repeat(t);if(e.keyCode===Ew&&!s&&this.capture)if(e.preventDefault(),e.shiftKey){var v=this._getLines(l,u),g=v.length-1,b=this._getLines(l,h).length-1,m=l.split(`
`).map(function(D,ne){return ne>=g&&ne<=b&&D.startsWith(f)?D.substring(f.length):D}).join(`
`);if(l!==m){var A=v[g];this._applyEdits({value:m,selectionStart:A.startsWith(f)?u-f.length:u,selectionEnd:h-(l.length-m.length)})}}else if(u!==h){var _=this._getLines(l,u),E=_.length-1,w=this._getLines(l,h).length-1,S=_[E];this._applyEdits({value:l.split(`
`).map(function(D,ne){return ne>=E&&ne<=w?f+D:D}).join(`
`),selectionStart:/\S/.test(S)?u+f.length:u,selectionEnd:h+f.length*(w-E+1)})}else{var k=u+f.length;this._applyEdits({value:l.substring(0,u)+f+l.substring(h),selectionStart:k,selectionEnd:k})}else if(e.keyCode===Aw){var I=u!==h,L=l.substring(0,u);if(L.endsWith(f)&&!I){e.preventDefault();var j=u-f.length;this._applyEdits({value:l.substring(0,u-f.length)+l.substring(h),selectionStart:j,selectionEnd:j})}}else if(e.keyCode===ww){if(u===h){var W=this._getLines(l,u).pop(),Y=W==null?void 0:W.match(/^\s+/);if(Y&&Y[0]){e.preventDefault();var B=`
`+Y[0],te=u+B.length;this._applyEdits({value:l.substring(0,u)+B+l.substring(h),selectionStart:te,selectionEnd:te})}}}else if(e.keyCode===Sf||e.keyCode===yf||e.keyCode===wf||e.keyCode===Ef){var de;e.keyCode===Sf&&e.shiftKey?de=["(",")"]:e.keyCode===yf?e.shiftKey?de=["{","}"]:de=["[","]"]:e.keyCode===wf?e.shiftKey?de=['"','"']:de=["'","'"]:e.keyCode===Ef&&!e.shiftKey&&(de=["`","`"]),u!==h&&de&&(e.preventDefault(),this._applyEdits({value:l.substring(0,u)+de[0]+l.substring(u,h)+de[1]+l.substring(h),selectionStart:u,selectionEnd:h+2}))}else(gl?e.metaKey&&e.keyCode===uo:e.ctrlKey&&e.keyCode===uo)&&!e.shiftKey&&!e.altKey?(e.preventDefault(),this._undoEdit()):(gl?e.metaKey&&e.keyCode===uo&&e.shiftKey:Nw?e.ctrlKey&&e.keyCode===kw:e.ctrlKey&&e.keyCode===uo&&e.shiftKey)&&!e.altKey?(e.preventDefault(),this._redoEdit()):e.keyCode===xw&&e.ctrlKey&&(!gl||e.shiftKey)&&(e.preventDefault(),this.capture=!this.capture)}}},render:function(){var e=this,t=Tr("div",{class:"prism-editor__line-width-calc",style:"height: 0px; visibility: hidden; pointer-events: none;"},"999"),n=Tr("div",{class:"prism-editor__line-numbers",style:{"min-height":this.lineNumbersHeight},"aria-hidden":"true"},[t,Array.from(Array(this.lineNumbersCount).keys()).map(function(u,h){return Tr("div",{class:"prism-editor__line-number token comment"},""+ ++h)})]),s=Tr("textarea",{ref:"textarea",onInput:this.handleChange,onKeydown:this.handleKeyDown,onClick:function(h){e.$emit("click",h)},onKeyup:function(h){e.$emit("keyup",h)},onFocus:function(h){e.$emit("focus",h)},onBlur:function(h){e.$emit("blur",h)},class:{"prism-editor__textarea":!0,"prism-editor__textarea--empty":this.isEmpty},spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false",placeholder:this.placeholder,"data-testid":"textarea",readonly:this.readonly,value:this.codeData}),o=Tr("pre",{ref:"pre",class:"prism-editor__editor","data-testid":"preview",innerHTML:this.content}),l=Tr("div",{class:"prism-editor__container"},[s,o]);return Tr("div",{class:"prism-editor-wrapper"},[this.lineNumbers&&n,l])}});var $d={exports:{}};(function(i){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(n){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,l={},u={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function S(k){return k instanceof h?new h(k.type,S(k.content),k.alias):Array.isArray(k)?k.map(S):k.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(S){return Object.prototype.toString.call(S).slice(8,-1)},objId:function(S){return S.__id||Object.defineProperty(S,"__id",{value:++o}),S.__id},clone:function S(k,I){I=I||{};var L,j;switch(u.util.type(k)){case"Object":if(j=u.util.objId(k),I[j])return I[j];L={},I[j]=L;for(var W in k)k.hasOwnProperty(W)&&(L[W]=S(k[W],I));return L;case"Array":return j=u.util.objId(k),I[j]?I[j]:(L=[],I[j]=L,k.forEach(function(Y,B){L[B]=S(Y,I)}),L);default:return k}},getLanguage:function(S){for(;S;){var k=s.exec(S.className);if(k)return k[1].toLowerCase();S=S.parentElement}return"none"},setLanguage:function(S,k){S.className=S.className.replace(RegExp(s,"gi"),""),S.classList.add("language-"+k)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(L){var S=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(L.stack)||[])[1];if(S){var k=document.getElementsByTagName("script");for(var I in k)if(k[I].src==S)return k[I]}return null}},isActive:function(S,k,I){for(var L="no-"+k;S;){var j=S.classList;if(j.contains(k))return!0;if(j.contains(L))return!1;S=S.parentElement}return!!I}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(S,k){var I=u.util.clone(u.languages[S]);for(var L in k)I[L]=k[L];return I},insertBefore:function(S,k,I,L){L=L||u.languages;var j=L[S],W={};for(var Y in j)if(j.hasOwnProperty(Y)){if(Y==k)for(var B in I)I.hasOwnProperty(B)&&(W[B]=I[B]);I.hasOwnProperty(Y)||(W[Y]=j[Y])}var te=L[S];return L[S]=W,u.languages.DFS(u.languages,function(de,D){D===te&&de!=S&&(this[de]=W)}),W},DFS:function S(k,I,L,j){j=j||{};var W=u.util.objId;for(var Y in k)if(k.hasOwnProperty(Y)){I.call(k,Y,k[Y],L||Y);var B=k[Y],te=u.util.type(B);te==="Object"&&!j[W(B)]?(j[W(B)]=!0,S(B,I,null,j)):te==="Array"&&!j[W(B)]&&(j[W(B)]=!0,S(B,I,Y,j))}}},plugins:{},highlightAll:function(S,k){u.highlightAllUnder(document,S,k)},highlightAllUnder:function(S,k,I){var L={callback:I,container:S,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};u.hooks.run("before-highlightall",L),L.elements=Array.prototype.slice.apply(L.container.querySelectorAll(L.selector)),u.hooks.run("before-all-elements-highlight",L);for(var j=0,W;W=L.elements[j++];)u.highlightElement(W,k===!0,L.callback)},highlightElement:function(S,k,I){var L=u.util.getLanguage(S),j=u.languages[L];u.util.setLanguage(S,L);var W=S.parentElement;W&&W.nodeName.toLowerCase()==="pre"&&u.util.setLanguage(W,L);var Y=S.textContent,B={element:S,language:L,grammar:j,code:Y};function te(D){B.highlightedCode=D,u.hooks.run("before-insert",B),B.element.innerHTML=B.highlightedCode,u.hooks.run("after-highlight",B),u.hooks.run("complete",B),I&&I.call(B.element)}if(u.hooks.run("before-sanity-check",B),W=B.element.parentElement,W&&W.nodeName.toLowerCase()==="pre"&&!W.hasAttribute("tabindex")&&W.setAttribute("tabindex","0"),!B.code){u.hooks.run("complete",B),I&&I.call(B.element);return}if(u.hooks.run("before-highlight",B),!B.grammar){te(u.util.encode(B.code));return}if(k&&n.Worker){var de=new Worker(u.filename);de.onmessage=function(D){te(D.data)},de.postMessage(JSON.stringify({language:B.language,code:B.code,immediateClose:!0}))}else te(u.highlight(B.code,B.grammar,B.language))},highlight:function(S,k,I){var L={code:S,grammar:k,language:I};if(u.hooks.run("before-tokenize",L),!L.grammar)throw new Error('The language "'+L.language+'" has no grammar.');return L.tokens=u.tokenize(L.code,L.grammar),u.hooks.run("after-tokenize",L),h.stringify(u.util.encode(L.tokens),L.language)},tokenize:function(S,k){var I=k.rest;if(I){for(var L in I)k[L]=I[L];delete k.rest}var j=new g;return b(j,j.head,S),v(S,j,k,j.head,0),A(j)},hooks:{all:{},add:function(S,k){var I=u.hooks.all;I[S]=I[S]||[],I[S].push(k)},run:function(S,k){var I=u.hooks.all[S];if(!(!I||!I.length))for(var L=0,j;j=I[L++];)j(k)}},Token:h};n.Prism=u;function h(S,k,I,L){this.type=S,this.content=k,this.alias=I,this.length=(L||"").length|0}h.stringify=function S(k,I){if(typeof k=="string")return k;if(Array.isArray(k)){var L="";return k.forEach(function(te){L+=S(te,I)}),L}var j={type:k.type,content:S(k.content,I),tag:"span",classes:["token",k.type],attributes:{},language:I},W=k.alias;W&&(Array.isArray(W)?Array.prototype.push.apply(j.classes,W):j.classes.push(W)),u.hooks.run("wrap",j);var Y="";for(var B in j.attributes)Y+=" "+B+'="'+(j.attributes[B]||"").replace(/"/g,"&quot;")+'"';return"<"+j.tag+' class="'+j.classes.join(" ")+'"'+Y+">"+j.content+"</"+j.tag+">"};function f(S,k,I,L){S.lastIndex=k;var j=S.exec(I);if(j&&L&&j[1]){var W=j[1].length;j.index+=W,j[0]=j[0].slice(W)}return j}function v(S,k,I,L,j,W){for(var Y in I)if(!(!I.hasOwnProperty(Y)||!I[Y])){var B=I[Y];B=Array.isArray(B)?B:[B];for(var te=0;te<B.length;++te){if(W&&W.cause==Y+","+te)return;var de=B[te],D=de.inside,ne=!!de.lookbehind,y=!!de.greedy,ae=de.alias;if(y&&!de.pattern.global){var Te=de.pattern.toString().match(/[imsuy]*$/)[0];de.pattern=RegExp(de.pattern.source,Te+"g")}for(var ie=de.pattern||de,ge=L.next,ce=j;ge!==k.tail&&!(W&&ce>=W.reach);ce+=ge.value.length,ge=ge.next){var Ee=ge.value;if(k.length>S.length)return;if(!(Ee instanceof h)){var J=1,X;if(y){if(X=f(ie,ce,S,ne),!X||X.index>=S.length)break;var Me=X.index,xe=X.index+X[0].length,ve=ce;for(ve+=ge.value.length;Me>=ve;)ge=ge.next,ve+=ge.value.length;if(ve-=ge.value.length,ce=ve,ge.value instanceof h)continue;for(var pe=ge;pe!==k.tail&&(ve<xe||typeof pe.value=="string");pe=pe.next)J++,ve+=pe.value.length;J--,Ee=S.slice(ce,ve),X.index-=ce}else if(X=f(ie,0,Ee,ne),!X)continue;var Me=X.index,ut=X[0],Ie=Ee.slice(0,Me),Oe=Ee.slice(Me+ut.length),ct=ce+Ee.length;W&&ct>W.reach&&(W.reach=ct);var Ye=ge.prev;Ie&&(Ye=b(k,Ye,Ie),ce+=Ie.length),m(k,Ye,J);var M=new h(Y,D?u.tokenize(ut,D):ut,ae,ut);if(ge=b(k,Ye,M),Oe&&b(k,ge,Oe),J>1){var K={cause:Y+","+te,reach:ct};v(S,k,I,ge.prev,ce,K),W&&K.reach>W.reach&&(W.reach=K.reach)}}}}}}function g(){var S={value:null,prev:null,next:null},k={value:null,prev:S,next:null};S.next=k,this.head=S,this.tail=k,this.length=0}function b(S,k,I){var L=k.next,j={value:I,prev:k,next:L};return k.next=j,L.prev=j,S.length++,j}function m(S,k,I){for(var L=k.next,j=0;j<I&&L!==S.tail;j++)L=L.next;k.next=L,L.prev=k,S.length-=j}function A(S){for(var k=[],I=S.head.next;I!==S.tail;)k.push(I.value),I=I.next;return k}if(!n.document)return n.addEventListener&&(u.disableWorkerMessageHandler||n.addEventListener("message",function(S){var k=JSON.parse(S.data),I=k.language,L=k.code,j=k.immediateClose;n.postMessage(u.highlight(L,u.languages[I],I)),j&&n.close()},!1)),u;var _=u.util.currentScript();_&&(u.filename=_.src,_.hasAttribute("data-manual")&&(u.manual=!0));function E(){u.manual||u.highlightAll()}if(!u.manual){var w=document.readyState;w==="loading"||w==="interactive"&&_&&_.defer?document.addEventListener("DOMContentLoaded",E):window.requestAnimationFrame?window.requestAnimationFrame(E):window.setTimeout(E,16)}return u}(e);i.exports&&(i.exports=t),typeof Rn<"u"&&(Rn.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(s,o){var l={};l["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[o]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var u={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};u["language-"+o]={pattern:/[\s\S]+/,inside:t.languages[o]};var h={};h[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:u},t.languages.insertBefore("markup","cdata",h)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(n,s){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:t.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(n){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var o=n.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading…",s=function(_,E){return"✖ Error "+_+" while fetching file: "+E},o="✖ Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},u="data-src-status",h="loading",f="loaded",v="failed",g="pre[data-src]:not(["+u+'="'+f+'"]):not(['+u+'="'+h+'"])';function b(_,E,w){var S=new XMLHttpRequest;S.open("GET",_,!0),S.onreadystatechange=function(){S.readyState==4&&(S.status<400&&S.responseText?E(S.responseText):S.status>=400?w(s(S.status,S.statusText)):w(o))},S.send(null)}function m(_){var E=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(_||"");if(E){var w=Number(E[1]),S=E[2],k=E[3];return S?k?[w,Number(k)]:[w,void 0]:[w,w]}}t.hooks.add("before-highlightall",function(_){_.selector+=", "+g}),t.hooks.add("before-sanity-check",function(_){var E=_.element;if(E.matches(g)){_.code="",E.setAttribute(u,h);var w=E.appendChild(document.createElement("CODE"));w.textContent=n;var S=E.getAttribute("data-src"),k=_.language;if(k==="none"){var I=(/\.(\w+)$/.exec(S)||[,"none"])[1];k=l[I]||I}t.util.setLanguage(w,k),t.util.setLanguage(E,k);var L=t.plugins.autoloader;L&&L.loadLanguages(k),b(S,function(j){E.setAttribute(u,f);var W=m(E.getAttribute("data-range"));if(W){var Y=j.split(/\r\n?|\n/g),B=W[0],te=W[1]==null?Y.length:W[1];B<0&&(B+=Y.length),B=Math.max(0,Math.min(B-1,Y.length)),te<0&&(te+=Y.length),te=Math.max(0,Math.min(te,Y.length)),j=Y.slice(B,te).join(`
`),E.hasAttribute("data-start")||E.setAttribute("data-start",String(B+1))}w.textContent=j,t.highlightElement(w)},function(j){E.setAttribute(u,v),w.textContent=j})}}),t.plugins.fileHighlight={highlight:function(E){for(var w=(E||document).querySelectorAll(g),S=0,k;k=w[S++];)t.highlightElement(k)}};var A=!1;t.fileHighlight=function(){A||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),A=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})($d);var vr=$d.exports;Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.bnf={string:{pattern:/"[^\r\n"]*"|'[^\r\n']*'/},definition:{pattern:/<[^<>\r\n\t]+>(?=\s*::=)/,alias:["rule","keyword"],inside:{punctuation:/^<|>$/}},rule:{pattern:/<[^<>\r\n\t]+>/,inside:{punctuation:/^<|>$/}},operator:/::=|[|()[\]{}*+?]|\.{3}/};Prism.languages.rbnf=Prism.languages.bnf;(function(i){var e=/[*&][^\s[\]{},]+/,t=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,n="(?:"+t.source+"(?:[ 	]+"+e.source+")?|"+e.source+"(?:[ 	]+"+t.source+")?)",s=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function l(u,h){h=(h||"").replace(/m/g,"")+"m";var f=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return n}).replace(/<<value>>/g,function(){return u});return RegExp(f,h)}i.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return n})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return n}).replace(/<<key>>/g,function(){return"(?:"+s+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:l(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:l(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:l(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:l(o),lookbehind:!0,greedy:!0},number:{pattern:l(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:t,important:e,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},i.languages.yml=i.languages.yaml})(Prism);const Lw=sr({name:"AreaCodigo",props:{titulo:String},data(){return{texto:"Area de Texto para teste",tabSize:2}},components:{PrismEditor:Iw},setup(){const i=ei(),e=Hn(()=>i.selecionado),t=Hn(()=>i.listaProjetos);return{store:i,projetos:t,selecionado:e}},watch:{selecionado(){const i=document.getElementById("textoDefinicoesRegulares"),e=document.getElementById("textoTokens"),t=document.getElementById("textoNaoTerminais"),n=document.getElementById("textoGramatica"),s=document.getElementById("textoSaida"),o=document.getElementById("textoSimulador");this.selecionado!=-1&&(i!=null&&(i.value=this.projetos[this.selecionado].regularDefinitions),e!=null&&(e.value=this.projetos[this.selecionado].tokens),t!=null&&(t.value=this.projetos[this.selecionado].nonTerminals),n!=null&&(n.value=this.projetos[this.selecionado].grammar),s!=null&&(s.value=this.projetos[this.selecionado].consoleExit),o!=null&&(o.value=this.projetos[this.selecionado].textSimulator))}},methods:{highlighterPrismBNF(i){return vr.highlight(i,vr.languages.bnf,"bnf")},highlighterGrammarGALS(i){return vr.highlight(i,vr.languages.gals_bnf={comment:/\/\/.*/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},"semantic-action":{pattern:/#\d+/,alias:"symbol"},"non-terminal":{pattern:/<[^<>\r\n\t]+>/,alias:["bold","keyword"],inside:{punctuation:/^<|>$/}},operator:/::=|\||;/,epsilon:{pattern:/î/,alias:"class-name"}},"gals_bnf")},highlighterOrignalTokensGALS(i){return vr.highlight(i,vr.languages.gals={comment:/\/\/.*/,sc_token:{pattern:/\b[a-zA-Z]\w*[ \t]*(=[ \t]*[a-zA-Z]\w*[ \t]*:)/g,lookbehind:!0,inside:{important:/(:)/}},token:{pattern:/(^[a-zA-Z]\w*[ \t]*:)([^\r\n]|:)+/gm,lookbehind:!0,alias:"regex"},error:{pattern:/^(?:[0-9])/m,alias:"number"},ignore:{pattern:/^(:!?)([^\r\n]|:)+/m,lookbehind:!0,alias:"class-name"},operator:/(?:(:|!|=))/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0}},"gals")},highlighterNewTokensGALS(i){return vr.highlight(i,vr.languages.gals={comment:/\/\/.*/,escaped:{pattern:/\\.{1,3}/,alias:["constant"]},token:{pattern:/^[a-zA-Z_]\w*(?:[ \t]*):/gm,alias:"variable"},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/[0-9]/,operator:/[|()[\]{}*+?<>]/,assign:{pattern:/:|=|!/,alias:["important"]},punctuation:/,|;|-|\//},"gals")},highlighterNone(i){return i},focusEditor(i){document.getElementsByClassName("prism-editor__textarea")[i].focus()}}});const Ow={class:"caixa__titulo"},Pw={key:0,class:"caixa__interna"},Fw=["disabled"],Dw=["disabled"],Mw={key:3,class:"caixa__interna__input"},zw=["disabled"],Bw={key:5,class:"caixa__interna"};function Uw(i,e,t,n,s,o){const l=yn("prism-editor");return Je(),tt("div",{class:tr([i.titulo==="Simbolo inicial"?"caixa__input":"caixa"])},[be("p",Ow,nr(i.titulo),1),i.projetos[i.selecionado]==null?(Je(),tt("div",Pw,[i.titulo==="Simbolo inicial"?(Je(),tt("input",{key:0,name:"textoCodigoVazio",class:"input__codigo",disabled:i.selecionado==-1},null,8,Fw)):(Je(),tt("textarea",{key:1,name:"textoCodigoVazio",class:"texto__codigo",disabled:i.selecionado==-1},null,8,Dw))])):i.titulo=="Definições Regulares"?(Je(),tt("div",{key:1,class:"caixa__interna",onClick:e[1]||(e[1]=u=>i.focusEditor(0))},[We(l,{id:"textoDefinicoesRegulares",name:"textoCodigo",rows:"4",cols:"50",class:"texto__codigo",spellcheck:"false",modelValue:i.projetos[i.selecionado].regularDefinitions,"onUpdate:modelValue":e[0]||(e[0]=u=>i.projetos[i.selecionado].regularDefinitions=u),highlight:i.highlighterOrignalTokensGALS,disabled:i.selecionado==-1,"line-numbers":!0},null,8,["modelValue","highlight","disabled"])])):i.titulo=="Tokens"?(Je(),tt("div",{key:2,class:"caixa__interna",onClick:e[3]||(e[3]=u=>i.focusEditor(1))},[We(l,{id:"textoTokens",name:"textoCodigo",rows:"4",cols:"50",class:"texto__codigo",spellcheck:"false",modelValue:i.projetos[i.selecionado].tokens,"onUpdate:modelValue":e[2]||(e[2]=u=>i.projetos[i.selecionado].tokens=u),disabled:i.selecionado==-1,highlight:i.highlighterOrignalTokensGALS,"line-numbers":!0},null,8,["modelValue","disabled","highlight"])])):i.titulo=="Simbolo inicial"?(Je(),tt("div",Mw,[Vi(be("input",{id:"textoNaoTerminais",type:"text",name:"textoCodigo",class:"input__codigo",spellcheck:"false","onUpdate:modelValue":e[4]||(e[4]=u=>i.projetos[i.selecionado].nonTerminals=u),pattern:"<[a-zA-Z_0-9]+>",disabled:i.selecionado==-1},null,8,zw),[[pf,i.projetos[i.selecionado].nonTerminals]])])):i.titulo=="Gramática"?(Je(),tt("div",{key:4,class:"caixa__interna",onClick:e[6]||(e[6]=u=>i.focusEditor(3))},[We(l,{id:"textoGramatica",name:"textoCodigo",rows:"4",cols:"50",class:"texto__codigo",spellcheck:"false",modelValue:i.projetos[i.selecionado].grammar,"onUpdate:modelValue":e[5]||(e[5]=u=>i.projetos[i.selecionado].grammar=u),disabled:i.selecionado==-1,highlight:i.highlighterGrammarGALS,"line-numbers":!0},null,8,["modelValue","disabled","highlight"])])):i.titulo=="Saída"?(Je(),tt("div",Bw,[Vi(be("textarea",{id:"textoSaida",name:"textoCodigo",rows:"4",cols:"50",class:"texto__codigo",spellcheck:"false",disabled:"","onUpdate:modelValue":e[7]||(e[7]=u=>i.projetos[i.selecionado].consoleExit=u)},null,512),[[pf,i.projetos[i.selecionado].consoleExit]])])):i.titulo=="Simulação"?(Je(),tt("div",{key:6,class:"caixa__interna",onClick:e[9]||(e[9]=u=>i.focusEditor(2))},[We(l,{id:"textoSimulacao",name:"textoCodigo",rows:"4",cols:"50",class:"texto__codigo",spellcheck:"false",modelValue:i.projetos[i.selecionado].textSimulator,"onUpdate:modelValue":e[8]||(e[8]=u=>i.projetos[i.selecionado].textSimulator=u),disabled:i.selecionado==-1,highlight:i.highlighterNone,"line-numbers":!0},null,8,["modelValue","disabled","highlight"])])):us("",!0)],2)}const Hd=Pr(Lw,[["render",Uw],["__scopeId","data-v-0f461318"]]),jw=sr({name:"TreeBrowser",components:{},props:{node:Object,isFinal:{type:Boolean,default:!0},isRoot:{type:Boolean,default:!0}},data(){return{isOpen:!0}},computed:{isFolder(){return this.node==null?!1:this.node.children&&this.node.children.length}}});const $w={class:"tree"},Hw=["open"],Ww={key:1};function Gw(i,e,t,n,s,o){var u,h,f;const l=yn("TreeBrowser",!0);return Je(),tt("div",$w,[be("ul",null,[be("li",{class:tr({not__final:!i.isFinal,root:i.isRoot})},[i.isFolder?(Je(),tt("details",{key:0,open:i.isRoot},[be("summary",{style:xi({fontWeight:i.isFolder?"bold":"normal",color:i.isFolder?"green":"black"})},nr((u=i.node)==null?void 0:u.value),5),(Je(!0),tt(Wt,null,Yl((h=i.node)==null?void 0:h.children,(v,g)=>{var b;return Je(),Jl(l,{key:v.value==null?"":v.value,node:v,"is-final":g==((b=i.node)==null?void 0:b.children.length)-1,"is-root":!1},null,8,["node","is-final"])}),128))],8,Hw)):(Je(),tt("div",Ww,[be("li",null,nr((f=i.node)==null?void 0:f.value),1)]))],2)])])}const Kw=Pr(jw,[["render",Gw],["__scopeId","data-v-b4fc5126"]]),qw=sr({name:"SimuladorJanela",components:{TreeBrowser:Kw},data(){return{resultadoLexico:new Map,resultadoSintatico:new hn,tipoSimulacao:"Lexico"}},setup(){return{store:ei()}},methods:{simularLexico(){this.tipoSimulacao="Lexico";const i=this.store.selecionado;if(i==-1)return;const e=this.store.listaProjetos[i];try{this.resultadoLexico=sw(e.textSimulator,e.regularDefinitions,e.tokens),e.consoleExit="Simulação Concluida"}catch(t){console.log(t),e.consoleExit="Erro Léxico: "+t.message}},simularSintatico(){this.tipoSimulacao="Sintático";const i=this.store.selecionado;if(i==-1)return;const e=this.store.listaProjetos[i];try{const t=aw(e.textSimulator,e.regularDefinitions,e.tokens,e.nonTerminals,e.grammar,e.optionsGals.parser,null);this.resultadoSintatico=t,e.consoleExit="Simulação Concluida"}catch(t){console.log(t),e.consoleExit="Erro Léxico: "+t.message}}}});const Wd=i=>(Mo("data-v-23ad30d9"),i=i(),zo(),i),Zw={class:"contentor__simulacao"},Yw={class:"container__saida__simulacao"},Vw=Wd(()=>be("p",{class:"caixa__titulo"},"Saída da Simulação",-1)),Xw={key:0,class:"saida__simulacao"},Jw=Wd(()=>be("thead",null,[be("tr",null,[be("th",null,"Token"),be("th",null,"Lexeme"),be("th",null,"Posição")])],-1)),Qw={key:1,class:"saida__simulacao"},eE={class:"container__botao__simular"};function tE(i,e,t,n,s,o){const l=yn("TreeBrowser");return Je(),tt("div",Zw,[be("div",Yw,[Vw,i.tipoSimulacao==="Lexico"?(Je(),tt("div",Xw,[be("table",null,[Jw,be("tbody",null,[(Je(!0),tt(Wt,null,Yl(i.resultadoLexico,(u,h)=>(Je(),tt("tr",{key:h},[be("td",null,nr(u[1]),1),be("td",null,nr(u[0].lexeme),1),be("td",null,nr(u[0].position),1)]))),128))])])])):us("",!0),i.tipoSimulacao==="Sintático"?(Je(),tt("div",Qw,[be("div",null,[We(l,{node:i.resultadoSintatico.toJSON()},null,8,["node"])])])):us("",!0),be("div",eE,[be("button",{class:"botao__simular",onClick:e[0]||(e[0]=(...u)=>i.simularLexico&&i.simularLexico(...u))},"Simular Lexico"),be("button",{class:"botao__simular",onClick:e[1]||(e[1]=(...u)=>i.simularSintatico&&i.simularSintatico(...u))},"Simular Sintático")])])])}const nE=Pr(qw,[["render",tE],["__scopeId","data-v-23ad30d9"]]),rE="modulepreload",iE=function(i){return"/Gals-Web/"+i},kf={},sE=function(e,t,n){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=iE(o),o in kf)return;kf[o]=!0;const l=o.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!n)for(let v=s.length-1;v>=0;v--){const g=s[v];if(g.href===o&&(!l||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":rE,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((v,g)=>{f.addEventListener("load",v),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},xf={download(i,e,t){const n=new Blob([i],{type:t});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,e);else{let s=document.createElement("a"),o=URL.createObjectURL(n);s.href=o,s.download=e,document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s),window.URL.revokeObjectURL(o)},0)}}},oE=sr({name:"ModalConfiguracoes",components:{},props:{options:he},data(){return{activeTab:"Geral",namespace:!0}},setup(){const i=ei(),e=Hn(()=>i.selecionado),t=Hn(()=>i.listaProjetos);return{store:i,projetos:t,selecionado:e}},methods:{fecharModal(){const i=document.getElementById("modal__configuracoes");i!=null&&(i.style.display="none")},changeTab(i){let e=document.getElementsByClassName("tablinks");for(let t=0;t<e.length;t++)e[t].className=e[t].className.replace(" active","");i==="Geral"?e[0].className+=" active":i==="Léxico"?e[1].className+=" active":i==="Sintático"&&(e[2].className+=" active"),this.activeTab=i},enviarForms(i){if(i==null)return;let e=new he;const t=i.target;t!=null&&(e.setOption("GenerateScanner",t.gerar.value==="1"||t.gerar.value==="3"?"true":"false"),e.setOption("GenerateParser",t.gerar.value==="2"||t.gerar.value==="3"?"true":"false"),e.setOption("Language",t.linguagem.value),e.setOption("ScannerName",t.nomeLexico.value),e.setOption("ParserName",t.nomeSintatico.value),e.setOption("SemanticName",t.nomeSemantico.value),e.setOption("Package",t.nameNamespace.value),e.setOption("ScannerCaseSensitive",t.sensibilidade.checked),e.setOption("ScannerTable",t.automato.value),e.setOption("Input",t.tipoEntrada.value),e.setOption("Parser",t.parser.value),this.projetos[this.selecionado].optionsGals=e,this.projetos[this.selecionado].options=e.toString(),this.fecharModal())},preencherModal(){const i=this.$refs.form,e=this.projetos[this.selecionado].optionsGals;alert(e.toString()),e.generateScanner&&e.generateParser?i.gerar.value="3":e.generateParser?i.gerar.value="2":e.generateScanner&&(i.gerar.value="1"),he.LANG_CPP==e.language?i.linguagem.value="C++":he.LANG_JAVA==e.language?i.linguagem.value="Java":he.LANG_DELPHI==e.language&&(i.linguagem.value="Delphi"),i.nomeLexico.value=e.scannerName,i.nomeSintatico.value=e.parserName,i.nomeSemantico.value=e.semanticName,i.nameNamespace.value=e.pkgName,i.sensibilidade.checked=e.scannerCaseSensitive,he.INPUT_STREAM==e.input?i.tipoEntrada.value="Stream":he.INPUT_STRING==e.input&&(i.tipoEntrada.value="String"),he.SCANNER_TABLE_FULL==e.scannerTable?i.automato.value="Full":he.SCANNER_TABLE_COMPACT==e.scannerTable?i.automato.value="Compact":he.SCANNER_TABLE_HARDCODE==e.scannerTable&&(i.automato.value="Hardcode"),he.PARSER_LR==e.parser?i.parser.value="LR":he.PARSER_LALR==e.parser?i.parser.value="LALR":he.PARSER_SLR==e.parser?i.parser.value="SLR":he.PARSER_LL==e.parser?i.parser.value="LL":he.PARSER_REC_DESC==e.parser&&(i.parser.value="RD")}}});const Gd=i=>(Mo("data-v-d6a68437"),i=i(),zo(),i),aE={class:"modal__configuracoes",id:"modal__configuracoes"},lE=Gd(()=>be("h2",null,"Configurações",-1)),uE={class:"modal__configuracoes__inner",id:"modal__configuracoes__inner"},cE={class:"tab"},hE={id:"Geral",class:"tabcontent"},fE=Ql('<fieldset id="gerar" data-v-d6a68437><legend data-v-d6a68437>Gerar</legend><div data-v-d6a68437><input type="radio" id="gerarLexico" name="gerar" value="1" checked data-v-d6a68437><label for="gerarLexico" data-v-d6a68437>Analisador Léxico</label></div><div data-v-d6a68437><input type="radio" id="gerarSintatico" name="gerar" value="2" data-v-d6a68437><label for="gerarSintatico" data-v-d6a68437>Analisador Sintático</label></div><div data-v-d6a68437><input type="radio" id="gerarLexicoSintatico" name="gerar" value="3" data-v-d6a68437><label for="gerarLexicoSintatico" data-v-d6a68437>Analisador Léxico e Sintático</label></div></fieldset><fieldset data-v-d6a68437><legend data-v-d6a68437>Linguagem</legend><div data-v-d6a68437><input type="radio" id="linguagemJava" name="linguagem" value="Java" checked data-v-d6a68437><label for="linguagemJava" data-v-d6a68437>Java</label></div><div data-v-d6a68437><input type="radio" id="linguagemC++" name="linguagem" value="C++" data-v-d6a68437><label for="linguagemC++" data-v-d6a68437>C++</label></div><div data-v-d6a68437><input type="radio" id="linguagemDelphi" name="linguagem" value="Delphi" data-v-d6a68437><label for="linguagemDelphi" data-v-d6a68437>Delphi</label></div></fieldset><fieldset data-v-d6a68437><legend data-v-d6a68437>Classes</legend><table data-v-d6a68437><tr data-v-d6a68437><td data-v-d6a68437><label for="arquivoLexico" data-v-d6a68437>Analisador Léxico</label></td><td data-v-d6a68437><input type="input" id="arquivoLexico" name="nomeLexico" value="Lexico" checked data-v-d6a68437></td></tr><tr data-v-d6a68437><td data-v-d6a68437><label for="arquivoSintatico" data-v-d6a68437>Analisador Sintático</label></td><td data-v-d6a68437><input type="input" id="arquivoSintatico" name="nomeSintatico" value="Sintatico" data-v-d6a68437></td></tr><tr data-v-d6a68437><td data-v-d6a68437><label for="arquivoSemantico" data-v-d6a68437>Analisador Semantico</label></td><td data-v-d6a68437><input type="input" id="arquivoSemantico" name="nomeSemantico" value="Semantico" data-v-d6a68437></td></tr><tr data-v-d6a68437><td data-v-d6a68437><label for="arquivoNamespace" data-v-d6a68437>Package / Namespace</label></td><td data-v-d6a68437><input type="input" id="arquivoNamespace" name="nameNamespace" value="" data-v-d6a68437></td></tr></table></fieldset>',3),dE=[fE],pE={id:"Léxico",class:"tabcontent"},gE=Ql('<fieldset data-v-d6a68437><legend data-v-d6a68437>Forma de Entrada</legend><div data-v-d6a68437><input type="radio" id="formaEntradaStream" name="tipoEntrada" value="Stream" checked data-v-d6a68437><label for="formaEntradaStream" data-v-d6a68437>Stream</label></div><div data-v-d6a68437><input type="radio" id="formaEntradaString" name="tipoEntrada" value="String" data-v-d6a68437><label for="formaEntradaString" data-v-d6a68437>String</label></div></fieldset><fieldset data-v-d6a68437><legend data-v-d6a68437>Implementação do Autômato</legend><div data-v-d6a68437><input type="radio" id="automatoCompleto" name="automato" value="Full" checked data-v-d6a68437><label for="automatoCompleto" data-v-d6a68437>Tabela Completa</label></div><div data-v-d6a68437><input type="radio" id="automatoCompactado" name="automato" value="Compact" data-v-d6a68437><label for="automatoCompactado" data-v-d6a68437>Tabela Compactada (Só para Java)</label></div><div data-v-d6a68437><input type="radio" id="automatoEspecifico" name="automato" value="Hardcode" data-v-d6a68437><label for="automatoEspecifico" data-v-d6a68437>Específica (Código)</label></div></fieldset><div data-v-d6a68437><input type="checkbox" id="sensibilidade" name="sensibilidade" data-v-d6a68437><label for="sensibilidade" data-v-d6a68437>Diferenciar maiúscula/minúscula em casos especiais</label></div>',3),mE=[gE],_E={id:"Sintático",class:"tabcontent"},vE=Ql('<fieldset data-v-d6a68437><legend data-v-d6a68437>Classe do Analisador Sintático</legend><fieldset data-v-d6a68437><legend data-v-d6a68437>Descendentes</legend><div data-v-d6a68437><input type="radio" id="sintaticoLLRec" name="parser" value="RD" data-v-d6a68437><label for="sintaticoLLRec" data-v-d6a68437>Descendente Recursivo</label></div><div data-v-d6a68437><input type="radio" id="sintaticoLLPred" name="parser" value="LL" data-v-d6a68437><label for="sintaticoLLPred" data-v-d6a68437>LL(1)</label></div></fieldset><fieldset data-v-d6a68437><legend data-v-d6a68437>Ascendentes</legend><div data-v-d6a68437><input type="radio" id="sintaticoSLR" name="parser" value="SLR" data-v-d6a68437><label for="sintaticoSLR" data-v-d6a68437>SLR(1)</label></div><div data-v-d6a68437><input type="radio" id="sintaticoLALR" name="parser" value="LALR" data-v-d6a68437><label for="sintaticoLALR" data-v-d6a68437>LALR(1)</label></div><div data-v-d6a68437><input type="radio" id="sintaticoLRCanonico" name="parser" value="LR" data-v-d6a68437><label for="sintaticoLRCanonico" data-v-d6a68437>LR(1)</label></div></fieldset></fieldset>',1),bE=[vE],TE=Gd(()=>be("button",{class:"btn_aplicarConfiguracoes"},"Aplicar",-1));function SE(i,e,t,n,s,o){return Je(),tt("div",aE,[lE,be("div",uE,[be("span",{id:"close",onClick:e[0]||(e[0]=(...l)=>i.fecharModal&&i.fecharModal(...l))}),be("div",cE,[be("button",{class:"tablinks active",onClick:e[1]||(e[1]=l=>i.changeTab("Geral"))},"Geral"),be("button",{class:"tablinks",onClick:e[2]||(e[2]=l=>i.changeTab("Léxico"))},"Léxico"),be("button",{class:"tablinks",onClick:e[3]||(e[3]=l=>i.changeTab("Sintático"))},"Sintático")]),be("form",{id:"formOptions",onSubmit:e[4]||(e[4]=V1((...l)=>i.enviarForms&&i.enviarForms(...l),["prevent"])),ref:"form"},[Vi(be("div",hE,dE,512),[[hl,i.activeTab=="Geral"]]),Vi(be("div",pE,mE,512),[[hl,i.activeTab=="Léxico"]]),Vi(be("div",_E,bE,512),[[hl,i.activeTab=="Sintático"]]),TE],544)])])}const yE=Pr(oE,[["render",SE],["__scopeId","data-v-d6a68437"]]),wE=sr({name:"BarraEsquerda",components:{AreaCodigo:Hd,ModalConfiguracoes:yE},data(){return{paginaAberta:"Projetos",estiloDisplayConteudo:"flex"}},setup(){const i=ei(),e=Hn(()=>i.selecionado),t=Hn(()=>i.listaProjetos);return{store:i,projetos:t,selecionado:e}},methods:{abrirProjetos(){this.colapsaConteudo("Projetos"),this.paginaAberta="Projetos"},abrirOpcoes(){if(this.selecionado===-1){alert("Nenhum projeto selecionado!");return}const i=document.getElementById("modal__configuracoes"),e=this.$refs.ModalConfiguracoesRef;i==null||e==null||e&&e.enviarForms&&(e.preencherModal(),i.style.display="flex")},abrirDocumentacao(){this.colapsaConteudo("Documentação"),this.paginaAberta="Documentação"},getLinkDocumentacaoHTML(){let i;return i="files/help.html",i},abrirArquivo(){const i=document.getElementById("file");if(i==null||i.files==null)return;const e=i.files[0],t=this.store,n=new FileReader;sE(()=>import("./index-browser-ad8fcd0d.js").then(s=>s.i),[]).then(({default:s})=>{s(e).then(o=>{o.encoding==null?n.readAsText(e,"ISO-8859-4"):n.readAsText(e,o.encoding.toString()),n.onload=function(){const l=n.result.split(/#Options\n|\n#RegularDefinitions\n|\n#Tokens\n|\n#NonTerminals\n|\n#Grammar\n/),u={id:t.totalProjetos,fileName:e.name,options:l[1]==null?"":l[1],regularDefinitions:l[2]==null?"":l[2],tokens:l[3]==null?"":l[3],nonTerminals:l[4]==null?"":l[4].split(`
`).filter(h=>!h.startsWith("//"))[0].trim(),grammar:l[5]==null?"":l[5],textSimulator:"",consoleExit:"",optionsGals:l[1]==null?new he:new he().constructorFromString(l[1]==null?"":l[1])};t.addProject(u),t.selectLastProject()},i.value=""})}).catch(s=>{console.error("Error importing DetectFileEncodingAndLanguage:",s)})},abrirModalNovoArquivo(){const i=document.getElementById("modal__arquivo");i!=null&&(i.style.display="flex");const e=document.getElementById("nomeProjeto");e!=null&&(e.value="")},salvarArquivo(){if(this.selecionado==-1)alert("Nenhum projeto selecionado!");else{const i=this.projetos[this.selecionado].options,e=this.projetos[this.selecionado].optionsGals,t=this.projetos[this.selecionado].regularDefinitions,n=this.projetos[this.selecionado].tokens,s=this.projetos[this.selecionado].nonTerminals,o=this.projetos[this.selecionado].grammar;let l="";l+=`#Options
`+(i==null?"":e.toString())+`
`,l+=`#RegularDefinitions
`+(t??"")+`
`,l+=`#Tokens
`+(n??"")+`
`,l+=`#NonTerminals
`+(s==null?"":hw(s,o))+`
`,l+=`#Grammar
`+(o??""),xf.download(l,this.projetos[this.selecionado].fileName,".gals")}},abrirInformacoes(){this.colapsaConteudo("Informações"),this.paginaAberta="Informações"},colapsaConteudo(i){this.paginaAberta==i?this.estiloDisplayConteudo=this.estiloDisplayConteudo=="flex"?"none":"flex":this.estiloDisplayConteudo="flex"},mostrarTabelaLexico(){const i=this.store.selecionado,e=this.store.listaProjetos[i],t=ow(e.regularDefinitions,e.tokens),n=window.open();n&&(n.document.write(t),n.document.close()),e.consoleExit="Tabela criada com Sucesso!"},mostrarTabelaSintatico(){const i=this.store.selecionado,e=this.store.listaProjetos[i],t=lw(e.regularDefinitions,e.tokens,e.nonTerminals,e.grammar,he.PARSER_SLR,null);xf.download(t,this.projetos[this.selecionado].fileName,".html");const n=window.open();n&&(n.document.write(t),n.document.close()),e.consoleExit="Tabela criada com Sucesso!"},mostrarTabelaConjuntoSintatico(){const i=this.store.selecionado,e=this.store.listaProjetos[i],t=uw(e.regularDefinitions,e.tokens,e.nonTerminals,e.grammar,he.PARSER_SLR,null),n=window.open();n&&(n.document.write(t),n.document.close()),e.consoleExit="Tabela criada com Sucesso!"},mostrarTabelaFirstFollowSintatico(){const i=this.store.selecionado,e=this.store.listaProjetos[i],t=cw(e.regularDefinitions,e.tokens,e.nonTerminals,e.grammar,he.PARSER_SLR),n=window.open();n&&(n.document.write(t),n.document.close()),e.consoleExit="Tabela criada com Sucesso!"}}});const EE={class:"barra__esquerda"},AE={class:"selecao__botoes"},kE={name:"file",type:"file",id:"file",ref:"myFiles",accept:".gals"},xE={key:0,class:"abaProjetos"},CE={class:"lista__projetos"},RE=["onClick"],NE=["onClick"],IE={class:"codigo__definicao__regulares"},LE={key:1},OE={key:0},PE={key:2},FE={key:3},DE={class:"container__links"},ME=["href"];function zE(i,e,t,n,s,o){const l=yn("ModalConfiguracoes"),u=yn("AreaCodigo");return Je(),tt(Wt,null,[We(l,{ref:"ModalConfiguracoesRef"},null,512),be("div",EE,[be("div",AE,[be("button",{class:tr(["botao projetos",i.paginaAberta=="Projetos"?"selecionado":"nao_selecionado"]),onClick:e[0]||(e[0]=(...h)=>i.abrirProjetos&&i.abrirProjetos(...h))},null,2),be("button",{class:"botao novo__projeto",onClick:e[1]||(e[1]=(...h)=>i.abrirModalNovoArquivo&&i.abrirModalNovoArquivo(...h))}),be("label",{class:"botao__input",onChange:e[2]||(e[2]=(...h)=>i.abrirArquivo&&i.abrirArquivo(...h))},[be("input",kE,null,512),yd(" Custom Upload ")],32),be("button",{class:"botao salvar",onClick:e[3]||(e[3]=(...h)=>i.salvarArquivo&&i.salvarArquivo(...h))}),be("button",{class:tr(["botao documentacao",i.paginaAberta=="Documentação"?"selecionado":"nao_selecionado"]),onClick:e[4]||(e[4]=(...h)=>i.abrirDocumentacao&&i.abrirDocumentacao(...h))},null,2),be("button",{class:"botao opcao",onClick:e[5]||(e[5]=(...h)=>i.abrirOpcoes&&i.abrirOpcoes(...h))}),be("button",{class:tr(["botao informacoes",i.paginaAberta=="Informações"?"selecionado":"nao_selecionado"]),onClick:e[6]||(e[6]=(...h)=>i.abrirInformacoes&&i.abrirInformacoes(...h))},null,2)]),be("div",{class:"conteudo",style:xi({display:i.estiloDisplayConteudo})},[be("h2",null,nr(i.paginaAberta),1),i.paginaAberta=="Projetos"?(Je(),tt("div",xE,[be("div",CE,[(Je(!0),tt(Wt,null,Yl(i.projetos,h=>(Je(),tt("div",{key:h.id,class:"projeto__acaoes"},[be("button",{onClick:f=>i.store.changeSelected(h.id),class:tr(["botao__mudar__projeto",i.selecionado==h.id?"selecionado__projeto":""])},nr(h.fileName),11,RE),be("button",{onClick:f=>i.store.deleteProject(h.id),class:"botao__excluir__projeto"}," X ",8,NE)]))),128))]),be("div",IE,[We(u,{titulo:"Definições Regulares"})]),We(u,{titulo:"Simbolo inicial"})])):i.paginaAberta=="Opções"?(Je(),tt("div",LE,[i.store.totalProjetos>0?(Je(),tt("div",OE,[be("p",null,nr(i.projetos[i.selecionado].options),1)])):us("",!0)])):i.paginaAberta=="Documentação"?(Je(),tt("div",PE,[be("button",{class:"btn",onClick:e[7]||(e[7]=(...h)=>i.mostrarTabelaLexico&&i.mostrarTabelaLexico(...h))},"Tabela de Análise Léxica"),be("button",{class:"btn",onClick:e[8]||(e[8]=(...h)=>i.mostrarTabelaSintatico&&i.mostrarTabelaSintatico(...h))},"Tabela de Análise Sintática"),be("button",{class:"btn",onClick:e[9]||(e[9]=(...h)=>i.mostrarTabelaConjuntoSintatico&&i.mostrarTabelaConjuntoSintatico(...h))},"Conjunto de itens"),be("button",{class:"btn",onClick:e[10]||(e[10]=(...h)=>i.mostrarTabelaFirstFollowSintatico&&i.mostrarTabelaFirstFollowSintatico(...h))},"First & Follow")])):i.paginaAberta=="Informações"?(Je(),tt("div",FE,[be("div",DE,[be("a",{class:"link",href:i.getLinkDocumentacaoHTML(),target:"_blank"},"DOCUMENTAÇÃO",8,ME)])])):us("",!0)],4)])],64)}const BE=Pr(wE,[["render",zE],["__scopeId","data-v-b8a7f9ed"]]),UE=sr({name:"ModalNovoArquivo",components:{},setup(){return{store:ei()}},methods:{fecharModal(){const i=document.getElementById("modal__arquivo");i!=null&&(i.style.display="none")},adicionarProjeto(){const i=document.getElementById("nomeProjeto");if(i!=null){let e=i.value.trim()+".gals";const t={id:this.store.totalProjetos,fileName:e,options:"",regularDefinitions:"",tokens:"",nonTerminals:"",grammar:"",textSimulator:"",consoleExit:"",optionsGals:new he};this.store.addProject(t),this.store.selectLastProject(),this.fecharModal()}}}});const Kd=i=>(Mo("data-v-70fa1760"),i=i(),zo(),i),jE={class:"modal__arquivo",id:"modal__arquivo"},$E=Kd(()=>be("h2",null,"Novo Projeto",-1)),HE={class:"modal__arquivo__inner",id:"modal__arquivo__inner"},WE=Kd(()=>be("input",{type:"text",id:"nomeProjeto"},null,-1));function GE(i,e,t,n,s,o){return Je(),tt("div",jE,[$E,be("div",HE,[be("span",{id:"close",onClick:e[0]||(e[0]=(...l)=>i.fecharModal&&i.fecharModal(...l))}),WE,be("button",{onClick:e[1]||(e[1]=(...l)=>i.adicionarProjeto&&i.adicionarProjeto(...l))},"Criar")])])}const KE=Pr(UE,[["render",GE],["__scopeId","data-v-70fa1760"]]),qE={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((i,e)=>(i[e.id]=e)&&i,{})}},methods:{updatePaneComponents(){this.panes.forEach(i=>{i.update&&i.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[i.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(i,e){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=e},onMouseMove(i){this.touch.mouseDown&&(i.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(i)),this.$emit("resize",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(i=>({min:i.min,max:i.max,size:i.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(i,e){"ontouchstart"in window&&(i.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===e?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(i,e),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=e,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[e])},onSplitterDblClick(i,e){let t=0;this.panes=this.panes.map((n,s)=>(n.size=s===e?n.max:n.min,s!==e&&(t+=n.min),n)),this.panes[e].size-=t,this.$emit("pane-maximize",this.panes[e]),this.$emit("resized",this.panes.map(n=>({min:n.min,max:n.max,size:n.size})))},onPaneClick(i,e){this.$emit("pane-click",this.indexedPanes[e])},getCurrentMouseDrag(i){const e=this.container.getBoundingClientRect(),{clientX:t,clientY:n}="ontouchstart"in window&&i.touches?i.touches[0]:i;return{x:t-e.left,y:n-e.top}},getCurrentDragPercentage(i){i=i[this.horizontal?"y":"x"];const e=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(i=e-i),i*100/e},calculatePanesSize(i){const e=this.touch.activeSplitter;let t={prevPanesSize:this.sumPrevPanesSize(e),nextPanesSize:this.sumNextPanesSize(e),prevReachedMinPanes:0,nextReachedMinPanes:0};const n=0+(this.pushOtherPanes?0:t.prevPanesSize),s=100-(this.pushOtherPanes?0:t.nextPanesSize),o=Math.max(Math.min(this.getCurrentDragPercentage(i),s),n);let l=[e,e+1],u=this.panes[l[0]]||null,h=this.panes[l[1]]||null;const f=u.max<100&&o>=u.max+t.prevPanesSize,v=h.max<100&&o<=100-(h.max+this.sumNextPanesSize(e+1));if(f||v){f?(u.size=u.max,h.size=Math.max(100-u.max-t.prevPanesSize-t.nextPanesSize,0)):(u.size=Math.max(100-h.max-t.prevPanesSize-this.sumNextPanesSize(e+1),0),h.size=h.max);return}if(this.pushOtherPanes){const g=this.doPushOtherPanes(t,o);if(!g)return;({sums:t,panesToResize:l}=g),u=this.panes[l[0]]||null,h=this.panes[l[1]]||null}u!==null&&(u.size=Math.min(Math.max(o-t.prevPanesSize-t.prevReachedMinPanes,u.min),u.max)),h!==null&&(h.size=Math.min(Math.max(100-o-t.nextPanesSize-t.nextReachedMinPanes,h.min),h.max))},doPushOtherPanes(i,e){const t=this.touch.activeSplitter,n=[t,t+1];return e<i.prevPanesSize+this.panes[n[0]].min&&(n[0]=this.findPrevExpandedPane(t).index,i.prevReachedMinPanes=0,n[0]<t&&this.panes.forEach((s,o)=>{o>n[0]&&o<=t&&(s.size=s.min,i.prevReachedMinPanes+=s.min)}),i.prevPanesSize=this.sumPrevPanesSize(n[0]),n[0]===void 0)?(i.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((s,o)=>{o>0&&o<=t&&(s.size=s.min,i.prevReachedMinPanes+=s.min)}),this.panes[n[1]].size=100-i.prevReachedMinPanes-this.panes[0].min-i.prevPanesSize-i.nextPanesSize,null):e>100-i.nextPanesSize-this.panes[n[1]].min&&(n[1]=this.findNextExpandedPane(t).index,i.nextReachedMinPanes=0,n[1]>t+1&&this.panes.forEach((s,o)=>{o>t&&o<n[1]&&(s.size=s.min,i.nextReachedMinPanes+=s.min)}),i.nextPanesSize=this.sumNextPanesSize(n[1]-1),n[1]===void 0)?(i.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((s,o)=>{o<this.panesCount-1&&o>=t+1&&(s.size=s.min,i.nextReachedMinPanes+=s.min)}),this.panes[n[0]].size=100-i.prevPanesSize-i.nextReachedMinPanes-this.panes[this.panesCount-1].min-i.nextPanesSize,null):{sums:i,panesToResize:n}},sumPrevPanesSize(i){return this.panes.reduce((e,t,n)=>e+(n<i?t.size:0),0)},sumNextPanesSize(i){return this.panes.reduce((e,t,n)=>e+(n>i+1?t.size:0),0)},findPrevExpandedPane(i){return[...this.panes].reverse().find(e=>e.index<i&&e.size>e.min)||{}},findNextExpandedPane(i){return this.panes.find(e=>e.index>i+1&&e.size>e.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(i=>{const e=i.classList.contains("splitpanes__pane"),t=i.classList.contains("splitpanes__splitter");!e&&!t&&(i.parentNode.removeChild(i),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))})},addSplitter(i,e,t=!1){const n=i-1,s=document.createElement("div");s.classList.add("splitpanes__splitter"),t||(s.onmousedown=o=>this.onMouseDown(o,n),typeof window<"u"&&"ontouchstart"in window&&(s.ontouchstart=o=>this.onMouseDown(o,n)),s.onclick=o=>this.onSplitterClick(o,n+1)),this.dblClickSplitter&&(s.ondblclick=o=>this.onSplitterDblClick(o,n+1)),e.parentNode.insertBefore(s,e)},removeSplitter(i){i.onmousedown=void 0,i.onclick=void 0,i.ondblclick=void 0,i.parentNode.removeChild(i)},redoSplitters(){const i=Array.from(this.container.children);i.forEach(t=>{t.className.includes("splitpanes__splitter")&&this.removeSplitter(t)});let e=0;i.forEach(t=>{t.className.includes("splitpanes__pane")&&(!e&&this.firstSplitter?this.addSplitter(e,t,!0):e&&this.addSplitter(e,t),e++)})},requestUpdate({target:i,...e}){const t=this.indexedPanes[i._.uid];Object.entries(e).forEach(([n,s])=>t[n]=s)},onPaneAdd(i){let e=-1;Array.from(i.$el.parentNode.children).some(s=>(s.className.includes("splitpanes__pane")&&e++,s===i.$el));const t=parseFloat(i.minSize),n=parseFloat(i.maxSize);this.panes.splice(e,0,{id:i._.uid,index:e,min:isNaN(t)?0:t,max:isNaN(n)?100:n,size:i.size===null?null:parseFloat(i.size),givenSize:i.size,update:i.update}),this.panes.forEach((s,o)=>s.index=o),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[e]}),this.$emit("pane-add",{index:e,panes:this.panes.map(s=>({min:s.min,max:s.max,size:s.size}))})})},onPaneRemove(i){const e=this.panes.findIndex(n=>n.id===i._.uid),t=this.panes.splice(e,1)[0];this.panes.forEach((n,s)=>n.index=s),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:{...t,index:e}}),this.$emit("pane-remove",{removed:t,panes:this.panes.map(n=>({min:n.min,max:n.max,size:n.size}))})})},resetPaneSizes(i={}){!i.addedPane&&!i.removedPane?this.initialPanesSizing():this.panes.some(e=>e.givenSize!==null||e.min||e.max<100)?this.equalizeAfterAddOrRemove(i):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size})))},equalize(){const i=100/this.panesCount;let e=0;const t=[],n=[];this.panes.forEach(s=>{s.size=Math.max(Math.min(i,s.max),s.min),e-=s.size,s.size>=s.max&&t.push(s.id),s.size<=s.min&&n.push(s.id)}),e>.1&&this.readjustSizes(e,t,n)},initialPanesSizing(){let i=100;const e=[],t=[];let n=0;this.panes.forEach(o=>{i-=o.size,o.size!==null&&n++,o.size>=o.max&&e.push(o.id),o.size<=o.min&&t.push(o.id)});let s=100;i>.1&&(this.panes.forEach(o=>{o.size===null&&(o.size=Math.max(Math.min(i/(this.panesCount-n),o.max),o.min)),s-=o.size}),s>.1&&this.readjustSizes(i,e,t))},equalizeAfterAddOrRemove({addedPane:i,removedPane:e}={}){let t=100/this.panesCount,n=0;const s=[],o=[];i&&i.givenSize!==null&&(t=(100-i.givenSize)/(this.panesCount-1)),this.panes.forEach(l=>{n-=l.size,l.size>=l.max&&s.push(l.id),l.size<=l.min&&o.push(l.id)}),!(Math.abs(n)<.1)&&(this.panes.forEach(l=>{i&&i.givenSize!==null&&i.id===l.id||(l.size=Math.max(Math.min(t,l.max),l.min)),n-=l.size,l.size>=l.max&&s.push(l.id),l.size<=l.min&&o.push(l.id)}),n>.1&&this.readjustSizes(n,s,o))},readjustSizes(i,e,t){let n;i>0?n=i/(this.panesCount-e.length):n=i/(this.panesCount-t.length),this.panes.forEach((s,o)=>{if(i>0&&!e.includes(s.id)){const l=Math.max(Math.min(s.size+n,s.max),s.min),u=l-s.size;i-=u,s.size=l}else if(!t.includes(s.id)){const l=Math.max(Math.min(s.size+n,s.max),s.min),u=l-s.size;i-=u,s.size=l}s.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[s.id].size}%`})}),Math.abs(i)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(i){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((e,t)=>{e.ondblclick=i?n=>this.onSplitterDblClick(n,t):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return Tr("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}},ZE=(i,e)=>{const t=i.__vccOpts||i;for(const[n,s]of e)t[n]=s;return t},YE={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(i){this.style=i}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(i){this.requestUpdate({target:this,size:i})},minSizeNumber(i){this.requestUpdate({target:this,min:i})},maxSizeNumber(i){this.requestUpdate({target:this,max:i})}}};function VE(i,e,t,n,s,o){return Je(),tt("div",{class:"splitpanes__pane",onClick:e[0]||(e[0]=l=>o.onPaneClick(l,i._.uid)),style:xi(i.style)},[YS(i.$slots,"default")],4)}const XE=ZE(YE,[["render",VE]]);const JE=sr({name:"GalsWeb",components:{BarraSuperior:yw,AreaCodigo:Hd,Splitpanes:qE,Pane:XE,SimuladorJanela:nE,BarraEsquerda:BE,ModalNovoArquivo:KE},setup(){const i=ei();return{layout:Hn(()=>i.layout)}},methods:{resizeLayout(i){this.layout.token=i[0].size,this.layout.simulacao=i[1].size,this.layout.saidaSimulacao=i[2].size}}});const QE={class:"contentor__geral"},eA={class:"contentor__esquerda"},tA={class:"contentor__centro"},nA={class:"contentor__centro__superior"},rA={class:"contentor__centro__inferior"};function iA(i,e,t,n,s,o){const l=yn("ModalNovoArquivo"),u=yn("BarraSuperior"),h=yn("BarraEsquerda"),f=yn("AreaCodigo"),v=yn("pane"),g=yn("SimuladorJanela"),b=yn("splitpanes");return Je(),tt(Wt,null,[We(l),We(u),be("div",QE,[be("div",eA,[We(h)]),be("div",tA,[be("div",nA,[We(b,{horizontal:"",id:"splitpanesHorizontal",onResize:e[1]||(e[1]=m=>i.layout.gramatica=m[1].size)},{default:br(()=>[We(v,{size:100-i.layout.gramatica},{default:br(()=>[We(b,{vertival:"",onResize:e[0]||(e[0]=m=>i.resizeLayout(m))},{default:br(()=>[We(v,{size:i.layout.token},{default:br(()=>[We(f,{titulo:"Tokens"})]),_:1},8,["size"]),We(v,{size:i.layout.simulacao},{default:br(()=>[We(f,{titulo:"Simulação"})]),_:1},8,["size"]),We(v,{size:i.layout.saidaSimulacao},{default:br(()=>[We(g)]),_:1},8,["size"])]),_:1})]),_:1},8,["size"]),We(v,{size:i.layout.gramatica},{default:br(()=>[We(f,{titulo:"Gramática"})]),_:1},8,["size"])]),_:1})]),be("div",rA,[We(f,{titulo:"Saída"})])])])],64)}const sA=Pr(JE,[["render",iA]]),qd=Q1(sA);qd.use(ny());qd.mount("#app");export{nu as g};
